var lO=Object.defineProperty,dO=Object.defineProperties;var hO=Object.getOwnPropertyDescriptors;var tb=Object.getOwnPropertySymbols,fO=Object.getPrototypeOf,pO=Object.prototype.hasOwnProperty,gO=Object.prototype.propertyIsEnumerable,mO=Reflect.get;var nb=(t,e,n)=>e in t?lO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})pO.call(e,n)&&nb(t,n,e[n]);if(tb)for(var n of tb(e))gO.call(e,n)&&nb(t,n,e[n]);return t},re=(t,e)=>dO(t,hO(e));var di=(t,e,n)=>mO(fO(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var sm;function nd(){return sm}function Jn(t){let e=sm;return sm=t,e}var rb=Symbol("NotFound");function gs(t){return t===rb||t?.name==="\u0275NotFound"}var At=null,rd=!1,am=1,yO=null,Lt=Symbol("SIGNAL");function ne(t){let e=At;return At=t,e}function ad(){return At}var ms={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ys(t){if(rd)throw new Error("");if(At===null)return;At.consumerOnSignalRead(t);let e=At.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=At.recomputing;if(r&&(n=e!==void 0?e.nextProducer:At.producers,n!==void 0&&n.producer===t)){At.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===At&&(!r||_O(i,At)))return;let o=_s(At),s={producer:t,consumer:At,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};At.producersTail=s,e!==void 0?e.nextProducer=s:At.producers=s,o&&ab(t,s)}function ib(){am++}function cd(t){if(!(_s(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===am)){if(!t.producerMustRecompute(t)&&!Dc(t)){sd(t);return}t.producerRecomputeValue(t),sd(t)}}function cm(t){if(t.consumers===void 0)return;let e=rd;rd=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||vO(r)}}finally{rd=e}}function um(){return At?.consumerAllowSignalWrites!==!1}function vO(t){t.dirty=!0,cm(t),t.consumerMarkedDirty?.(t)}function sd(t){t.dirty=!1,t.lastCleanEpoch=am}function vs(t){return t&&ob(t),ne(t)}function ob(t){t.producersTail=void 0,t.recomputing=!0}function wc(t,e){ne(e),t&&sb(t)}function sb(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(_s(t))do n=lm(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Dc(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(cd(n),r!==n.version))return!0}return!1}function Tc(t){if(_s(t)){let e=t.producers;for(;e!==void 0;)e=lm(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function ab(t,e){let n=t.consumersTail,r=_s(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)ab(i.producer,i)}function lm(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!_s(e)){let o=e.producers;for(;o!==void 0;)o=lm(o)}return n}function _s(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function ud(t){yO?.(t)}function _O(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ld(t,e){return Object.is(t,e)}function dd(t,e){let n=Object.create(EO);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(cd(n),ys(n),n.value===Ic)throw n.error;return n.value};return r[Lt]=n,ud(n),r}var id=Symbol("UNSET"),od=Symbol("COMPUTING"),Ic=Symbol("ERRORED"),EO=re(k({},ms),{value:id,dirty:!0,error:null,equal:ld,kind:"computed",producerMustRecompute(t){return t.value===id||t.value===od},producerRecomputeValue(t){if(t.value===od)throw new Error("");let e=t.value;t.value=od;let n=vs(t),r,i=!1;try{r=t.computation(),ne(null),i=e!==id&&e!==Ic&&r!==Ic&&t.equal(e,r)}catch(o){r=Ic,t.error=o}finally{wc(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function IO(){throw new Error}var cb=IO;function ub(t){cb(t)}function dm(t){cb=t}var wO=null;function hm(t,e){let n=Object.create(hd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>lb(n);return r[Lt]=n,ud(n),[r,s=>Es(n,s),s=>fm(n,s)]}function lb(t){return ys(t),t.value}function Es(t,e){um()||ub(t),t.equal(t.value,e)||(t.value=e,DO(t))}function fm(t,e){um()||ub(t),Es(t,e(t.value))}var hd=re(k({},ms),{equal:ld,value:void 0,kind:"signal"});function DO(t){t.version++,ib(),cm(t),wO?.(t)}function ae(t){return typeof t=="function"}function Is(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var fd=Is(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Fe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof fd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{db(o)}catch(s){e=e??[],s instanceof fd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)db(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&uo(n,e)}remove(e){let{_finalizers:n}=this;n&&uo(n,e),e instanceof t&&e._removeParent(this)}};Fe.EMPTY=(()=>{let t=new Fe;return t.closed=!0,t})();var pm=Fe.EMPTY;function pd(t){return t instanceof Fe||t&&"closed"in t&&ae(t.remove)&&ae(t.add)&&ae(t.unsubscribe)}function db(t){ae(t)?t():t.unsubscribe()}var An={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ws={setTimeout(t,e,...n){let{delegate:r}=ws;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ws;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gd(t){ws.setTimeout(()=>{let{onUnhandledError:e}=An;if(e)e(t);else throw t})}function bc(){}var hb=gm("C",void 0,void 0);function fb(t){return gm("E",void 0,t)}function pb(t){return gm("N",t,void 0)}function gm(t,e,n){return{kind:t,value:e,error:n}}var lo=null;function Ds(t){if(An.useDeprecatedSynchronousErrorHandling){let e=!lo;if(e&&(lo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=lo;if(lo=null,n)throw r}}else t()}function gb(t){An.useDeprecatedSynchronousErrorHandling&&lo&&(lo.errorThrown=!0,lo.error=t)}var ho=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pd(e)&&e.add(this)):this.destination=CO}static create(e,n,r){return new Ts(e,n,r)}next(e){this.isStopped?ym(pb(e),this):this._next(e)}error(e){this.isStopped?ym(fb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ym(hb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TO=Function.prototype.bind;function mm(t,e){return TO.call(t,e)}var vm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){md(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){md(r)}else md(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){md(n)}}},Ts=class extends ho{constructor(e,n,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&An.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mm(e.next,o),error:e.error&&mm(e.error,o),complete:e.complete&&mm(e.complete,o)}):i=e}this.destination=new vm(i)}};function md(t){An.useDeprecatedSynchronousErrorHandling?gb(t):gd(t)}function bO(t){throw t}function ym(t,e){let{onStoppedNotification:n}=An;n&&ws.setTimeout(()=>n(t,e))}var CO={closed:!0,next:bc,error:bO,complete:bc};var bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(t){return t}function yd(...t){return _m(t)}function _m(t){return t.length===0?tn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=AO(n)?n:new Ts(n,r,i);return Ds(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mb(r),new r((i,o)=>{let s=new Ts({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[bs](){return this}pipe(...n){return _m(n)(this)}toPromise(n){return n=mb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function mb(t){var e;return(e=t??An.Promise)!==null&&e!==void 0?e:Promise}function SO(t){return t&&ae(t.next)&&ae(t.error)&&ae(t.complete)}function AO(t){return t&&t instanceof ho||SO(t)&&pd(t)}function Em(t){return ae(t?.lift)}function ve(t){return e=>{if(Em(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(t,e,n,r,i){return new Im(t,e,n,r,i)}var Im=class extends ho{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Cs(){return ve((t,e)=>{let n=null;t._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ss=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Em(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let n=this.getSubject();e.add(this.source.subscribe(fe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Cs()(this)}};var yb=Is(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new vd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yb}next(n){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ds(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pm:(this.currentObservers=null,o.push(n),new Fe(()=>{this.currentObservers=null,uo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new vd(e,n),t})(),vd=class extends We{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:pm}};var vt=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var wm={now(){return(wm.delegate||Date).now()},delegate:void 0};var _d=class extends Fe{constructor(e,n){super()}schedule(e,n=0){return this}};var Cc={setInterval(t,e,...n){let{delegate:r}=Cc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Cc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var As=class extends _d{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Cc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Cc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Rs.now=wm.now;var Ns=class extends Rs{constructor(e,n=Rs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Dm=new Ns(As);var Ed=class extends As{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Id=class extends Ns{};var Tm=new Id(Ed);var zt=new ee(t=>t.complete());function vb(t){return t&&ae(t.schedule)}function _b(t){return t[t.length-1]}function wd(t){return ae(_b(t))?t.pop():void 0}function hi(t){return vb(_b(t))?t.pop():void 0}function Dd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ib(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Eb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fo(t){return this instanceof fo?(this.v=t,this):new fo(t)}function wb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(N){return new Promise(function(R,O){o.push([y,N,R,O])>1||u(y,N)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof fo?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,D){y(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Db(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Eb=="function"?Eb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Td=t=>t&&typeof t.length=="number"&&typeof t!="function";function bd(t){return ae(t?.then)}function Cd(t){return ae(t[bs])}function Sd(t){return Symbol.asyncIterator&&ae(t?.[Symbol.asyncIterator])}function Ad(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rd=RO();function Nd(t){return ae(t?.[Rd])}function Md(t){return wb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield fo(n.read());if(i)return yield fo(void 0);yield yield fo(r)}}finally{n.releaseLock()}})}function Pd(t){return ae(t?.getReader)}function Ke(t){if(t instanceof ee)return t;if(t!=null){if(Cd(t))return NO(t);if(Td(t))return MO(t);if(bd(t))return PO(t);if(Sd(t))return Tb(t);if(Nd(t))return xO(t);if(Pd(t))return kO(t)}throw Ad(t)}function NO(t){return new ee(e=>{let n=t[bs]();if(ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MO(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function PO(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gd)})}function xO(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Tb(t){return new ee(e=>{OO(t,e).catch(n=>e.error(n))})}function kO(t){return Tb(Md(t))}function OO(t,e){var n,r,i,o;return Ib(this,void 0,void 0,function*(){try{for(n=Db(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function fi(t,e=0){return ve((n,r)=>{n.subscribe(fe(r,i=>Gt(r,t,()=>r.next(i),e),()=>Gt(r,t,()=>r.complete(),e),i=>Gt(r,t,()=>r.error(i),e)))})}function pi(t,e=0){return ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bb(t,e){return Ke(t).pipe(pi(e),fi(e))}function Cb(t,e){return Ke(t).pipe(pi(e),fi(e))}function Sb(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ab(t,e){return new ee(n=>{let r;return Gt(n,e,()=>{r=t[Rd](),Gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function xd(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{Gt(n,e,()=>{let r=t[Symbol.asyncIterator]();Gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Rb(t,e){return xd(Md(t),e)}function Nb(t,e){if(t!=null){if(Cd(t))return bb(t,e);if(Td(t))return Sb(t,e);if(bd(t))return Cb(t,e);if(Sd(t))return xd(t,e);if(Nd(t))return Ab(t,e);if(Pd(t))return Rb(t,e)}throw Ad(t)}function pe(t,e){return e?Nb(t,e):Ke(t)}function Q(...t){let e=hi(t);return pe(t,e)}function Rn(t,e){let n=ae(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function bm(t){return!!t&&(t instanceof ee||ae(t.lift)&&ae(t.subscribe))}var Rr=Is(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return ve((n,r)=>{let i=0;n.subscribe(fe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:FO}=Array;function LO(t,e){return FO(e)?t(...e):t(e)}function kd(t){return Z(e=>LO(t,e))}var{isArray:VO}=Array,{getPrototypeOf:jO,prototype:UO,keys:BO}=Object;function Od(t){if(t.length===1){let e=t[0];if(VO(e))return{args:e,keys:null};if($O(e)){let n=BO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $O(t){return t&&typeof t=="object"&&jO(t)===UO}function Fd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Sc(...t){let e=hi(t),n=wd(t),{args:r,keys:i}=Od(t);if(r.length===0)return pe([],e);let o=new ee(HO(r,e,i?s=>Fd(i,s):tn));return n?o.pipe(kd(n)):o}function HO(t,e,n=tn){return r=>{Mb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Mb(e,()=>{let l=pe(t[u],e),h=!1;l.subscribe(fe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Mb(t,e,n){t?Gt(n,t,e):e()}function Pb(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?D(N):u.push(N),D=N=>{o&&e.next(N),l++;let R=!1;Ke(n(N,h++)).subscribe(fe(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?Gt(e,s,()=>D(O)):D(O)}g()}catch(O){e.error(O)}}))};return t.subscribe(fe(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ue(t,e,n=1/0){return ae(e)?Ue((r,i)=>Z((o,s)=>e(r,o,i,s))(Ke(t(r,i))),n):(typeof e=="number"&&(n=e),ve((r,i)=>Pb(r,i,t,n)))}function Ms(t=1/0){return Ue(tn,t)}function xb(){return Ms(1)}function Ps(...t){return xb()(pe(t,hi(t)))}function po(t){return new ee(e=>{Ke(t()).subscribe(e)})}function Cm(...t){let e=wd(t),{args:n,keys:r}=Od(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ke(n[h]).subscribe(fe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Fd(r,a):a),o.complete())}))}});return e?i.pipe(kd(e)):i}function Vt(t,e){return ve((n,r)=>{let i=0;n.subscribe(fe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function jt(t){return ve((e,n)=>{let r=null,i=!1,o;r=e.subscribe(fe(n,void 0,void 0,s=>{o=Ke(t(s,jt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function kb(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(fe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function gi(t,e){return ae(e)?Ue(t,e,1):Ue(t,1)}function mi(t){return ve((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nn(t){return t<=0?()=>zt:ve((e,n)=>{let r=0;e.subscribe(fe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ld(t=qO){return ve((e,n)=>{let r=!1;e.subscribe(fe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qO(){return new Rr}function Ac(t){return ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Nr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):tn,nn(1),n?mi(e):Ld(()=>new Rr))}function xs(t){return t<=0?()=>zt:ve((e,n)=>{let r=[];e.subscribe(fe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Vt((i,o)=>t(i,o,r)):tn,xs(1),n?mi(e):Ld(()=>new Rr))}function Vd(t,e){return ve(kb(t,e,arguments.length>=2,!0))}function jd(...t){let e=hi(t);return ve((n,r)=>{(e?Ps(t,n,e):Ps(t,n)).subscribe(r)})}function at(t,e){return ve((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(fe(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(t(u,h)).subscribe(i=fe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ud(t){return ve((e,n)=>{Ke(t).subscribe(fe(n,()=>n.complete(),bc)),!n.closed&&e.subscribe(n)})}function dt(t,e,n){let r=ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?ve((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(fe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tn}function Ob(t){let e=ne(null);try{return t()}finally{ne(e)}}var yi=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Um=new yi("20.3.3");var qd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(e,n){super(Os(e,n)),this.code=e}};function zO(t){return`NG0${Math.abs(t)}`}function Os(t,e){return`${zO(t)}${e?": "+e:""}`}var kr=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("")}function Vb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Pr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Pr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Bm(t,e){return t?e?`${t} ${e}`:t:e||""}var GO=De({__forward_ref__:De});function Ei(t){return t.__forward_ref__=Ei,t.toString=function(){return Pr(this())},t}function _t(t){return $m(t)?t():t}function $m(t){return typeof t=="function"&&t.hasOwnProperty(GO)&&t.__forward_ref__===Ei}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Mn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Pc(t){return WO(t,zd)}function Hm(t){return Pc(t)!==null}function WO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function KO(t){let e=t?.[zd]??null;return e||null}function Rm(t){return t&&t.hasOwnProperty($d)?t[$d]:null}var zd=De({\u0275prov:De}),$d=De({\u0275inj:De}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qm(t){return t&&!!t.\u0275providers}var zm=De({\u0275cmp:De}),Gm=De({\u0275dir:De}),Wm=De({\u0275pipe:De}),Km=De({\u0275mod:De}),Nc=De({\u0275fac:De}),_o=De({__NG_ELEMENT_ID__:De}),Fb=De({__NG_ENV_ID__:De});function xc(t){return typeof t=="string"?t:t==null?"":String(t)}function jb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xc(t)}var Ub=De({ngErrorCode:De}),QO=De({ngErrorMessage:De}),YO=De({ngTokenPath:De});function Qm(t,e){return Bb("",-200,e)}function Gd(t,e){throw new U(-201,!1)}function Bb(t,e,n){let r=new U(e,t);return r[Ub]=e,r[QO]=t,n&&(r[YO]=n),r}function ZO(t){return t[Ub]}var Nm;function $b(){return Nm}function Ut(t){let e=Nm;return Nm=t,e}function Ym(t,e,n){let r=Pc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Gd(t,"Injector")}var JO={},go=JO,Mm="__NG_DI_FLAG__",Pm=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=mo(n)||0;try{return this.injector.get(e,r&8?null:go,r)}catch(i){if(gs(i))return i;throw i}}};function XO(t,e=0){let n=nd();if(n===void 0)throw new U(-203,!1);if(n===null)return Ym(t,void 0,e);{let r=e1(e),i=n.retrieve(t,r);if(gs(i)){if(r.optional)return null;throw i}return i}}function z(t,e=0){return($b()||XO)(_t(t),e)}function P(t,e){return z(t,mo(e))}function mo(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function e1(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function xm(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new U(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=t1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function Hb(t,e){return t[Mm]=e,t.prototype[Mm]=e,t}function t1(t){return t[Mm]}function vi(t,e){let n=t.hasOwnProperty(Nc);return n?t[Nc]:null}function Wd(t,e){t.forEach(n=>Array.isArray(n)?Wd(n,e):e(n))}function Zm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function kc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function zb(t,e,n){let r=Fs(t,e);return r>=0?t[r|1]=n:(r=~r,qb(t,r,e,n)),r}function Kd(t,e){let n=Fs(t,e);if(n>=0)return t[n|1]}function Fs(t,e){return n1(t,e,1)}function n1(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ii={},rn=[],Or=new $(""),Jm=new $("",-1),Xm=new $(""),Mc=class{get(e,n=go){if(n===go){let i=Bb("",-201);throw i.name="\u0275NotFound",i}return n}};function ey(t){return t[Km]||null}function Fr(t){return t[zm]||null}function ty(t){return t[Gm]||null}function Gb(t){return t[Wm]||null}function Wt(t){return{\u0275providers:t}}function Wb(t){return Wt([{provide:Or,multi:!0,useValue:t}])}function Kb(...t){return{\u0275providers:ny(!0,t),\u0275fromNgModule:!0}}function ny(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Wd(e,s=>{let a=s;Hd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Qb(i,o),n}function Qb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ry(i,o=>{e(o,r)})}}function Hd(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,o=Rm(t),s=!o&&Fr(t);if(!o&&!s){let u=t.ngModule;if(o=Rm(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Hd(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Wd(o.imports,h=>{Hd(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&Qb(l,e)}if(!a){let l=vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:rn},i),e({provide:Xm,useValue:i,multi:!0},i),e({provide:Or,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;ry(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ry(t,e){for(let n of t)qm(n)&&(n=n.\u0275providers),Array.isArray(n)?ry(n,e):e(n)}var r1=De({provide:String,useValue:De});function Yb(t){return t!==null&&typeof t=="object"&&r1 in t}function i1(t){return!!(t&&t.useExisting)}function o1(t){return!!(t&&t.useFactory)}function yo(t){return typeof t=="function"}function Zb(t){return!!t.useClass}var Oc=new $(""),Bd={},Lb={},Am;function Fc(){return Am===void 0&&(Am=new Mc),Am}var Be=class{},vo=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Om(e,s=>this.processProvider(s)),this.records.set(Jm,ks(void 0,this)),i.has("environment")&&this.records.set(Be,ks(void 0,this));let o=this.records.get(Oc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xm,rn,{self:!0}))}retrieve(e,n){let r=mo(n)||0;try{return this.get(e,go,r)}catch(i){if(gs(i))return i;throw i}}destroy(){Rc(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return Rc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Rc(this);let n=Jn(this),r=Ut(void 0),i;try{return e()}finally{Jn(n),Ut(r)}}get(e,n=go,r){if(Rc(this),e.hasOwnProperty(Fb))return e[Fb](this);let i=mo(r),o,s=Jn(this),a=Ut(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=l1(e)&&Pc(e);h&&this.injectableDefInScope(h)?l=ks(km(e),Bd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Fc():this.parent;return n=i&8&&n===go?null:n,u.get(e,n)}catch(u){let l=ZO(u);throw l===-200||l===-201?new U(l,null):u}finally{Ut(a),Jn(s)}}resolveInjectorInitializers(){let e=ne(null),n=Jn(this),r=Ut(void 0),i;try{let o=this.get(Or,rn,{self:!0});for(let s of o)s()}finally{Jn(n),Ut(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Pr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_t(e);let n=yo(e)?e:_t(e&&e.provide),r=a1(e);if(!yo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ks(void 0,Bd,!0),i.factory=()=>xm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ne(null);try{if(n.value===Lb)throw Qm(Pr(e));return n.value===Bd&&(n.value=Lb,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&u1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function km(t){let e=Pc(t),n=e!==null?e.factory:vi(t);if(n!==null)return n;if(t instanceof $)throw new U(204,!1);if(t instanceof Function)return s1(t);throw new U(204,!1)}function s1(t){if(t.length>0)throw new U(204,!1);let n=KO(t);return n!==null?()=>n.factory(t):()=>new t}function a1(t){if(Yb(t))return ks(void 0,t.useValue);{let e=iy(t);return ks(e,Bd)}}function iy(t,e,n){let r;if(yo(t)){let i=_t(t);return vi(i)||km(i)}else if(Yb(t))r=()=>_t(t.useValue);else if(o1(t))r=()=>t.useFactory(...xm(t.deps||[]));else if(i1(t))r=(i,o)=>z(_t(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=_t(t&&(t.useClass||t.provide));if(c1(t))r=()=>new i(...xm(t.deps));else return vi(i)||km(i)}return r}function Rc(t){if(t.destroyed)throw new U(205,!1)}function ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function c1(t){return!!t.deps}function u1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function l1(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Om(t,e){for(let n of t)Array.isArray(n)?Om(n,e):n&&qm(n)?Om(n.\u0275providers,e):e(n)}function Qe(t,e){let n;t instanceof vo?(Rc(t),n=t):n=new Pm(t);let r,i=Jn(n),o=Ut(void 0);try{return e()}finally{Jn(i),Ut(o)}}function Jb(){return $b()!==void 0||nd()!=null}var Pn=0,J=1,ie=2,ht=3,gn=4,mn=5,Ls=6,Vs=7,$e=8,js=9,Xn=10,He=11,Us=12,oy=13,Eo=14,on=15,Io=16,wo=17,Do=18,Lc=19,sy=20,Mr=21,Qd=22,Vc=23,sn=24,To=25,Et=26,Ye=27,Xb=1,ay=6,wi=7,jc=8,Uc=9,ct=10;function er(t){return Array.isArray(t)&&typeof t[Xb]=="object"}function xn(t){return Array.isArray(t)&&t[Xb]===!0}function cy(t){return(t.flags&4)!==0}function Di(t){return t.componentOffset>-1}function Yd(t){return(t.flags&1)===1}function tr(t){return!!t.template}function Bs(t){return(t[ie]&512)!==0}function bo(t){return(t[ie]&256)===256}var eC="svg",tC="math";function yn(t){for(;Array.isArray(t);)t=t[Pn];return t}function uy(t,e){return yn(e[t])}function kn(t,e){return yn(e[t.index])}function Bc(t,e){return t.data[e]}function ly(t,e){return t[e]}function dy(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function vn(t,e){let n=e[t];return er(n)?n:n[Pn]}function Zd(t){return(t[ie]&128)===128}function nC(t){return xn(t[ht])}function nr(t,e){return e==null?null:t[e]}function hy(t){t[wo]=0}function fy(t){t[ie]&1024||(t[ie]|=1024,Zd(t)&&$s(t))}function rC(t,e){for(;t>0;)e=e[Eo],t--;return e}function $c(t){return!!(t[ie]&9216||t[sn]?.dirty)}function Jd(t){t[Xn].changeDetectionScheduler?.notify(8),t[ie]&64&&(t[ie]|=1024),$c(t)&&$s(t)}function $s(t){t[Xn].changeDetectionScheduler?.notify(0);let e=_i(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Zd(e)));)e=_i(e)}function py(t,e){if(bo(t))throw new U(911,!1);t[Mr]===null&&(t[Mr]=[]),t[Mr].push(e)}function iC(t,e){if(t[Mr]===null)return;let n=t[Mr].indexOf(e);n!==-1&&t[Mr].splice(n,1)}function _i(t){let e=t[ht];return xn(e)?e[ht]:e}function oC(t){return t[Vs]??=[]}function sC(t){return t.cleanup??=[]}var de={lFrame:EC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Fm=!1;function aC(){return de.lFrame.elementDepthCount}function cC(){de.lFrame.elementDepthCount++}function gy(){de.lFrame.elementDepthCount--}function uC(){return de.bindingsEnabled}function lC(){return de.skipHydrationRootTNode!==null}function my(t){return de.skipHydrationRootTNode===t}function yy(){de.skipHydrationRootTNode=null}function me(){return de.lFrame.lView}function Kt(){return de.lFrame.tView}function Lr(t){return de.lFrame.contextLView=t,t[$e]}function Vr(t){return de.lFrame.contextLView=null,t}function Bt(){let t=vy();for(;t!==null&&t.type===64;)t=t.parent;return t}function vy(){return de.lFrame.currentTNode}function dC(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hs(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function _y(){return de.lFrame.isParent}function hC(){de.lFrame.isParent=!1}function Ey(){return Fm}function Iy(t){let e=Fm;return Fm=t,e}function Hc(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function fC(t){return de.lFrame.bindingIndex=t}function qs(){return de.lFrame.bindingIndex++}function pC(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function gC(){return de.lFrame.inI18n}function mC(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xd(e)}function yC(){return de.lFrame.currentDirectiveIndex}function Xd(t){de.lFrame.currentDirectiveIndex=t}function vC(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wy(t){de.lFrame.currentQueryIndex=t}function d1(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[mn]:null}function Dy(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=d1(o),i===null||(o=o[Eo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=de.lFrame=_C();return r.currentTNode=e,r.lView=t,!0}function eh(t){let e=_C(),n=t[J];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _C(){let t=de.lFrame,e=t===null?null:t.child;return e===null?EC(t):e}function EC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function IC(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ty=IC;function th(){let t=IC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wC(t){return(de.lFrame.contextLView=rC(t,de.lFrame.contextLView))[$e]}function Ti(){return de.lFrame.selectedIndex}function bi(t){de.lFrame.selectedIndex=t}function by(){let t=de.lFrame;return Bc(t.tView,t.selectedIndex)}function DC(){return de.lFrame.currentNamespace}var TC=!0;function nh(){return TC}function rh(t){TC=t}function Lm(t,e=null,n=null,r){let i=Cy(t,e,n,r);return i.resolveInjectorInitializers(),i}function Cy(t,e=null,n=null,r,i=new Set){let o=[n||rn,Kb(t)];return r=r||(typeof t=="object"?void 0:Pr(t)),new vo(o,e||Fc(),r||null,i)}var Le=class t{static THROW_IF_NOT_FOUND=go;static NULL=new Mc;static create(e,n){if(Array.isArray(e))return Lm({name:""},n,e,"");{let r=e.name??"";return Lm({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:t,providedIn:"any",factory:()=>z(Jm)});static __NG_ELEMENT_ID__=-1},qe=new $(""),rr=(()=>{class t{static __NG_ELEMENT_ID__=h1;static __NG_ENV_ID__=n=>n}return t})(),Vm=class extends rr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return bo(this._lView)}onDestroy(e){let n=this._lView;return py(n,e),()=>iC(n,e)}};function h1(){return new Vm(me())}var Nn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rt=new $("",{providedIn:"root",factory:()=>{let t=P(Be),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Nn),e.handleError(n))}}}),bC={provide:Or,useValue:()=>void P(Nn),multi:!0},f1=new $("",{providedIn:"root",factory:()=>{let t=P(qe).defaultView;if(!t)return;let e=P(Rt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(rr).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Sy(){return Wt([Wb(()=>void P(f1))])}function _n(t,e){let[n,r,i]=hm(t,e?.equal),o=n,s=o[Lt];return o.set=r,o.update=i,o.asReadonly=CC.bind(o),o}function CC(){let t=this[Lt];if(t.readonlyFn===void 0){let e=()=>this();e[Lt]=t,t.readonlyFn=e}return t.readonlyFn}var xr=class{},qc=new $("",{providedIn:"root",factory:()=>!1});var Ay=new $(""),Ry=new $("");var ih=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=p1}return t})();function p1(){return new ih(me(),Bt())}var ir=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new vt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),zs=(()=>{class t{internalPendingTasks=P(ir);scheduler=P(xr);errorHandler=P(Rt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function zc(...t){}var Ny=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new jm})}return t})(),jm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Zs(t){return{toString:t}.toString()}var oh="__parameters__";function D1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function T1(t,e,n){return Zs(()=>{let r=D1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(oh)?u[oh]:Object.defineProperty(u,oh,{value:[]})[oh];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var an=Hb(T1("Optional"),8);function b1(t){return typeof t=="function"}var hh=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ur=(()=>{let t=()=>iS;return t.ngInherit=!0,t})();function iS(t){return t.type.prototype.ngOnChanges&&(t.setInput=S1),C1}function C1(){let t=sS(this),e=t?.current;if(e){let n=t.previous;if(n===Ii)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function S1(t,e,n,r,i){let o=this.declaredInputs[r],s=sS(t)||A1(t,{previous:Ii,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new hh(l&&l.currentValue,n,u===Ii),rS(t,e,i,n)}var oS="__ngSimpleChanges__";function sS(t){return t[oS]||null}function A1(t,e){return t[oS]=e}var SC=[];var Ce=function(t,e=null,n){for(let r=0;r<SC.length;r++){let i=SC[r];i(t,e,n)}};function R1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=iS(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function N1(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function uh(t,e,n){aS(t,e,3,n)}function lh(t,e,n,r){(t[ie]&3)===n&&aS(t,e,n,r)}function My(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function aS(t,e,n,r){let i=r!==void 0?t[wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[wo]+=65536),(a<o||o==-1)&&(M1(t,n,e,u),t[wo]=(t[wo]&4294901760)+u+2),u++}function AC(t,e){Ce(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),Ce(5,t,e)}}function M1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ie]>>14<t[wo]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,AC(a,o)):AC(a,o)}var Ws=-1,So=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function P1(t){return(t.flags&8)!==0}function x1(t){return(t.flags&16)!==0}function k1(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];O1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function cS(t){return t===3||t===4||t===6}function O1(t){return t.charCodeAt(0)===64}function Ks(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?RC(t,n,i,null,e[++r]):RC(t,n,i,null,null))}}return t}function RC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function uS(t){return t!==Ws}function fh(t){return t&32767}function F1(t){return t>>16}function ph(t,e){let n=F1(t),r=e;for(;n>0;)r=r[Eo],n--;return r}var Hy=!0;function gh(t){let e=Hy;return Hy=t,e}var L1=256,lS=L1-1,dS=5,V1=0,or={};function j1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(_o)&&(r=n[_o]),r==null&&(r=n[_o]=V1++);let i=r&lS,o=1<<i;e.data[t+(i>>dS)]|=o}function mh(t,e){let n=hS(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,Py(r.data,t),Py(e,null),Py(r.blueprint,null));let i=pv(t,e),o=t.injectorIndex;if(uS(i)){let s=fh(i),a=ph(i,e),u=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Py(t,e){t.push(0,0,0,0,0,0,0,0,e)}function hS(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function pv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=yS(i),r===null)return Ws;if(n++,i=i[Eo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ws}function qy(t,e,n){j1(t,e,n)}function U1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(cS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function fS(t,e,n){if(n&8||t!==void 0)return t;Gd(e,"NodeInjector")}function pS(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[js],o=Ut(void 0);try{return i?i.get(e,r,n&8):Ym(e,r,n&8)}finally{Ut(o)}}return fS(r,e,n)}function gS(t,e,n,r=0,i){if(t!==null){if(e[ie]&2048&&!(r&2)){let s=z1(t,e,n,r,or);if(s!==or)return s}let o=mS(t,e,n,r,or);if(o!==or)return o}return pS(e,n,r,i)}function mS(t,e,n,r,i){let o=H1(n);if(typeof o=="function"){if(!Dy(e,t,r))return r&1?fS(i,n,r):pS(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Gd(n);else return s}finally{Ty()}}else if(typeof o=="number"){let s=null,a=hS(t,e),u=Ws,l=r&1?e[on][mn]:null;for((a===-1||r&4)&&(u=a===-1?pv(t,e):e[a+8],u===Ws||!MC(r,!1)?a=-1:(s=e[J],a=fh(u),e=ph(u,e)));a!==-1;){let h=e[J];if(NC(o,a,h.data)){let p=B1(a,e,n,s,r,l);if(p!==or)return p}u=e[a+8],u!==Ws&&MC(r,e[J].data[a+8]===l)&&NC(o,a,e)?(s=h,a=fh(u),e=ph(u,e)):a=-1}}return i}function B1(t,e,n,r,i,o){let s=e[J],a=s.data[t+8],u=r==null?Di(a)&&Hy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=$1(a,s,n,u,l);return h!==null?yh(e,s,h,a,i):or}function $1(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=s[u];if(y&&tr(y)&&y.type===n)return u}return null}function yh(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof So){let a=o;if(a.resolving){let y=jb(s[n]);throw Qm(y)}let u=gh(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?Ut(a.injectImpl):null,g=Dy(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&R1(n,s[n],e)}finally{p!==null&&Ut(p),gh(u),a.resolving=!1,Ty()}}return o}function H1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(_o)?t[_o]:void 0;return typeof e=="number"?e>=0?e&lS:q1:e}function NC(t,e,n){let r=1<<t;return!!(n[e+(t>>dS)]&r)}function MC(t,e){return!(t&2)&&!(t&1&&e)}var Co=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gS(this._tNode,this._lView,e,mo(r),n)}};function q1(){return new Co(Bt(),me())}function Js(t){return Zs(()=>{let e=t.prototype.constructor,n=e[Nc]||zy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Nc]||zy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zy(t){return $m(t)?()=>{let e=zy(_t(t));return e&&e()}:vi(t)}function z1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!Bs(s);){let a=mS(o,s,n,r|2,or);if(a!==or)return a;let u=o.parent;if(!u){let l=s[sy];if(l){let h=l.get(n,or,r);if(h!==or)return h}u=yS(s),s=s[Eo]}o=u}return i}function yS(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[mn]:null}function Xc(t){return U1(Bt(),t)}function G1(){return gv(Bt(),me())}function gv(t,e){return new cr(kn(t,e))}var cr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=G1}return t})();function vS(t){return(t.flags&128)===128}var mv=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(mv||{}),_S=new Map,W1=0;function K1(){return W1++}function Q1(t){_S.set(t[Lc],t)}function Gy(t){_S.delete(t[Lc])}var PC="__ngContext__";function Qs(t,e){er(e)?(t[PC]=e[Lc],Q1(e)):t[PC]=e}function ES(t){return wS(t[Us])}function IS(t){return wS(t[gn])}function wS(t){for(;t!==null&&!xn(t);)t=t[gn];return t}var Wy;function yv(t){Wy=t}function DS(){if(Wy!==void 0)return Wy;if(typeof document<"u")return document;throw new U(210,!1)}var xh=new $("",{providedIn:"root",factory:()=>Y1}),Y1="ng",kh=new $(""),Ci=new $("",{providedIn:"platform",factory:()=>"unknown"});var Oh=new $("",{providedIn:"root",factory:()=>DS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Z1="h",J1="b";var TS="r";var bS="di";var CS=!1,SS=new $("",{providedIn:"root",factory:()=>CS});var vv=new $("");var X1=(t,e,n,r)=>{};function eF(t,e,n,r){X1(t,e,n,r)}function _v(t){return(t.flags&32)===32}var tF=()=>null;function AS(t,e,n=!1){return tF(t,e,n)}function RS(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];wy(o),a.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function Ky(t,e,n){wy(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function NS(t,e,n){if(cy(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ne(r)}}}var jr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(jr||{});var sh;function nF(){if(sh===void 0&&(sh=null,kr.trustedTypes))try{sh=kr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sh}function xC(t){return nF()?.createScriptURL(t)||t}var vh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qd})`}};function eu(t){return t instanceof vh?t.changingThisBreaksApplicationSecurity:t}function Ev(t,e){let n=MS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${qd})`)}return n===e}function MS(t){return t instanceof vh&&t.getTypeName()||null}var rF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function PS(t){return t=String(t),t.match(rF)?t:"unsafe:"+t}var Fh=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Fh||{});function Fn(t){let e=kS();return e?e.sanitize(Fh.URL,t)||"":Ev(t,"URL")?eu(t):PS(xc(t))}function xS(t){let e=kS();if(e)return xC(e.sanitize(Fh.RESOURCE_URL,t)||"");if(Ev(t,"ResourceURL"))return xC(eu(t));throw new U(904,!1)}function iF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?xS:Fn}function Iv(t,e,n){return iF(e,n)(t)}function kS(){let t=me();return t&&t[Xn].sanitizer}function OS(t){return t instanceof Function?t():t}function oF(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var FS="ng-template";function sF(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oF(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(wv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function wv(t){return t.type===4&&t.value!==FS}function aF(t,e,n){let r=t.type===4&&!n?FS:t.value;return e===r}function cF(t,e,n){let r=4,i=t.attrs,o=i!==null?dF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!On(r)&&!On(u))return!1;if(s&&On(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!aF(t,u,n)||u===""&&e.length===1){if(On(r))return!1;s=!0}}else if(r&8){if(i===null||!sF(t,i,u,n)){if(On(r))return!1;s=!0}}else{let l=e[++a],h=uF(u,i,wv(t),n);if(h===-1){if(On(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(On(r))return!1;s=!0}}}}return On(r)||s}function On(t){return(t&1)===0}function uF(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hF(e,t)}function lF(t,e,n=!1){for(let r=0;r<e.length;r++)if(cF(t,e[r],n))return!0;return!1}function dF(t){for(let e=0;e<t.length;e++){let n=t[e];if(cS(n))return e}return t.length}function hF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function kC(t,e){return t?":not("+e.trim()+")":e}function fF(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!On(s)&&(e+=kC(o,i),i=""),r=s,o=o||!On(r);n++}return i!==""&&(e+=kC(o,i)),e}function pF(t){return t.map(fF).join(",")}function gF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!On(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var ur={};function mF(t,e){return t.createText(e)}function yF(t,e,n){t.setValue(e,n)}function LS(t,e,n){return t.createElement(e,n)}function _h(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VS(t,e,n){t.appendChild(e,n)}function OC(t,e,n,r,i){r!==null?_h(t,e,n,r,i):VS(t,e,n)}function jS(t,e,n,r){t.removeChild(null,e,n,r)}function vF(t,e,n){t.setAttribute(e,"style",n)}function _F(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function US(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&k1(t,e,r),i!==null&&_F(t,e,i),o!==null&&vF(t,e,o)}function Dv(t,e,n,r,i,o,s,a,u,l,h){let p=Ye+r,g=p+i,y=EF(p,g),D=typeof l=="function"?l():l;return y[J]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function EF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ur);return n}function IF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tv(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Pn]=i,p[ie]=r|4|128|8|64|1024,(l!==null||t&&t[ie]&2048)&&(p[ie]|=2048),hy(p),p[ht]=p[Eo]=t,p[$e]=n,p[Xn]=s||t&&t[Xn],p[He]=a||t&&t[He],p[js]=u||t&&t[js]||null,p[mn]=o,p[Lc]=K1(),p[Ls]=h,p[sy]=l,p[on]=e.type==2?t[on]:p,p}function wF(t,e,n){let r=kn(e,t),i=IF(n),o=t[Xn].rendererFactory,s=bv(t,Tv(t,i,null,BS(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function BS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function $S(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bv(t,e){return t[Us]?t[oy][gn]=e:t[Us]=e,t[oy]=e,e}function oe(t=1){HS(Kt(),me(),Ti()+t,!1)}function HS(t,e,n,r){if(!r)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&uh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&lh(e,o,0,n)}bi(n)}var Lh=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Lh||{});function Qy(t,e,n,r){let i=ne(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Lh.SignalBased)!==0&&(u=e[o][Lt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):rS(e,u,o,r)}finally{ne(i)}}var sr=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(sr||{}),DF;function Cv(t,e){return DF(t,e)}var Vh=new Set;function Gs(t,e,n,r,i,o){if(r!=null){let s,a=!1;xn(r)?s=r:er(r)&&(a=!0,r=r[Pn]);let u=yn(r);t===0&&n!==null?i==null?VS(e,n,u):_h(e,n,u,i||null,!0):t===1&&n!==null?_h(e,n,u,i||null,!0):t===2?FC(o,l=>{jS(e,u,a,l)}):t===3&&FC(o,()=>{e.destroyNode(u)}),s!=null&&FF(e,t,s,n,i)}}function TF(t,e){qS(t,e),e[Pn]=null,e[mn]=null}function bF(t,e,n,r,i,o){r[Pn]=i,r[mn]=e,Uh(t,r,n,1,i,o)}function qS(t,e){e[Xn].changeDetectionScheduler?.notify(9),Uh(t,e,e[He],2,null,null)}function CF(t){let e=t[Us];if(!e)return xy(t[J],t);for(;e;){let n=null;if(er(e))n=e[Us];else{let r=e[ct];r&&(n=r)}if(!n){for(;e&&!e[gn]&&e!==t;)er(e)&&xy(e[J],e),e=e[ht];e===null&&(e=t),er(e)&&xy(e[J],e),n=e&&e[gn]}e=n}}function Sv(t,e){let n=t[Uc],r=n.indexOf(e);n.splice(r,1)}function jh(t,e){if(bo(e))return;let n=e[He];n.destroyNode&&Uh(t,e,n,3,null,null),CF(e)}function xy(t,e){if(bo(e))return;let n=ne(null);try{e[ie]&=-129,e[ie]|=256,e[sn]&&Tc(e[sn]),RF(t,e),AF(t,e),e[J].type===1&&e[He].destroy();let r=e[Io];if(r!==null&&xn(e[ht])){r!==e[ht]&&Sv(r,e);let i=e[Do];i!==null&&i.detachView(t)}Gy(e)}finally{ne(n)}}function FC(t,e){if(t&&t[Et]&&t[Et].leave)if(t[Et].skipLeaveAnimations)t[Et].skipLeaveAnimations=!1;else{let n=t[Et].leave,r=[];for(let i=0;i<n.length;i++){let o=n[i];r.push(o())}t[Et].running=Promise.allSettled(r),t[Et].leave=void 0}SF(t,e)}function SF(t,e){if(t&&t[Et]&&t[Et].running){t[Et].running.then(()=>{t[Et]&&t[Et].running&&(t[Et].running=void 0),Vh.delete(t),e(!0)});return}e(!1)}function AF(t,e){let n=t.cleanup,r=e[Vs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Vs]=null);let i=e[Mr];if(i!==null){e[Mr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Vc];if(o!==null){e[Vc]=null;for(let s of o)s.destroy()}}function RF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof So)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ce(4,a,u);try{u.call(a)}finally{Ce(5,a,u)}}else{Ce(4,i,o);try{o.call(i)}finally{Ce(5,i,o)}}}}}function NF(t,e,n){return MF(t,e.parent,n)}function MF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Pn];if(Di(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===jr.None||i===jr.Emulated)return null}return kn(r,n)}function PF(t,e,n){return kF(t,e,n)}function xF(t,e,n){return t.type&40?kn(t,n):null}var kF=xF,LC;function Av(t,e,n,r){let i=NF(t,r,e),o=e[He],s=r.parent||e[mn],a=PF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)OC(o,i,n[u],a,!1);else OC(o,i,n,a,!1);LC!==void 0&&LC(o,r,e,n,i)}function Gc(t,e){if(e!==null){let n=e.type;if(n&3)return kn(e,t);if(n&4)return Yy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gc(t,r);{let i=t[e.index];return xn(i)?Yy(-1,i):yn(i)}}else{if(n&128)return Gc(t,e.next);if(n&32)return Cv(e,t)()||yn(t[e.index]);{let r=zS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_i(t[on]);return Gc(i,r)}else return Gc(t,e.next)}}}return null}function zS(t,e){if(e!==null){let r=t[on][mn],i=e.projection;return r.projection[i]}return null}function Yy(t,e){let n=ct+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return Gc(r,i)}return e[wi]}function Rv(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Qs(yn(a),r),n.flags|=2),!_v(n))if(u&8)Rv(t,e,n.child,r,i,o,!1),Gs(e,t,i,a,o,r);else if(u&32){let l=Cv(n,r),h;for(;h=l();)Gs(e,t,i,h,o,r);Gs(e,t,i,a,o,r)}else u&16?OF(t,e,r,n,i,o):Gs(e,t,i,a,o,r);n=s?n.projectionNext:n.next}}function Uh(t,e,n,r,i,o){Rv(n,r,t.firstChild,e,i,o,!1)}function OF(t,e,n,r,i,o){let s=n[on],u=s[mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Gs(e,t,i,h,o,n)}else{let l=u,h=s[ht];vS(r)&&(l.flags|=128),Rv(t,e,l,h,i,o,!0)}}function FF(t,e,n,r,i){let o=n[wi],s=yn(n);o!==s&&Gs(e,t,r,o,i);for(let a=ct;a<n.length;a++){let u=n[a];Uh(u[J],u,t,e,r,o)}}function LF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:sr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sr.Important),t.setStyle(n,r,i,o))}}function GS(t,e,n,r,i){let o=Ti(),s=r&2;try{bi(-1),s&&e.length>Ye&&HS(t,e,Ye,!1),Ce(s?2:0,i,n),n(r,i)}finally{bi(o),Ce(s?3:1,i,n)}}function WS(t,e,n){zF(t,e,n),(n.flags&64)===64&&GF(t,e,n)}function Nv(t,e,n=kn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function VF(t,e,n,r){let o=r.get(SS,CS)||n===jr.ShadowDom,s=t.selectRootElement(e,o);return jF(s),s}function jF(t){UF(t)}var UF=()=>null;function BF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $F(t,e,n,r,i,o){let s=e[J];if(Mv(t,s,e,n,r)){Di(t)&&qF(e,t.index);return}t.type&3&&(n=BF(n)),HF(t,e,n,r,i,o)}function HF(t,e,n,r,i,o){if(t.type&3){let s=kn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function qF(t,e){let n=vn(e,t);n[ie]&16||(n[ie]|=64)}function zF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Di(n)&&wF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||mh(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=yh(e,t,s,n);if(Qs(u,e),o!==null&&ZF(e,s-r,u,a,n,o),tr(a)){let l=vn(n.index,e);l[$e]=yh(e,t,s,n)}}}function GF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=yC();try{bi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Xd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&WF(u,l)}}finally{bi(-1),Xd(s)}}function WF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function KF(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];lF(e,o.selectors,!1)&&(r??=[],tr(o)?r.unshift(o):r.push(o))}return r}function QF(t,e,n,r,i,o){let s=kn(t,e);YF(e[He],s,o,t.value,n,r,i)}function YF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?xc(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function ZF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Qy(r,n,u,l)}}function KS(t,e,n,r,i){let o=Ye+n,s=e[J],a=i(s,e,t,r,n);e[o]=a,Hs(t,!0);let u=t.type===2;return u?(US(e[He],a,t),(aC()===0||Yd(t))&&Qs(a,e),cC()):Qs(a,e),nh()&&(!u||!_v(t))&&Av(s,e,a,t),t}function QS(t){let e=t;return _y()?hC():(e=e.parent,Hs(e,!1)),e}function JF(t,e){let n=t[js];if(!n)return;let r;try{r=n.get(Rt,null)}catch{r=null}r?.(e)}function Mv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Qy(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Qy(h,l,r,i),a=!0}return a}function XF(t,e){let n=vn(e,t),r=n[J];eL(r,n);let i=n[Pn];i!==null&&n[Ls]===null&&(n[Ls]=AS(i,n[js])),Ce(18),Pv(r,n,n[$e]),Ce(19,n[$e])}function eL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pv(t,e,n){eh(e);try{let r=t.viewQuery;r!==null&&Ky(1,r,n);let i=t.template;i!==null&&GS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Do]?.finishViewCreation(t),t.staticContentQueries&&RS(t,e),t.staticViewQueries&&Ky(2,t.viewQuery,n);let o=t.components;o!==null&&tL(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,th()}}function tL(t,e){for(let n=0;n<e.length;n++)XF(t,e[n])}function xv(t,e,n,r){let i=ne(null);try{let o=e.tView,a=t[ie]&4096?4096:16,u=Tv(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Io]=l;let h=t[Do];return h!==null&&(u[Do]=h.createEmbeddedView(o)),Pv(o,u,n),u}finally{ne(i)}}function Kc(t,e){return!e||e.firstChild===null||vS(t)}function Qc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(yn(o)),xn(o)&&YS(o,r);let s=n.type;if(s&8)Qc(t,e,n.child,r);else if(s&32){let a=Cv(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=zS(e,n);if(Array.isArray(a))r.push(...a);else{let u=_i(e[on]);Qc(u[J],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function YS(t,e){for(let n=ct;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Qc(r[J],r,i,e)}t[wi]!==t[Pn]&&e.push(t[wi])}function ZS(t){if(t[To]!==null){for(let e of t[To])e.impl.addSequence(e);t[To].length=0}}var JS=[];function nL(t){return t[sn]??rL(t)}function rL(t){let e=JS.pop()??Object.create(oL);return e.lView=t,e}function iL(t){t.lView[sn]!==t&&(t.lView=null,JS.push(t))}var oL=re(k({},ms),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{$s(t.lView)},consumerOnSignalRead(){this.lView[sn]=this}});function sL(t){let e=t[sn]??Object.create(aL);return e.lView=t,e}var aL=re(k({},ms),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=_i(t.lView);for(;e&&!XS(e[J]);)e=_i(e);e&&fy(e)},consumerOnSignalRead(){this.lView[sn]=this}});function XS(t){return t.type!==2}function e0(t){if(t[Vc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Vc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ie]&8192)}}var cL=100;function t0(t,e=0){let r=t[Xn].rendererFactory,i=!1;i||r.begin?.();try{uL(t,e)}finally{i||r.end?.()}}function uL(t,e){let n=Ey();try{Iy(!0),Zy(t,e);let r=0;for(;$c(t);){if(r===cL)throw new U(103,!1);r++,Zy(t,1)}}finally{Iy(n)}}function lL(t,e,n,r){if(bo(e))return;let i=e[ie],o=!1,s=!1;eh(e);let a=!0,u=null,l=null;o||(XS(t)?(l=nL(e),u=vs(l)):ad()===null?(a=!1,l=sL(e),u=vs(l)):e[sn]&&(Tc(e[sn]),e[sn]=null));try{hy(e),fC(t.bindingStartIndex),n!==null&&GS(t,e,n,2,r),dL(e);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&uh(e,y,null)}else{let y=t.preOrderHooks;y!==null&&lh(e,y,0,null),My(e,0)}if(s||hL(e),e0(e),n0(e,0),t.contentQueries!==null&&RS(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&uh(e,y)}else{let y=t.contentHooks;y!==null&&lh(e,y,1),My(e,1)}pL(t,e);let p=t.components;p!==null&&i0(e,p,0);let g=t.viewQuery;if(g!==null&&Ky(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&uh(e,y)}else{let y=t.viewHooks;y!==null&&lh(e,y,2),My(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qd]){for(let y of e[Qd])y();e[Qd]=null}o||(ZS(e),e[ie]&=-73)}catch(h){throw o||$s(e),h}finally{l!==null&&(wc(l,u),a&&iL(l)),th()}}function dL(t){let e=t[Et];if(e?.enter){for(let n of e.enter)n();e.enter=void 0}}function n0(t,e){for(let n=ES(t);n!==null;n=IS(n))for(let r=ct;r<n.length;r++){let i=n[r];r0(i,e)}}function hL(t){for(let e=ES(t);e!==null;e=IS(e)){if(!(e[ie]&2))continue;let n=e[Uc];for(let r=0;r<n.length;r++){let i=n[r];fy(i)}}}function fL(t,e,n){Ce(18);let r=vn(e,t);r0(r,n),Ce(19,r[$e])}function r0(t,e){Zd(t)&&Zy(t,e)}function Zy(t,e){let r=t[J],i=t[ie],o=t[sn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Dc(o)),s||=!1,o&&(o.dirty=!1),t[ie]&=-9217,s)lL(r,t,r.template,t[$e]);else if(i&8192){let a=ne(null);try{e0(t),n0(t,1);let u=r.components;u!==null&&i0(t,u,1),ZS(t)}finally{ne(a)}}}function i0(t,e,n){for(let r=0;r<e.length;r++)fL(t,e[r],n)}function pL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)bi(~i);else{let o=i,s=n[++r],a=n[++r];mC(s,o);let u=e[o];Ce(24,u),a(2,u),Ce(25,u)}}}finally{bi(-1)}}function kv(t,e){let n=Ey()?64:1088;for(t[Xn].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=_i(t);if(Bs(t)&&!r)return t;t=r}return null}function o0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function s0(t,e){let n=ct+e;if(n<t.length)return t[n]}function Bh(t,e,n,r=!0){let i=e[J];if(gL(i,e,t,n),r){let s=Yy(n,t),a=e[He],u=a.parentNode(t[wi]);u!==null&&bF(i,t[mn],a,e,u,s)}let o=e[Ls];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function a0(t,e){let n=Yc(t,e);return n!==void 0&&jh(n[J],n),n}function Yc(t,e){if(t.length<=ct)return;let n=ct+e,r=t[n];if(r){let i=r[Io];i!==null&&i!==t&&Sv(i,r),e>0&&(t[n-1][gn]=r[gn]);let o=kc(t,ct+e);TF(r[J],r);let s=o[Do];s!==null&&s.detachView(o[J]),r[ht]=null,r[gn]=null,r[ie]&=-129}return r}function gL(t,e,n,r){let i=ct+r,o=n.length;r>0&&(n[i-1][gn]=e),r<o-ct?(e[gn]=n[i],Zm(n,ct+r,e)):(n.push(e),e[gn]=null),e[ht]=n;let s=e[Io];s!==null&&n!==s&&c0(s,e);let a=e[Do];a!==null&&a.insertView(t),Jd(e),e[ie]|=128}function c0(t,e){let n=t[Uc],r=e[ht];if(er(r))t[ie]|=2;else{let i=r[ht][on];e[on]!==i&&(t[ie]|=2)}n===null?t[Uc]=[e]:n.push(e)}var Ao=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[J];return Qc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if(xn(e)){let n=e[jc],r=n?n.indexOf(this):-1;r>-1&&(Yc(e,r),kc(n,r))}this._attachedToViewContainer=!1}jh(this._lView[J],this._lView)}onDestroy(e){py(this._lView,e)}markForCheck(){kv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Jd(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,t0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bs(this._lView),n=this._lView[Io];n!==null&&!e&&Sv(n,this._lView),qS(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let n=Bs(this._lView),r=this._lView[Io];r!==null&&!n&&c0(r,this._lView),Jd(this._lView)}};function $h(t,e,n,r,i){let o=t.data[e];if(o===null)o=mL(t,e,n,r,i),gC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=dC();o.injectorIndex=s===null?-1:s.injectorIndex}return Hs(o,!0),o}function mL(t,e,n,r,i){let o=vy(),s=_y(),a=s?o:o&&o.parent,u=t.data[e]=vL(t,a,n,e,r,i);return yL(t,u,o,s),u}function yL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function vL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return lC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var PQ=new RegExp(`^(\\d+)*(${J1}|${Z1})*(.*)`);function _L(t){let e=t[ay]??[],r=t[ht][He],i=[];for(let o of e)o.data[bS]!==void 0?i.push(o):EL(o,r);t[ay]=i}function EL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[TS];for(;n<i;){let o=r.nextSibling;jS(e,r,!1),r=o,n++}}}var IL=()=>null,wL=()=>null;function Jy(t,e){return IL(t,e)}function u0(t,e,n){return wL(t,e,n)}var l0=class{},Hh=class{},Xy=class{resolveComponentFactory(e){throw new U(917,!1)}},tu=class{static NULL=new Xy},Ro=class{},Br=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>DL()}return t})();function DL(){let t=me(),e=Bt(),n=vn(e.index,t);return(er(n)?n:t)[He]}var d0=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();var dh={},ev=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,dh,r);return i!==dh||n===dh?i:this.parentInjector.get(e,n,r)}};function Eh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Bm(i,a);else if(o==2){let u=a,l=e[++s];r=Bm(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function G(t,e=0){let n=me();if(n===null)return z(t,e);let r=Bt();return gS(r,n,_t(t),e)}function Ov(){let t="invalid";throw new Error(t)}function TL(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}SL(t,e,n,a,o,u,l)}o!==null&&r!==null&&bL(n,r,o)}function bL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new U(-301,!1);r.push(e[i],o)}}function CL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SL(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&tr(y)&&(u=!0,CL(t,n,g)),qy(mh(n,e),t,y.type)}xL(n,t.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=$S(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(n.mergedAttrs=Ks(n.mergedAttrs,y.hostAttrs),RL(t,n,e,p,y),PL(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let D=y.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}AL(t,n,o)}function AL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))VC(0,e,i,r),VC(1,e,i,r),UC(e,r,!1);else{let o=n.get(i);jC(0,e,o,r),jC(1,e,o,r),UC(e,r,!0)}}}function VC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),h0(e,o)}}function jC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),h0(e,s)}}function h0(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function UC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||wv(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function RL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=vi(i.type,!0)),s=new So(o,tr(i),G,null);t.blueprint[r]=s,n[r]=s,NL(t,e,r,$S(t,n,i.hostVars,ur),i)}function NL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ML(s)!=a&&s.push(a),s.push(n,r,o)}}function ML(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function PL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;tr(e)&&(n[""]=t)}}function xL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function f0(t,e,n,r,i,o,s,a){let u=e[J],l=u.consts,h=nr(l,s),p=$h(u,t,n,r,h);return o&&TL(u,e,p,nr(l,a),i),p.mergedAttrs=Ks(p.mergedAttrs,p.attrs),p.attrs!==null&&Eh(p,p.attrs,!1),p.mergedAttrs!==null&&Eh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function p0(t,e){N1(t,e),cy(e)&&t.queries.elementEnd(e)}function kL(t,e,n,r,i,o){let s=e.consts,a=nr(s,i),u=$h(e,t,n,r,a);if(u.mergedAttrs=Ks(u.mergedAttrs,u.attrs),o!=null){let l=nr(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&Eh(u,u.attrs,!1),u.mergedAttrs!==null&&Eh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Fv(t,e,n){return t[e]=n}function ar(t,e,n){if(n===ur)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function g0(t,e,n,r){let i=ar(t,e,n);return ar(t,e+1,r)||i}function OL(t,e,n,r,i){let o=g0(t,e,n,r);return ar(t,e+2,i)||o}function ky(t,e,n){return function r(i){let o=Di(t)?vn(t.index,e):e;kv(o,5);let s=e[$e],a=BC(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=BC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function BC(t,e,n,r){let i=ne(null);try{return Ce(6,e,n),n(r)!==!1}catch(o){return JF(t,o),!1}finally{Ce(7,e,n),ne(i)}}function FL(t,e,n,r,i,o,s,a){let u=Yd(t),l=!1,h=null;if(!r&&u&&(h=VL(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=kn(t,n),g=r?r(p):p;eF(n,g,o,a);let y=i.listen(g,o,a);if(!LL(o)){let D=r?N=>r(yn(N[t.index])):t.index;m0(D,e,n,o,a,y,!1)}}return l}function LL(t){return t.startsWith("animation")||t.startsWith("transition")}function VL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Vs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function m0(t,e,n,r,i,o,s){let a=e.firstCreatePass?sC(e):null,u=oC(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function $C(t,e,n,r,i,o){let s=e[n],a=e[J],l=a.data[n].outputs[r],p=s[l].subscribe(o);m0(t.index,a,e,i,o,p,!0)}var tv=Symbol("BINDING");var Ih=class extends tu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fr(e);return new No(n,this.ngModule)}};function jL(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Lh.SignalBased)!==0};return i&&(o.transform=i),o})}function UL(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function BL(t,e,n){let r=e instanceof Be?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ev(n,r):n}function $L(t){let e=t.get(Ro,null);if(e===null)throw new U(407,!1);let n=t.get(d0,null),r=t.get(xr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function HL(t,e){let n=y0(t);return LS(e,n,n==="svg"?eC:n==="math"?tC:null)}function y0(t){return(t.selectors[0][0]||"div").toLowerCase()}var No=class extends Hh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=jL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=UL(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=pF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Ce(22);let a=ne(null);try{let u=this.componentDef,l=qL(r,u,s,o),h=BL(u,i||this.ngModule,e),p=$L(h),g=p.rendererFactory.createRenderer(null,u),y=r?VF(g,r,u.encapsulation,h):HL(u,g),D=s?.some(HC)||o?.some(O=>typeof O!="function"&&O.bindings.some(HC)),N=Tv(null,l,null,512|BS(u),null,null,p,g,h,null,AS(y,h,!0));N[Ye]=y,eh(N);let R=null;try{let O=f0(Ye,N,2,"#host",()=>l.directiveRegistry,!0,0);US(g,y,O),Qs(y,N),WS(l,N,O),NS(l,O,N),p0(l,O),n!==void 0&&GL(O,this.ngContentSelectors,n),R=vn(O.index,N),N[$e]=R[$e],Pv(l,N,null)}catch(O){throw R!==null&&Gy(R),Gy(N),O}finally{Ce(23),th()}return new wh(this.componentType,N,!!D)}finally{ne(a)}}};function qL(t,e,n,r){let i=t?["ng-version","20.3.3"]:gF(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[tv].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[tv].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=ty(p);u.push(g)}return Dv(0,null,zL(o,s),1,a,u,null,null,null,[i],null)}function zL(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function HC(t){let e=t[tv].kind;return e==="input"||e==="twoWay"}var wh=class extends l0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Bc(n[J],Ye),this.location=gv(this._tNode,n),this.instance=vn(this._tNode.index,n)[$e],this.hostView=this.changeDetectorRef=new Ao(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Mv(r,i[J],i,e,n);this.previousInputValues.set(e,n);let s=vn(r.index,i);kv(s,1)}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var nu=(()=>{class t{static __NG_ELEMENT_ID__=WL}return t})();function WL(){let t=Bt();return QL(t,me())}var KL=nu,v0=class extends KL{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gv(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){let e=pv(this._hostTNode,this._hostLView);if(uS(e)){let n=ph(e,this._hostLView),r=fh(e),i=n[J].data[r+8];return new Co(i,n)}else return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Jy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Kc(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!b1(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new No(Fr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(Be,null);O&&(o=O)}let g=Fr(h.componentType??{}),y=Jy(this._lContainer,g?.id??null),D=y?.firstChild??null,N=h.create(p,i,D,o,s,a);return this.insertImpl(N.hostView,l,Kc(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ht],l=new v0(u,u[mn],u[ht]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Bh(s,i,o,r),e.attachToViewContainerRef(),Zm(Oy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Yc(this._lContainer,n);r&&(kc(Oy(this._lContainer),n),jh(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=Yc(this._lContainer,n);return r&&kc(Oy(this._lContainer),n)!=null?new Ao(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qC(t){return t[jc]}function Oy(t){return t[jc]||(t[jc]=[])}function QL(t,e){let n,r=e[t.index];return xn(r)?n=r:(n=o0(r,e,null,t),e[t.index]=n,bv(e,n)),ZL(n,e,t,r),new v0(n,t,e)}function YL(t,e){let n=t[He],r=n.createComment(""),i=kn(e,t),o=n.parentNode(i);return _h(n,o,r,n.nextSibling(i),!1),r}var ZL=eV,JL=()=>!1;function XL(t,e,n){return JL(t,e,n)}function eV(t,e,n,r){if(t[wi])return;let i;n.type&8?i=yn(r):i=YL(e,n),t[wi]=i}var zC=new Set;function Ln(t){zC.has(t)||(zC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Mo=class{},qh=class{};var Dh=class extends Mo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ih(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=ey(e);this._bootstrapComponents=OS(o.bootstrap),this._r3Injector=Cy(e,n,[{provide:Mo,useValue:this},{provide:tu,useValue:this.componentFactoryResolver},...r],Pr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Th=class extends qh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Dh(this.moduleType,e,[])}};var Zc=class extends Mo{injector;componentFactoryResolver=new Ih(this);instance=null;constructor(e){super();let n=new vo([...e.providers,{provide:Mo,useValue:this},{provide:tu,useValue:this.componentFactoryResolver}],e.parent||Fc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Xs(t,e,n=null){return new Zc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var tV=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=ny(!1,n.type),i=r.length>0?Xs([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(z(Be))})}return t})();function It(t){return Zs(()=>{let e=_0(t),n=re(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(tV).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jr.Emulated,styles:t.styles||rn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ln("NgStandalone"),E0(n);let r=t.dependencies;return n.directiveDefs=GC(r,nV),n.pipeDefs=GC(r,Gb),n.id=oV(n),n})}function nV(t){return Fr(t)||ty(t)}function lr(t){return Zs(()=>({type:t.type,bootstrap:t.bootstrap||rn,declarations:t.declarations||rn,imports:t.imports||rn,exports:t.exports||rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rV(t,e){if(t==null)return Ii;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Lh.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function iV(t){if(t==null)return Ii;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Nt(t){return Zs(()=>{let e=_0(t);return E0(e),e})}function zh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:rV(t.inputs,e),outputs:iV(t.outputs),debugInfo:null}}function E0(t){t.features?.forEach(e=>e(t))}function GC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function oV(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sV(t){return Object.getPrototypeOf(t.prototype).constructor}function $r(t){let e=sV(t.type),n=!0,r=[t];for(;e;){let i;if(tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Fy(t.inputs),s.declaredInputs=Fy(t.declaredInputs),s.outputs=Fy(t.outputs);let a=i.hostBindings;a&&dV(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&uV(t,u),l&&lV(t,l),aV(t,i),Vb(t.outputs,i.outputs),tr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===$r&&(n=!1)}}e=Object.getPrototypeOf(e)}cV(r)}function aV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function cV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ks(i.hostAttrs,n=Ks(n,i.hostAttrs))}}function Fy(t){return t===Ii?{}:t===rn?[]:t}function uV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function lV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function dV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function hV(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Ks(t.mergedAttrs,t.attrs);let h=t.tView=Dv(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Hs(t,!1);let u=fV(n,e,t,r);nh()&&Av(n,e,u,t),Qs(u,e);let l=o0(u,e,u,t);e[r+Ye]=l,bv(e,l),XL(l,t,e)}function bh(t,e,n,r,i,o,s,a,u,l,h){let p=n+Ye,g;if(e.firstCreatePass){if(g=$h(e,p,4,s||null,a||null),l!=null){let y=nr(e.consts,l);g.localNames=[];for(let D=0;D<y.length;D+=2)g.localNames.push(y[D],-1)}}else g=e.data[p];return hV(g,t,e,n,r,i,o,u),l!=null&&Nv(t,g,h),g}var fV=pV;function pV(t,e,n,r){return rh(!0),e[He].createComment("")}var Gh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Gh||{}),xo=new $(""),I0=!1,nv=class extends We{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Jb()&&(this.destroyRef=P(rr,{optional:!0})??void 0,this.pendingTasks=P(ir,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ze=nv;function w0(t){let e,n;function r(){t=zc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function WC(t){return queueMicrotask(()=>t()),()=>{t=zc}}var Lv="isAngularZone",Ch=Lv+"_ID",gV=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ze(!1);onMicrotaskEmpty=new Ze(!1);onStable=new Ze(!1);onError=new Ze(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=I0}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,vV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new U(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mV,zc,zc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},mV={};function Vv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){w0(()=>{t.callbackScheduled=!1,rv(t),t.isCheckStableRunning=!0,Vv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),rv(t)}function vV(t){let e=()=>{yV(t)},n=gV++;t._inner=t._inner.fork({name:"angular",properties:{[Lv]:!0,[Ch]:n,[Ch+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(_V(u))return r.invokeTask(o,s,a,u);try{return KC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),QC(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return KC(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!EV(u)&&e(),QC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,rv(t),Vv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function rv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function KC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QC(t){t._nesting--,Vv(t)}var Sh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ze;onMicrotaskEmpty=new Ze;onStable=new Ze;onError=new Ze;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function _V(t){return D0(t,"__ignore_ng_zone__")}function EV(t){return D0(t,"__scheduler_tick__")}function D0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var jv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),T0=[0,1,2,3],b0=(()=>{class t{ngZone=P(Ie);scheduler=P(xr);errorHandler=P(Nn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(xo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ce(16),this.executing=!0;for(let r of T0)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ce(17)}register(n){let{view:r}=n;r!==void 0?((r[To]??=[]).push(n),$s(r),r[ie]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Gh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ah=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[To];e&&(this.view[To]=e.filter(n=>n!==this))}};function Wh(t,e){let n=e?.injector??P(Le);return Ln("NgAfterNextRender"),wV(t,n,e,!0)}function IV(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function wV(t,e,n,r){let i=e.get(jv);i.impl??=e.get(b0);let o=e.get(xo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(rr):null,a=e.get(ih,null,{optional:!0}),u=new Ah(i.impl,IV(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Uv=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Bv=new $("");function Hr(t){return!!t&&typeof t.then=="function"}function Kh(t){return!!t&&typeof t.subscribe=="function"}var $v=new $("");function Qh(t){return Wt([{provide:$v,multi:!0,useValue:t}])}var Hv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=P($v,{optional:!0})??[];injector=P(Le);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Qe(this.injector,i);if(Hr(o))n.push(o);else if(Kh(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ru=new $("");function C0(){dm(()=>{let t="";throw new U(600,t)})}function S0(t){return t.isBoundToModule}var DV=10;var Si=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Rt);afterRenderManager=P(jv);zonelessEnabled=P(qc);rootEffectScheduler=P(Ny);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new We;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(ir);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Z(n=>!n))}constructor(){P(xo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=P(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Le.NULL){return this._injector.get(Ie).run(()=>{Ce(10);let s=n instanceof Hh;if(!this._injector.get(Hv).done){let D="";throw new U(405,D)}let u;s?u=n:u=this._injector.get(tu).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=S0(u)?void 0:this._injector.get(Mo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(Bv,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Wc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Ce(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ce(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Gh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let n=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(n),this.afterTick.next(),Ce(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ro,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<DV;)Ce(14),this.synchronizeOnce(),Ce(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!$c(i))continue;let o=r&&!this.zonelessEnabled?0:1;t0(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>$c(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Wc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(ru,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new U(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iu(t,e,n,r){let i=me(),o=qs();if(ar(i,o,e)){let s=Kt(),a=by();QF(a,i,t,e,n,r)}return iu}var jQ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var iv=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e,!0))}};function Ly(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function TV(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=Ly(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),y=e[u],D=Ly(s,g,u,y,n);if(D!==0){D<0&&t.updateValue(s,y),s--,u--;continue}let N=n(o,l),R=n(s,g),O=n(o,h);if(Object.is(O,R)){let K=n(u,y);Object.is(K,N)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Rh,i??=ZC(t,o,s,n),ov(t,r,o,O))t.updateValue(o,h),o++,s++;else if(i.has(O))r.set(N,t.detach(o)),s--;else{let K=t.create(o,e[o]);t.attach(o,K),o++,s++}}for(;o<=u;)YC(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=Ly(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Rh,i??=ZC(t,o,s,n);let y=n(o,p);if(ov(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let D=n(o,h);r.set(D,t.detach(o)),s--}}}for(;!l.done;)YC(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function ov(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function YC(t,e,n,r,i){if(ov(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function ZC(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Rh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Je(t,e,n,r,i,o,s,a){Ln("NgControlFlow");let u=me(),l=Kt(),h=nr(l.consts,o);return bh(u,l,t,e,n,r,i,h,256,s,a),ea}function ea(t,e,n,r,i,o,s,a){Ln("NgControlFlow");let u=me(),l=Kt(),h=nr(l.consts,o);return bh(u,l,t,e,n,r,i,h,512,s,a),ea}function Xe(t,e){Ln("NgControlFlow");let n=me(),r=qs(),i=n[r]!==ur?n[r]:-1,o=i!==-1?Nh(n,Ye+i):void 0,s=0;if(ar(n,r,t)){let a=ne(null);try{if(o!==void 0&&a0(o,s),t!==-1){let u=Ye+t,l=Nh(n,u),h=uv(n[J],u),p=u0(l,h,n),g=xv(n,h,e,{dehydratedView:p});Bh(l,g,s,Kc(h,p))}}finally{ne(a)}}else if(o!==void 0){let a=s0(o,s);a!==void 0&&(a[$e]=e)}}var sv=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ct}};var av=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function qv(t,e,n,r,i,o,s,a,u,l,h,p,g){Ln("NgControlFlow");let y=me(),D=Kt(),N=u!==void 0,R=me(),O=a?s.bind(R[on][$e]):s,K=new av(N,O);R[Ye+t]=K,bh(y,D,t+1,e,n,r,i,nr(D.consts,o),256),N&&bh(y,D,t+2,u,l,h,p,nr(D.consts,g),512)}var cv=class extends iv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ct}at(e){return this.getLView(e)[$e].$implicit}attach(e,n){let r=n[Ls];this.needsIndexUpdate||=e!==this.length,Bh(this.lContainer,n,e,Kc(this.templateTNode,r))}detach(e,n){return this.needsIndexUpdate||=e!==this.length-1,n&&bV(this.lContainer,e),CV(this.lContainer,e)}create(e,n){let r=Jy(this.lContainer,this.templateTNode.tView.ssrId),i=xv(this.hostLView,this.templateTNode,new sv(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){jh(e[J],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[$e].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return SV(this.lContainer,e)}};function zv(t){let e=ne(null),n=Ti();try{let r=me(),i=r[J],o=r[n],s=n+1,a=Nh(r,s);if(o.liveCollection===void 0){let l=uv(i,s);o.liveCollection=new cv(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(TV(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=qs(),h=u.length===0;if(ar(r,l,h)){let p=n+2,g=Nh(r,p);if(h){let y=uv(i,p),D=u0(g,y,r),N=xv(r,y,void 0,{dehydratedView:D});Bh(g,N,0,Kc(y,D))}else i.firstUpdatePass&&_L(g),a0(g,0)}}}finally{ne(e)}}function Nh(t,e){return t[e]}function bV(t,e){if(t.length<=ct)return;let n=ct+e,r=t[n];r&&r[Et]&&(r[Et].skipLeaveAnimations=!0)}function CV(t,e){return Yc(t,e)}function SV(t,e){return s0(t,e)}function uv(t,e){return Bc(t,e)}function wt(t,e,n){let r=me(),i=qs();if(ar(r,i,e)){let o=Kt(),s=by();$F(s,r,t,e,r[He],n)}return wt}function JC(t,e,n,r,i){Mv(e,t,n,i?"class":"style",r)}function j(t,e,n,r){let i=me(),o=i[J],s=t+Ye,a=o.firstCreatePass?f0(s,i,2,e,KF,uC(),n,r):o.data[s];if(KS(a,i,t,e,A0),Yd(a)){let u=i[J];WS(u,i,a),NS(u,a,i)}return r!=null&&Nv(i,a),j}function V(){let t=Kt(),e=Bt(),n=QS(e);return t.firstCreatePass&&p0(t,n),my(n)&&yy(),gy(),n.classesWithoutHost!=null&&P1(n)&&JC(t,n,me(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&x1(n)&&JC(t,n,me(),n.stylesWithoutHost,!1),V}function ye(t,e,n,r){return j(t,e,n,r),V(),ye}function ta(t,e,n,r){let i=me(),o=i[J],s=t+Ye,a=o.firstCreatePass?kL(s,o,2,e,n,r):o.data[s];return KS(a,i,t,e,A0),r!=null&&Nv(i,a),ta}function na(){let t=Bt(),e=QS(t);return my(e)&&yy(),gy(),na}var A0=(t,e,n,r,i)=>(rh(!0),LS(e[He],r,DC()));function Ai(){return me()}var ah=void 0;function AV(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var RV=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ah,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ah,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ah,"{1} 'at' {0}",ah],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",AV],Vy={};function cn(t){let e=NV(t),n=XC(e);if(n)return n;let r=e.split("-")[0];if(n=XC(r),n)return n;if(r==="en")return RV;throw new U(701,!1)}function XC(t){return t in Vy||(Vy[t]=kr.ng&&kr.ng.common&&kr.ng.common.locales&&kr.ng.common.locales[t]),Vy[t]}var ze=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ze||{});function NV(t){return t.toLowerCase().replace(/_/g,"-")}var ou="en-US";var MV=ou;function R0(t){typeof t=="string"&&(MV=t.toLowerCase().replace(/_/g,"-"))}function Dt(t,e,n){let r=me(),i=Kt(),o=Bt();return PV(i,r,r[He],o,t,e,n),Dt}function PV(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=ky(r,e,o),FL(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=ky(r,e,o),$C(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=ky(r,e,o),$C(r,e,p,i,i,u)}}function Qt(t=1){return wC(t)}function ch(t,e){return t<<17|e<<2}function Po(t){return t>>17&32767}function xV(t){return(t&2)==2}function kV(t,e){return t&131071|e<<17}function lv(t){return t|2}function Ys(t){return(t&131068)>>2}function jy(t,e){return t&-131069|e<<2}function OV(t){return(t&1)===1}function dv(t){return t|1}function FV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Po(s),u=Ys(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Fs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Po(t[a+1]);t[r+1]=ch(g,a),g!==0&&(t[g+1]=jy(t[g+1],r)),t[a+1]=kV(t[a+1],r)}else t[r+1]=ch(a,0),a!==0&&(t[a+1]=jy(t[a+1],r)),a=r;else t[r+1]=ch(u,0),a===0?a=r:t[u+1]=jy(t[u+1],r),u=r;l&&(t[r+1]=lv(t[r+1])),eS(t,h,r,!0),eS(t,h,r,!1),LV(e,h,t,r,o),s=ch(a,u),o?e.classBindings=s:e.styleBindings=s}function LV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Fs(o,e)>=0&&(n[r+1]=dv(n[r+1]))}function eS(t,e,n,r){let i=t[n+1],o=e===null,s=r?Po(i):Ys(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];VV(u,e)&&(a=!0,t[s+1]=r?dv(l):lv(l)),s=r?Po(l):Ys(l)}a&&(t[n+1]=r?lv(i):dv(i))}function VV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fs(t,e)>=0:!1}function dr(t,e){return jV(t,e,null,!0),dr}function jV(t,e,n,r){let i=me(),o=Kt(),s=pC(2);if(o.firstUpdatePass&&BV(o,t,s,r),e!==ur&&ar(i,s,e)){let a=o.data[Ti()];GV(o,a,i,i[He],t,i[s+1]=WV(e,n),r,s)}}function UV(t,e){return e>=t.expandoStartIndex}function BV(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ti()],s=UV(t,n);KV(o,r)&&e===null&&!s&&(e=!1),e=$V(i,o,e,r),FV(i,o,e,n,s,r)}}function $V(t,e,n,r){let i=vC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Uy(null,t,e,n,r),n=Jc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Uy(i,t,e,n,r),o===null){let u=HV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Uy(null,t,e,u[1],r),u=Jc(u,e.attrs,r),qV(t,e,r,u))}else o=zV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function HV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ys(r)!==0)return t[Po(r)]}function qV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Po(i)]=r}function zV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Jc(r,s,n)}return Jc(r,e.attrs,n)}function Uy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Jc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Jc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zb(t,s,n?!0:e[++o]))}return t===void 0?null:t}function GV(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=OV(l)?tS(u,e,n,i,Ys(l),s):void 0;if(!Mh(h)){Mh(o)||xV(l)&&(o=tS(u,null,n,i,a,s));let p=uy(Ti(),n);LF(r,s,p,i,o)}}function tS(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===ur&&(g=p?rn:void 0);let y=p?Kd(g,r):h===r?g:void 0;if(l&&!Mh(y)&&(y=Kd(u,r)),Mh(y)&&(a=y,s))return a;let D=t[i+1];i=s?Po(D):Ys(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Kd(u,r))}return a}function Mh(t){return t!==void 0}function WV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Pr(eu(t)))),t}function KV(t,e){return(t.flags&(e?8:16))!==0}function q(t,e=""){let n=me(),r=Kt(),i=t+Ye,o=r.firstCreatePass?$h(r,i,1,e,null):r.data[i],s=QV(r,n,o,e,t);n[i]=s,nh()&&Av(r,n,s,o),Hs(o,!1)}var QV=(t,e,n,r,i)=>(rh(!0),mF(e[He],r));function YV(t,e,n,r=""){return ar(t,qs(),n)?e+xc(n)+r:ur}function $t(t){return qr("",t),$t}function qr(t,e,n){let r=me(),i=YV(r,t,e,n);return i!==ur&&ZV(r,Ti(),i),qr}function ZV(t,e,n){let r=uy(e,t);yF(t[He],r,n)}function JV(t,e,n){let r=Kt();if(r.firstCreatePass){let i=tr(t);hv(n,r.data,r.blueprint,i,!0),hv(e,r.data,r.blueprint,i,!1)}}function hv(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let o=0;o<t.length;o++)hv(t[o],e,n,r,i);else{let o=Kt(),s=me(),a=Bt(),u=yo(t)?t:_t(t.provide),l=iy(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(yo(t)||!t.multi){let y=new So(l,i,G,null),D=$y(u,e,i?h:h+g,p);D===-1?(qy(mh(a,s),o,u),By(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=$y(u,e,h+g,p),D=$y(u,e,h,h+g),N=y>=0&&n[y],R=D>=0&&n[D];if(i&&!R||!i&&!N){qy(mh(a,s),o,u);let O=t2(i?e2:XV,n.length,i,r,l,t);!i&&R&&(n[D].providerFactory=O),By(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=N0(n[i?D:y],l,!i&&r);By(o,t,y>-1?y:D,O)}!i&&r&&R&&n[D].componentProviders++}}}function By(t,e,n,r){let i=yo(e),o=Zb(e);if(i||o){let u=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function N0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $y(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function XV(t,e,n,r,i){return fv(this.multi,[])}function e2(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=yh(r,r[J],this.providerFactory.index,i);s=u.slice(0,a),fv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],fv(o,s);return s}function fv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function t2(t,e,n,r,i,o){let s=new So(t,n,G,null);return s.multi=[],s.index=e,s.componentProviders=0,N0(s,i,r&&!n),s}function su(t,e=[]){return n=>{n.providersResolver=(r,i)=>JV(r,i?i(t):t,e)}}function au(t,e,n,r){return M0(me(),Hc(),t,e,n,r)}function Gv(t,e,n,r,i,o){return r2(me(),Hc(),t,e,n,r,i,o)}function Wv(t,e){let n=t[e];return n===ur?void 0:n}function M0(t,e,n,r,i,o){let s=e+n;return ar(t,s,i)?Fv(t,s+1,o?r.call(o,i):r(i)):Wv(t,s+1)}function n2(t,e,n,r,i,o,s){let a=e+n;return g0(t,a,i,o)?Fv(t,a+2,s?r.call(s,i,o):r(i,o)):Wv(t,a+2)}function r2(t,e,n,r,i,o,s,a){let u=e+n;return OL(t,u,i,o,s)?Fv(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):Wv(t,u+3)}function Ri(t,e){let n=Kt(),r,i=t+Ye;n.firstCreatePass?(r=i2(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=vi(r.type,!0)),s,a=Ut(G);try{let u=gh(!1),l=o();return gh(u),dy(n,me(),i,l),l}finally{Ut(a)}}function i2(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ra(t,e,n){let r=t+Ye,i=me(),o=ly(i,r);return P0(i,r)?M0(i,Hc(),e,o.transform,n,o):o.transform(n)}function Kv(t,e,n,r){let i=t+Ye,o=me(),s=ly(o,i);return P0(o,i)?n2(o,Hc(),e,s.transform,n,r,s):s.transform(n,r)}function P0(t,e){return t[J].data[e].pure}var Ph=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Qv=(()=>{class t{compileModuleSync(n){return new Th(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ey(n),o=OS(i.declarations).reduce((s,a)=>{let u=Fr(a);return u&&s.push(new No(u)),s},[]);return new Ph(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var o2=(()=>{class t{zone=P(Ie);changeDetectionScheduler=P(xr);applicationRef=P(Si);applicationErrorHandler=P(Rt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x0=new $("",{factory:()=>!1});function Yv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(re(k({},Jv()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:Or,multi:!0,useFactory:()=>{let r=P(o2,{optional:!0});return()=>r.initialize()}},{provide:Or,multi:!0,useFactory:()=>{let r=P(s2);return()=>{r.initialize()}}},e===!0?{provide:Ay,useValue:!0}:[],{provide:Ry,useValue:n??I0},{provide:Rt,useFactory:()=>{let r=P(Ie),i=P(Be),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Nn),o.handleError(s))})}}}]}function Zv(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Yv({ngZoneFactory:()=>{let i=Jv(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ln("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Wt([{provide:x0,useValue:!0},{provide:qc,useValue:!1},r])}function Jv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var s2=(()=>{class t{subscription=new Fe;initialized=!1;zone=P(Ie);pendingTasks=P(ir);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var k0=(()=>{class t{applicationErrorHandler=P(Rt);appRef=P(Si);taskService=P(ir);ngZone=P(Ie);zonelessEnabled=P(qc);tracing=P(xo,{optional:!0});disableScheduling=P(Ay,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ch):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Ry,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?WC:w0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ch+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function a2(){return typeof $localize<"u"&&$localize.locale||ou}var cu=new $("",{providedIn:"root",factory:()=>P(cu,{optional:!0,skipSelf:!0})||a2()});function et(t){return Ob(t)}function ia(t,e){return dd(t,e?.equal)}var O0=class{[Lt];constructor(e){this[Lt]=e}destroy(){this[Lt].destroy()}};var V0=Symbol("InputSignalNode#UNSET"),D2=re(k({},hd),{transformFn:void 0,applyValueToInputSignal(t,e){Es(t,e)}});function j0(t,e){let n=Object.create(D2);n.value=t,n.transformFn=e?.transform;function r(){if(ys(n),n.value===V0){let i=null;throw new U(-950,i)}return n.value}return r[Lt]=n,r}var Zh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Xc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},T2=new $("");T2.__NG_ELEMENT_ID__=t=>{let e=Bt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new U(204,!1)};function F0(t,e){return j0(t,e)}function b2(t){return j0(V0,t)}var U0=(F0.required=b2,F0);var Xv=new $(""),C2=new $("");function uu(t){return!t.moduleRef}function S2(t){let e=uu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{uu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Rt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),uu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Xv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Xv);s.add(o),t.moduleRef.onDestroy(()=>{Wc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return R2(r,n,()=>{let o=e.get(ir),s=o.add(),a=e.get(Hv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(cu,ou);if(R0(u||ou),!e.get(C2,!0))return uu(t)?e.get(Si):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(uu(t)){let h=e.get(Si);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return A2?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var A2;function R2(t,e,n){try{let r=n();return Hr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Yh=null;function N2(t=[],e){return Le.create({name:e,providers:[{provide:Oc,useValue:"platform"},{provide:Xv,useValue:new Set([()=>Yh=null])},...t]})}function M2(t=[]){if(Yh)return Yh;let e=N2(t);return Yh=e,C0(),P2(e),e}function P2(t){let e=t.get(kh,null);Qe(t,()=>{e?.forEach(n=>n())})}function e_(){return!1}var Oo=(()=>{class t{static __NG_ELEMENT_ID__=x2}return t})();function x2(t){return k2(Bt(),me(),(t&16)===16)}function k2(t,e,n){if(Di(t)&&!n){let r=vn(t.index,e);return new Ao(r,r)}else if(t.type&175){let r=e[on];return new Ao(r,e)}return null}function B0(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ce(8);try{let o=i?.injector??M2(r),s=[Yv({}),{provide:xr,useExisting:k0},bC,...n||[]],a=new Zc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return S2({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ce(9)}}function oa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $0(t){let e=Fr(t);if(!e)return null;let n=new No(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var z0=null;function En(){return z0}function t_(t){z0??=t}var lu=class{},du=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>P(G0),providedIn:"platform"})}return t})(),n_=new $(""),G0=(()=>{class t extends du{_location;_history;_doc=P(qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return En().getBaseHref(this._doc)}onPopState(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Jh(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function H0(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Vn(t){return t&&t[0]!=="?"?`?${t}`:t}var jn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>P(ef),providedIn:"root"})}return t})(),Xh=new $(""),ef=(()=>{class t extends jn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Jh(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Vn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(z(du),z(Xh,8))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ni=(()=>{class t{_subject=new We;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=L2(H0(q0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vn(r))}normalize(n){return t.stripTrailingSlash(F2(this._basePath,q0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Vn;static joinWithSlash=Jh;static stripTrailingSlash=H0;static \u0275fac=function(r){return new(r||t)(z(jn))};static \u0275prov=H({token:t,factory:()=>O2(),providedIn:"root"})}return t})();function O2(){return new Ni(z(jn))}function F2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function q0(t){return t.replace(/\/index.html$/,"")}function L2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var u_=(()=>{class t extends jn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Jh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(z(du),z(Xh,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();var Mt=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Mt||{}),Se=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Se||{}),Yt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Yt||{}),Gr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Q0(t){return cn(t)[ze.LocaleId]}function Y0(t,e,n){let r=cn(t),i=[r[ze.DayPeriodsFormat],r[ze.DayPeriodsStandalone]],o=In(i,e);return In(o,n)}function Z0(t,e,n){let r=cn(t),i=[r[ze.DaysFormat],r[ze.DaysStandalone]],o=In(i,e);return In(o,n)}function J0(t,e,n){let r=cn(t),i=[r[ze.MonthsFormat],r[ze.MonthsStandalone]],o=In(i,e);return In(o,n)}function X0(t,e){let r=cn(t)[ze.Eras];return In(r,e)}function hu(t,e){let n=cn(t);return In(n[ze.DateFormat],e)}function fu(t,e){let n=cn(t);return In(n[ze.TimeFormat],e)}function pu(t,e){let r=cn(t)[ze.DateTimeFormat];return In(r,e)}function gu(t,e){let n=cn(t),r=n[ze.NumberSymbols][e];if(typeof r>"u"){if(e===Gr.CurrencyDecimal)return n[ze.NumberSymbols][Gr.Decimal];if(e===Gr.CurrencyGroup)return n[ze.NumberSymbols][Gr.Group]}return r}function eA(t){if(!t[ze.ExtraData])throw new U(2303,!1)}function tA(t){let e=cn(t);return eA(e),(e[ze.ExtraData][2]||[]).map(r=>typeof r=="string"?r_(r):[r_(r[0]),r_(r[1])])}function nA(t,e,n){let r=cn(t);eA(r);let i=[r[ze.ExtraData][0],r[ze.ExtraData][1]],o=In(i,e)||[];return In(o,n)||[]}function In(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new U(2304,!1)}function r_(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var V2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,tf={},j2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function rA(t,e,n,r){let i=K2(t);e=zr(n,e)||e;let s=[],a;for(;e;)if(a=j2.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=oA(r,u),i=W2(i,r));let l="";return s.forEach(h=>{let p=z2(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function af(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function zr(t,e){let n=Q0(t);if(tf[n]??={},tf[n][e])return tf[n][e];let r="";switch(e){case"shortDate":r=hu(t,Yt.Short);break;case"mediumDate":r=hu(t,Yt.Medium);break;case"longDate":r=hu(t,Yt.Long);break;case"fullDate":r=hu(t,Yt.Full);break;case"shortTime":r=fu(t,Yt.Short);break;case"mediumTime":r=fu(t,Yt.Medium);break;case"longTime":r=fu(t,Yt.Long);break;case"fullTime":r=fu(t,Yt.Full);break;case"short":let i=zr(t,"shortTime"),o=zr(t,"shortDate");r=nf(pu(t,Yt.Short),[i,o]);break;case"medium":let s=zr(t,"mediumTime"),a=zr(t,"mediumDate");r=nf(pu(t,Yt.Medium),[s,a]);break;case"long":let u=zr(t,"longTime"),l=zr(t,"longDate");r=nf(pu(t,Yt.Long),[u,l]);break;case"full":let h=zr(t,"fullTime"),p=zr(t,"fullDate");r=nf(pu(t,Yt.Full),[h,p]);break}return r&&(tf[n][e]=r),r}function nf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Un(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function U2(t,e){return Un(t,3).substring(0,e)}function tt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=B2(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return U2(a,e);let u=gu(s,Gr.MinusSign);return Un(a,e,u,r,i)}}function B2(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new U(2301,!1)}}function Ne(t,e,n=Mt.Format,r=!1){return function(i,o){return $2(i,o,t,e,n,r)}}function $2(t,e,n,r,i,o){switch(n){case 2:return J0(e,i,r)[t.getMonth()];case 1:return Z0(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=tA(e),h=nA(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,D]=g,N=s>=y.hours&&a>=y.minutes,R=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(N&&R)return!0}else if(N||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return Y0(e,i,r)[s<12?0:1];case 3:return X0(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new U(2302,!1)}}function rf(t){return function(e,n,r){let i=-1*r,o=gu(n,Gr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Un(s,2,o)+Un(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Un(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);default:throw new U(2310,!1)}}}var H2=0,sf=4;function q2(t){let e=af(t,H2,1).getDay();return af(t,0,1+(e<=sf?sf:sf+7)-e)}function iA(t){let e=t.getDay(),n=e===0?-3:sf-e;return af(t.getFullYear(),t.getMonth(),t.getDate()+n)}function i_(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=iA(n),s=q2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Un(i,t,gu(r,Gr.MinusSign))}}function of(t,e=!1){return function(n,r){let o=iA(n).getFullYear();return Un(o,t,gu(r,Gr.MinusSign),e)}}var o_={};function z2(t){if(o_[t])return o_[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(3,Se.Abbreviated);break;case"GGGG":e=Ne(3,Se.Wide);break;case"GGGGG":e=Ne(3,Se.Narrow);break;case"y":e=tt(0,1,0,!1,!0);break;case"yy":e=tt(0,2,0,!0,!0);break;case"yyy":e=tt(0,3,0,!1,!0);break;case"yyyy":e=tt(0,4,0,!1,!0);break;case"Y":e=of(1);break;case"YY":e=of(2,!0);break;case"YYY":e=of(3);break;case"YYYY":e=of(4);break;case"M":case"L":e=tt(1,1,1);break;case"MM":case"LL":e=tt(1,2,1);break;case"MMM":e=Ne(2,Se.Abbreviated);break;case"MMMM":e=Ne(2,Se.Wide);break;case"MMMMM":e=Ne(2,Se.Narrow);break;case"LLL":e=Ne(2,Se.Abbreviated,Mt.Standalone);break;case"LLLL":e=Ne(2,Se.Wide,Mt.Standalone);break;case"LLLLL":e=Ne(2,Se.Narrow,Mt.Standalone);break;case"w":e=i_(1);break;case"ww":e=i_(2);break;case"W":e=i_(1,!0);break;case"d":e=tt(2,1);break;case"dd":e=tt(2,2);break;case"c":case"cc":e=tt(7,1);break;case"ccc":e=Ne(1,Se.Abbreviated,Mt.Standalone);break;case"cccc":e=Ne(1,Se.Wide,Mt.Standalone);break;case"ccccc":e=Ne(1,Se.Narrow,Mt.Standalone);break;case"cccccc":e=Ne(1,Se.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(1,Se.Abbreviated);break;case"EEEE":e=Ne(1,Se.Wide);break;case"EEEEE":e=Ne(1,Se.Narrow);break;case"EEEEEE":e=Ne(1,Se.Short);break;case"a":case"aa":case"aaa":e=Ne(0,Se.Abbreviated);break;case"aaaa":e=Ne(0,Se.Wide);break;case"aaaaa":e=Ne(0,Se.Narrow);break;case"b":case"bb":case"bbb":e=Ne(0,Se.Abbreviated,Mt.Standalone,!0);break;case"bbbb":e=Ne(0,Se.Wide,Mt.Standalone,!0);break;case"bbbbb":e=Ne(0,Se.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(0,Se.Abbreviated,Mt.Format,!0);break;case"BBBB":e=Ne(0,Se.Wide,Mt.Format,!0);break;case"BBBBB":e=Ne(0,Se.Narrow,Mt.Format,!0);break;case"h":e=tt(3,1,-12);break;case"hh":e=tt(3,2,-12);break;case"H":e=tt(3,1);break;case"HH":e=tt(3,2);break;case"m":e=tt(4,1);break;case"mm":e=tt(4,2);break;case"s":e=tt(5,1);break;case"ss":e=tt(5,2);break;case"S":e=tt(6,1);break;case"SS":e=tt(6,2);break;case"SSS":e=tt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=rf(0);break;case"ZZZZZ":e=rf(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rf(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=rf(2);break;default:return null}return o_[t]=e,e}function oA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function G2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function W2(t,e,n){let i=t.getTimezoneOffset(),o=oA(e,i);return G2(t,-1*(o-i))}function K2(t){if(W0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return af(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(V2))return Q2(r)}let e=new Date(t);if(!W0(e))throw new U(2311,!1);return e}function Q2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function W0(t){return t instanceof Date&&!isNaN(t.valueOf())}var s_=/\s+/,K0=[],l_=(()=>{class t{_ngEl;_renderer;initialClasses=K0;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(s_):K0}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(s_):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(s_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(G(cr),G(Br))};static \u0275dir=Nt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function sA(t,e){return new U(2100,!1)}var a_=class{createSubscription(e,n,r){return et(()=>e.subscribe({next:n,error:r}))}dispose(e){et(()=>e.unsubscribe())}},c_=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},Y2=new c_,Z2=new a_,mu=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=P(Rt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Hr(n))return Y2;if(Kh(n))return Z2;throw sA(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(G(Oo,16))};static \u0275pipe=zh({name:"async",type:t,pure:!1})}return t})();var J2="mediumDate",aA=new $(""),cA=new $(""),d_=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??J2,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return rA(n,s,o||this.locale,a)}catch(s){throw sA(t,s.message)}}static \u0275fac=function(r){return new(r||t)(G(cu,16),G(aA,24),G(cA,24))};static \u0275pipe=zh({name:"date",type:t,pure:!0})}return t})();var wn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=lr({type:t});static \u0275inj=Mn({})}return t})();function h_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var yu=class{};var uA="browser";var lA=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new f_(P(qe),window)})}return t})(),f_=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(re(k({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=ej(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Os(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(re(k({},n),{left:i-s[0],top:o-s[1]}))}};function ej(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var uf=new $(""),v_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(z(uf),z(Ie))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),_u=class{_doc;constructor(e){this._doc=e}manager},p_="ng-app-id";function dA(t){for(let e of t)e.remove()}function hA(t,e){let n=e.createElement("style");return n.textContent=t,n}function tj(t,e,n,r){let i=t.head?.querySelectorAll(`style[${p_}="${e}"],link[${p_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(p_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function m_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var __=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,tj(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,hA);r?.forEach(i=>this.addUsage(i,this.external,m_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(dA(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])dA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,hA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,m_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(z(qe),z(xh),z(Oh,8),z(Ci))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),g_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},E_=/%COMP%/g;var pA="%COMP%",nj=`_nghost-${pA}`,rj=`_ngcontent-${pA}`,ij=!0,oj=new $("",{providedIn:"root",factory:()=>ij});function sj(t){return rj.replace(E_,t)}function aj(t){return nj.replace(E_,t)}function gA(t,e){return e.map(n=>n.replace(E_,t))}var I_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Eu(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof cf?i.applyToHost(n):i instanceof Iu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case jr.Emulated:o=new cf(u,l,r,this.appId,h,s,a,p,g);break;case jr.ShadowDom:return new y_(u,l,n,r,s,a,this.nonce,p,g);default:o=new Iu(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(z(v_),z(__),z(xh),z(oj),z(qe),z(Ci),z(Ie),z(Oh),z(xo,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Eu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(g_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=g_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=g_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sr.DashCase|sr.Important)?e.style.setProperty(n,r,i&sr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=En().getGlobalEventTarget(this.doc,e),!e))throw new U(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function fA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var y_=class extends Eu{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=gA(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=m_(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Iu=class extends Eu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?gA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Vh.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cf=class extends Iu{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=sj(h),this.hostAttr=aj(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var lf=class t extends lu{supportsDOMEvents=!0;static makeCurrent(){t_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=cj();return n==null?null:uj(n)}resetBaseElement(){wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return h_(document.cookie,e)}},wu=null;function cj(){return wu=wu||document.head.querySelector("base"),wu?wu.getAttribute("href"):null}function uj(t){return new URL(t,document.baseURI).pathname}var lj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),yA=(()=>{class t extends _u{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(z(qe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),mA=["alt","control","meta","shift"],dj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vA=(()=>{class t extends _u{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>En().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=dj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mA.forEach(s=>{if(s!==i){let a=hj[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(z(qe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function w_(t,e,n){let r=k({rootComponent:t,platformRef:n?.platformRef},fj(e));return B0(r)}function fj(t){return{appProviders:[...vj,...t?.providers??[]],platformProviders:yj}}function pj(){lf.makeCurrent()}function gj(){return new Nn}function mj(){return yv(document),document}var yj=[{provide:Ci,useValue:uA},{provide:kh,useValue:pj,multi:!0},{provide:qe,useFactory:mj}];var vj=[{provide:Oc,useValue:"root"},{provide:Nn,useFactory:gj},{provide:uf,useClass:yA,multi:!0,deps:[qe]},{provide:uf,useClass:vA,multi:!0,deps:[qe]},I_,__,v_,{provide:Ro,useExisting:I_},{provide:yu,useClass:lj},[]];var sa=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(z(qe))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ue="primary",Ou=Symbol("RouteTitle"),A_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vo(t){return new A_(t)}function CA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _j(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}function hr(t,e){let n=t?R_(t):void 0,r=e?R_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!SA(t[i],e[i]))return!1;return!0}function R_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function SA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function AA(t){return t.length>0?t[t.length-1]:null}function Wr(t){return bm(t)?t:Hr(t)?pe(Promise.resolve(t)):Q(t)}var Ej={exact:NA,subset:MA},RA={exact:Ij,subset:wj,ignored:()=>!0};function _A(t,e,n){return Ej[n.paths](t.root,e.root,n.matrixParams)&&RA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Ij(t,e){return hr(t,e)}function NA(t,e,n){if(!Fo(t.segments,e.segments)||!ff(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!NA(t.children[r],e.children[r],n))return!1;return!0}function wj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SA(t[n],e[n]))}function MA(t,e,n){return PA(t,e,e.segments,n)}function PA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Fo(i,n)||e.hasChildren()||!ff(i,n,r))}else if(t.segments.length===n.length){if(!Fo(t.segments,n)||!ff(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!MA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Fo(t.segments,i)||!ff(t.segments,i,r)||!t.children[ue]?!1:PA(t.children[ue],e,o,r)}}function ff(t,e,n){return e.every((r,i)=>RA[n](t[i].parameters,r.parameters))}var pr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){return bj.serialize(this)}},we=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pf(this)}},Mi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vo(this.parameters),this._parameterMap}toString(){return kA(this)}};function Dj(t,e){return Fo(t,e)&&t.every((n,r)=>hr(n.parameters,e[r].parameters))}function Fo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Tj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}var jo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new Pi,providedIn:"root"})}return t})(),Pi=class{parse(e){let n=new M_(e);return new pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Du(e.root,!0)}`,r=Aj(e.queryParams),i=typeof e.fragment=="string"?`#${Cj(e.fragment)}`:"";return`${n}${r}${i}`}},bj=new Pi;function pf(t){return t.segments.map(e=>kA(e)).join("/")}function Du(t,e){if(!t.hasChildren())return pf(t);if(e){let n=t.children[ue]?Du(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ue&&r.push(`${i}:${Du(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Tj(t,(r,i)=>i===ue?[Du(t.children[ue],!1)]:[`${i}:${Du(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${pf(t)}/${n[0]}`:`${pf(t)}/(${n.join("//")})`}}function xA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function df(t){return xA(t).replace(/%3B/gi,";")}function Cj(t){return encodeURI(t)}function N_(t){return xA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gf(t){return decodeURIComponent(t)}function EA(t){return gf(t.replace(/\+/g,"%20"))}function kA(t){return`${N_(t.path)}${Sj(t.parameters)}`}function Sj(t){return Object.entries(t).map(([e,n])=>`;${N_(e)}=${N_(n)}`).join("")}function Aj(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${df(n)}=${df(i)}`).join("&"):`${df(n)}=${df(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Rj=/^[^\/()?;#]+/;function T_(t){let e=t.match(Rj);return e?e[0]:""}var Nj=/^[^\/()?;=#]+/;function Mj(t){let e=t.match(Nj);return e?e[0]:""}var Pj=/^[^=?&#]+/;function xj(t){let e=t.match(Pj);return e?e[0]:""}var kj=/^[^&#]+/;function Oj(t){let e=t.match(kj);return e?e[0]:""}var M_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new we(e,n)),r}parseSegment(){let e=T_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Mi(gf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Mj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=T_(this.remaining);i&&(r=i,this.capture(r))}e[gf(n)]=gf(r)}parseQueryParam(e){let n=xj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Oj(this.remaining);s&&(r=s,this.capture(r))}let i=EA(n),o=EA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=T_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ue);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ue]:new we([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function OA(t){return t.segments.length>0?new we([],{[ue]:t}):t}function FA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=FA(i);if(r===ue&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new we(t.segments,e);return Fj(n)}function Fj(t){if(t.numberOfChildren===1&&t.children[ue]){let e=t.children[ue];return new we(t.segments.concat(e.segments),e.children)}return t}function xi(t){return t instanceof pr}function LA(t,e,n=null,r=null){let i=VA(t);return jA(i,e,n,r)}function VA(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new we(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=OA(r);return e??i}function jA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return b_(i,i,i,n,r);let o=Lj(e);if(o.toRoot())return b_(i,i,new we([],{}),n,r);let s=Vj(o,i,t),a=s.processChildren?bu(s.segmentGroup,s.index,o.commands):BA(s.segmentGroup,s.index,o.commands);return b_(i,s.segmentGroup,a,n,r)}function mf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Su(t){return typeof t=="object"&&t!=null&&t.outlets}function b_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=UA(t,e,n);let a=OA(FA(s));return new pr(a,o,i)}function UA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=UA(o,e,n)}),new we(t.segments,r)}var yf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mf(r[0]))throw new U(4003,!1);let i=r.find(Su);if(i&&i!==AA(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Lj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new yf(n,e,r)}var ua=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Vj(t,e,n){if(t.isAbsolute)return new ua(e,!0,0);if(!n)return new ua(e,!1,NaN);if(n.parent===null)return new ua(n,!0,0);let r=mf(t.commands[0])?0:1,i=n.segments.length-1+r;return jj(n,i,t.numberOfDoubleDots)}function jj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new ua(r,!1,i-o)}function Uj(t){return Su(t[0])?t[0].outlets:{[ue]:t}}function BA(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return bu(t,e,n);let r=Bj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new we(t.segments.slice(0,r.pathIndex),{});return o.children[ue]=new we(t.segments.slice(r.pathIndex),t.children),bu(o,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?P_(t,e,n):r.match?bu(t,0,i):P_(t,e,n)}function bu(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=Uj(n),i={};if(Object.keys(r).some(o=>o!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let o=bu(t.children[ue],e,n);return new we(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=BA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(t.segments,i)}}function Bj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Su(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!wA(u,l,s))return o;r+=2}else{if(!wA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function P_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Su(o)){let u=$j(o.outlets);return new we(r,u)}if(i===0&&mf(n[0])){let u=t.segments[e];r.push(new Mi(u.path,IA(n[0]))),i++;continue}let s=Su(o)?o.outlets[ue]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&mf(a)?(r.push(new Mi(s,IA(a))),i+=2):(r.push(new Mi(s,{})),i++)}return new we(r,{})}function $j(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=P_(new we([],{}),0,r))}),e}function IA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function wA(t,e,n){return t==n.path&&hr(e,n.parameters)}var la="imperative",ut=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(ut||{}),ln=class{id;url;constructor(e,n){this.id=e,this.url=n}},ki=class extends ln{type=ut.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dn=class extends ln{urlAfterRedirects;type=ut.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ht||{}),ha=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ha||{}),fr=class extends ln{reason;code;type=ut.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gr=class extends ln{reason;code;type=ut.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},fa=class extends ln{error;target;type=ut.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Au=class extends ln{urlAfterRedirects;state;type=ut.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends ln{urlAfterRedirects;state;type=ut.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_f=class extends ln{urlAfterRedirects;state;shouldActivate;type=ut.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ef=class extends ln{urlAfterRedirects;state;type=ut.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends ln{urlAfterRedirects;state;type=ut.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class{route;type=ut.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Df=class{route;type=ut.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tf=class{snapshot;type=ut.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{snapshot;type=ut.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cf=class{snapshot;type=ut.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{snapshot;type=ut.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pa=class{routerEvent;position;anchor;type=ut.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ru=class{},ga=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Hj(t){return!(t instanceof Ru)&&!(t instanceof ga)}function qj(t,e){return t.providers&&!t._injector&&(t._injector=Xs(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bn(t){return t.outlet||ue}function zj(t,e){let n=t.filter(r=>Bn(r)===e);return n.push(...t.filter(r=>Bn(r)!==e)),n}function va(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Af=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return va(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Uo(this.rootInjector)}},Uo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Af(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(z(Be))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=x_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=x_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=k_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return k_(e,this._root).map(n=>n.value)}};function x_(t,e){if(t===e.value)return e;for(let n of e.children){let r=x_(t,n);if(r)return r}return null}function k_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=k_(t,n);if(r.length)return r.unshift(e),r}return[]}var un=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ca(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nu=class extends Rf{snapshot;constructor(e,n){super(e),this.snapshot=n,$_(this,e)}toString(){return this.snapshot.toString()}};function $A(t){let e=Gj(t),n=new vt([new Mi("",{})]),r=new vt({}),i=new vt({}),o=new vt({}),s=new vt(""),a=new Zt(n,r,o,s,i,ue,t,e.root);return a.snapshot=e.root,new Nu(new un(a,[]),e)}function Gj(t){let e={},n={},r={},o=new Lo([],e,r,"",n,ue,t,null,{});return new Mu("",new un(o,[]))}var Zt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[Ou]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&qA(i)&&(r.resolve[Ou]=i.title),r}var Lo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ou]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Mu=class extends Rf{url;constructor(e,n){super(n),this.url=e,$_(this,n)}toString(){return HA(this._root)}};function $_(t,e){e.value._routerState=t,e.children.forEach(n=>$_(t,n))}function HA(t){let e=t.children.length>0?` { ${t.children.map(HA).join(", ")} } `:"";return`${t.value}${e}`}function C_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hr(e.params,n.params)||t.paramsSubject.next(n.params),_j(e.url,n.url)||t.urlSubject.next(n.url),hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function O_(t,e){let n=hr(t.params,e.params)&&Dj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||O_(t.parent,e.parent))}function qA(t){return typeof t.title=="string"||t.title===null}var zA=new $(""),Fu=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new Ze;deactivateEvents=new Ze;attachEvents=new Ze;detachEvents=new Ze;routerOutletData=U0(void 0);parentContexts=P(Uo);location=P(nu);changeDetector=P(Oo);inputBinder=P(Lu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new F_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Nt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ur]})}return t})(),F_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Zt?this.route:e===Uo?this.childContexts:e===zA?this.outletData:this.parent.get(e,n)}},Lu=new $(""),H_=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Sc([r.queryParams,r.params,r.data]).pipe(at(([o,s,a],u)=>(a=k(k(k({},o),s),a),u===0?Q(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=$0(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),q_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=It({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ye(0,"router-outlet")},dependencies:[Fu],encapsulation:2})}return t})();function z_(t){let e=t.children&&t.children.map(z_),n=e?re(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=q_),n}function Wj(t,e,n){let r=Pu(t,e._root,n?n._root:void 0);return new Nu(r,e)}function Pu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Kj(t,e,n);return new un(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pu(t,a)),s}}let r=Qj(e.value),i=e.children.map(o=>Pu(t,o));return new un(r,i)}}function Kj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pu(t,r,i);return Pu(t,r)})}function Qj(t){return new Zt(new vt(t.url),new vt(t.params),new vt(t.queryParams),new vt(t.fragment),new vt(t.data),t.outlet,t.component,t)}var ma=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},GA="ngNavigationCancelingError";function Mf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=xi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WA(!1,Ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function WA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[GA]=!0,n.cancellationCode=e,n}function Yj(t){return KA(t)&&xi(t.url)}function KA(t){return!!t&&t[GA]}var Zj=(t,e,n,r)=>Z(i=>(new L_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),L_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),C_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ca(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ca(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Sf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new bf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(C_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),C_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Pf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},da=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Jj(t,e,n){let r=t._root,i=e?e._root:null;return Tu(r,i,n,[r.value])}function Xj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function _a(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Hm(t)?t:e.get(t):r}function Tu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ca(e);return t.children.forEach(s=>{eU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Cu(a,n.getContext(s),i)),i}function eU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=tU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Pf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tu(t,e,a?a.children:null,r,i):Tu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new da(a.outlet.component,s))}else s&&Cu(e,a,i),i.canActivateChecks.push(new Pf(r)),o.component?Tu(t,null,a?a.children:null,r,i):Tu(t,null,n,r,i);return i}function tU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Fo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Fo(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!O_(t,e)||!hr(t.queryParams,e.queryParams);case"paramsChange":default:return!O_(t,e)}}function Cu(t,e,n){let r=ca(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Cu(s,e.children.getContext(o),n):Cu(s,null,n):Cu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new da(e.outlet.component,i)):n.canDeactivateChecks.push(new da(null,i)):n.canDeactivateChecks.push(new da(null,i))}function Vu(t){return typeof t=="function"}function nU(t){return typeof t=="boolean"}function rU(t){return t&&Vu(t.canLoad)}function iU(t){return t&&Vu(t.canActivate)}function oU(t){return t&&Vu(t.canActivateChild)}function sU(t){return t&&Vu(t.canDeactivate)}function aU(t){return t&&Vu(t.canMatch)}function QA(t){return t instanceof Rr||t?.name==="EmptyError"}var hf=Symbol("INITIAL_VALUE");function ya(){return at(t=>Sc(t.map(e=>e.pipe(nn(1),jd(hf)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===hf)return hf;if(n===!1||cU(n))return n}return!0}),Vt(e=>e!==hf),nn(1)))}function cU(t){return xi(t)||t instanceof ma}function uU(t,e){return Ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(re(k({},n),{guardsResult:!0})):lU(s,r,i,t).pipe(Ue(a=>a&&nU(a)?dU(r,o,t,e):Q(a)),Z(a=>re(k({},n),{guardsResult:a})))})}function lU(t,e,n,r){return pe(t).pipe(Ue(i=>mU(i.component,i.route,n,e,r)),Nr(i=>i!==!0,!0))}function dU(t,e,n,r){return pe(e).pipe(gi(i=>Ps(fU(i.route.parent,r),hU(i.route,r),gU(t,i.path,n),pU(t,i.route,n))),Nr(i=>i!==!0,!0))}function hU(t,e){return t!==null&&e&&e(new Cf(t)),Q(!0)}function fU(t,e){return t!==null&&e&&e(new Tf(t)),Q(!0)}function pU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>po(()=>{let s=va(e)??n,a=_a(o,s),u=iU(a)?a.canActivate(e,t):Qe(s,()=>a(e,t));return Wr(u).pipe(Nr())}));return Q(i).pipe(ya())}function gU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Xj(s)).filter(s=>s!==null).map(s=>po(()=>{let a=s.guards.map(u=>{let l=va(s.node)??n,h=_a(u,l),p=oU(h)?h.canActivateChild(r,t):Qe(l,()=>h(r,t));return Wr(p).pipe(Nr())});return Q(a).pipe(ya())}));return Q(o).pipe(ya())}function mU(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let u=va(e)??i,l=_a(a,u),h=sU(l)?l.canDeactivate(t,e,n,r):Qe(u,()=>l(t,e,n,r));return Wr(h).pipe(Nr())});return Q(s).pipe(ya())}function yU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let a=_a(s,t),u=rU(a)?a.canLoad(e,n):Qe(t,()=>a(e,n));return Wr(u)});return Q(o).pipe(ya(),YA(r))}function YA(t){return yd(dt(e=>{if(typeof e!="boolean")throw Mf(t,e)}),Z(e=>e===!0))}function vU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let a=_a(s,t),u=aU(a)?a.canMatch(e,n):Qe(t,()=>a(e,n));return Wr(u)});return Q(o).pipe(ya(),YA(r))}var xu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ku=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function aa(t){return Rn(new xu(t))}function _U(t){return Rn(new U(4e3,!1))}function EU(t){return Rn(WA(!1,Ht.GuardRejected))}var V_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ue])return _U(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,n,r,i,o){return IU(n,i,o).pipe(Z(s=>{if(s instanceof pr)throw new ku(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ku(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new pr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function IU(t,e,n){if(typeof t=="string")return Q(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Wr(Qe(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var j_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wU(t,e,n,r,i){let o=ZA(t,e,n);return o.matched?(r=qj(e,r),vU(r,e,n,i).pipe(Z(s=>s===!0?o:k({},j_)))):Q(o)}function ZA(t,e,n){if(e.path==="**")return DU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},j_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CA)(n,t,e);if(!i)return k({},j_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function DU(t){return{matched:!0,parameters:t.length>0?AA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function DA(t,e,n,r){return n.length>0&&CU(t,n,r)?{segmentGroup:new we(e,bU(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&SU(t,n,r)?{segmentGroup:new we(t.segments,TU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function TU(t,e,n,r){let i={};for(let o of n)if(kf(t,e,o)&&!r[Bn(o)]){let s=new we([],{});i[Bn(o)]=s}return k(k({},r),i)}function bU(t,e){let n={};n[ue]=e;for(let r of t)if(r.path===""&&Bn(r)!==ue){let i=new we([],{});n[Bn(r)]=i}return n}function CU(t,e,n){return n.some(r=>kf(t,e,r)&&Bn(r)!==ue)}function SU(t,e,n){return n.some(r=>kf(t,e,r))}function kf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function AU(t,e,n){return e.length===0&&!t.children[n]}var U_=class{};function RU(t,e,n,r,i,o,s="emptyOnly"){return new B_(t,e,n,r,i,s,o).recognize()}var NU=31,B_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new V_(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=DA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new un(r,n),o=new Mu("",i),s=LA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Lo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,n).pipe(Z(r=>({children:r,rootSnapshot:n})),jt(r=>{if(r instanceof ku)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Z(s=>s instanceof un?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return pe(o).pipe(gi(s=>{let a=r.children[s],u=zj(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Vd((s,a)=>(s.push(...a),s)),mi(null),Sm(),Ue(s=>{if(s===null)return aa(r);let a=JA(s);return MU(a),Q(a)}))}processSegment(e,n,r,i,o,s,a){return pe(n).pipe(gi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(jt(l=>{if(l instanceof xu)return Q(null);throw l}))),Nr(u=>!!u),jt(u=>{if(QA(u))return AU(r,i,o)?Q(new U_):aa(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Bn(r)!==s&&(s===ue||!kf(i,o,r))?aa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):aa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=ZA(n,i,o);if(!u)return aa(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NU&&(this.allowRedirects=!1));let y=new Lo(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,TA(i),Bn(i),i.component??i._loadedComponent??null,i,bA(i)),D=Nf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(at(R=>this.applyRedirects.lineralizeSegments(i,R)),Ue(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=wU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(at(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(at(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,D=new Lo(g,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,TA(r),Bn(r),r.component??r._loadedComponent??null,r,bA(r)),N=Nf(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(N.params),D.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:O}=DA(n,g,y,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,D).pipe(Z(te=>new un(D,te)));if(l.length===0&&O.length===0)return Q(new un(D,[]));let K=Bn(r)===o;return this.processSegment(h,l,R,O,K?ue:o,!0,D).pipe(Z(te=>new un(D,te instanceof un?[te]:[])))}))):aa(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):yU(e,n,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,n).pipe(dt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):EU(n))):Q({routes:[],injector:e})}};function MU(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}function PU(t){let e=t.value.routeConfig;return e&&e.path===""}function JA(t){let e=[],n=new Set;for(let r of t){if(!PU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=JA(r.children);e.push(new un(r.value,i))}return e.filter(r=>!n.has(r))}function TA(t){return t.data||{}}function bA(t){return t.resolve||{}}function xU(t,e,n,r,i,o){return Ue(s=>RU(t,e,n,r,s.extractedUrl,i,o).pipe(Z(({state:a,tree:u})=>re(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function kU(t,e){return Ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of XA(u))s.add(l);let a=0;return pe(s).pipe(gi(u=>o.has(u)?OU(u,r,t,e):(u.data=Nf(u,u.parent,t).resolve,Q(void 0))),dt(()=>a++),xs(1),Ue(u=>a===s.size?Q(n):zt))})}function XA(t){let e=t.children.map(n=>XA(n)).flat();return[t,...e]}function OU(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!qA(i)&&(o[Ou]=i.title),po(()=>(t.data=Nf(t,t.parent,n).resolve,FU(o,t,e,r).pipe(Z(s=>(t._resolvedData=s,t.data=k(k({},t.data),s),null)))))}function FU(t,e,n,r){let i=R_(t);if(i.length===0)return Q({});let o={};return pe(i).pipe(Ue(s=>LU(t[s],e,n,r).pipe(Nr(),dt(a=>{if(a instanceof ma)throw Mf(new Pi,a);o[s]=a}))),xs(1),Z(()=>o),jt(s=>QA(s)?zt:Rn(s)))}function LU(t,e,n,r){let i=va(e)??r,o=_a(t,i),s=o.resolve?o.resolve(e,n):Qe(i,()=>o(e,n));return Wr(s)}function S_(t){return at(e=>{let n=t(e);return n?pe(n).pipe(Z(()=>e)):Q(e)})}var G_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[Ou]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>P(eR),providedIn:"root"})}return t})(),eR=(()=>{class t extends G_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(z(sa))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oi=new $("",{providedIn:"root",factory:()=>({})}),Bo=new $(""),Of=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(Qv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Wr(Qe(n,()=>r.loadComponent())).pipe(Z(nR),at(rR),dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ac(()=>{this.componentLoaders.delete(r)})),o=new Ss(i,()=>new We).pipe(Cs());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=tR(r,this.compiler,n,this.onLoadEndListener).pipe(Ac(()=>{this.childrenLoaders.delete(r)})),s=new Ss(o,()=>new We).pipe(Cs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tR(t,e,n,r){return Wr(Qe(n,()=>t.loadChildren())).pipe(Z(nR),at(rR),Ue(i=>i instanceof qh||Array.isArray(i)?Q(i):pe(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Bo,[],{optional:!0,self:!0}).flat()),{routes:s.map(z_),injector:o}}))}function VU(t){return t&&typeof t=="object"&&"default"in t}function nR(t){return VU(t)?t.default:t}function rR(t){return Q(t)}var Ff=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>P(jU),providedIn:"root"})}return t})(),jU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),W_=new $(""),K_=new $("");function iR(t,e,n){let r=t.get(K_),i=t.get(qe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),UU(t)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Qe(t,()=>u({transition:a,from:e,to:n})),s}function UU(t){return new Promise(e=>{Wh({read:()=>setTimeout(e)},{injector:t})})}var Q_=new $(""),Lf=(()=>{class t{currentNavigation=_n(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new We;transitionAbortWithErrorSubject=new We;configLoader=P(Of);environmentInjector=P(Be);destroyRef=P(rr);urlSerializer=P(jo);rootContexts=P(Uo);location=P(Ni);inputBindingEnabled=P(Lu,{optional:!0})!==null;titleStrategy=P(G_);options=P(Oi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(Ff);createViewTransition=P(W_,{optional:!0});navigationErrorHandler=P(Q_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new wf(i)),r=i=>this.events.next(new Df(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;et(()=>{this.transitions?.next(re(k({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new vt(null),this.transitions.pipe(Vt(r=>r!==null),at(r=>{let i=!1;return Q(r).pipe(at(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),zt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?re(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new gr(o.id,this.urlSerializer.serialize(o.rawUrl),"",ha.IgnoredSameUrlNavigation)),o.resolve(!1),zt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Q(o).pipe(at(u=>(this.events.next(new ki(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?zt:Promise.resolve(u))),xU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Au(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new ki(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let D=$A(this.rootComponentType).snapshot;return this.currentTransition=r=re(k({},o),{targetSnapshot:D,urlAfterRedirects:l,extras:re(k({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=l,N)),Q(r)}else return this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ha.IgnoredByUrlHandlingStrategy)),o.resolve(!1),zt}),dt(o=>{let s=new vf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),Z(o=>(this.currentTransition=r=re(k({},o),{guards:Jj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),uU(this.environmentInjector,o=>this.events.next(o)),dt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Mf(this.urlSerializer,o.guardsResult);let s=new _f(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Vt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ht.GuardRejected),!1)),S_(o=>{if(o.guards.canActivateChecks.length!==0)return Q(o).pipe(dt(s=>{let a=new Ef(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),at(s=>{let a=!1;return Q(s).pipe(kU(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ht.NoDataFromResolver)}}))}),dt(s=>{let a=new If(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),S_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=va(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(dt(h=>{a.component=h}),Z(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Sc(s(o.targetSnapshot.root)).pipe(mi(null),nn(1))}),S_(()=>this.afterPreactivation()),at(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?pe(a).pipe(Z(()=>r)):Q(r)}),Z(o=>{let s=Wj(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=re(k({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),dt(()=>{this.events.next(new Ru)}),Zj(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),nn(1),Ud(new ee(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Vt(()=>!i&&!r.targetRouterState),dt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ht.Aborted)}))),dt({next:o=>{i=!0,this.lastSuccessfulNavigation=et(this.currentNavigation),this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ud(this.transitionAbortWithErrorSubject.pipe(dt(o=>{throw o}))),Ac(()=>{i||this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),jt(o=>{if(this.destroyed)return r.resolve(!1),zt;if(i=!0,KA(o))this.events.next(new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),Yj(o)?this.events.next(new ga(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new fa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Qe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof ma){let{message:u,cancellationCode:l}=Mf(this.urlSerializer,a);this.events.next(new fr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ga(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return zt}))}))}cancelNavigationTransition(n,r,i){let o=new fr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=et(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BU(t){return t!==la}var oR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>P($U),providedIn:"root"})}return t})(),xf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},$U=(()=>{class t extends xf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Js(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sR=(()=>{class t{urlSerializer=P(jo);options=P(Oi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(Ni);urlHandlingStrategy=P(Ff);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new pr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof pr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=$A(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>P(HU),providedIn:"root"})}return t})(),HU=(()=>{class t extends sR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ki?this.updateStateMemento():n instanceof gr?this.commitTransition(r):n instanceof Au?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ru?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof fr&&n.code!==Ht.SupersededByNewNavigation&&n.code!==Ht.Redirect?this.restoreHistory(r):n instanceof fa?this.restoreHistory(r,!0):n instanceof Dn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Js(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vf(t,e){t.events.pipe(Vt(n=>n instanceof Dn||n instanceof fr||n instanceof fa||n instanceof gr),Z(n=>n instanceof Dn||n instanceof gr?0:(n instanceof fr?n.code===Ht.Redirect||n.code===Ht.SupersededByNewNavigation:!1)?2:1),Vt(n=>n!==2),nn(1)).subscribe(()=>{e()})}var qU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(Uv);stateManager=P(sR);options=P(Oi,{optional:!0})||{};pendingTasks=P(ir);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(Lf);urlSerializer=P(jo);location=P(Ni);urlHandlingStrategy=P(Ff);injector=P(Be);_events=new We;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(oR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Bo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(Lu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=et(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof fr&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dn)this.navigated=!0;else if(r instanceof ga){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||BU(i.source)},s);this.scheduleNavigation(a,la,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Hj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Rt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return et(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(z_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=VA(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return jA(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=xi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,la,null,r)}navigate(n,r={skipLocationChange:!1}){return GU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},qU):r===!1?i=k({},zU):i=r,xi(n))return _A(this.currentUrlTree,n,i);let o=this.parseUrl(n);return _A(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return Vf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new U(4008,!1)}var Fi=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=_n(null);get href(){return et(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new We;applicationErrorHandler=P(Rt);options=P(Oi,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new Zh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Dn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:xi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(G(Jt),G(Zt),Xc("tabindex"),G(Br),G(cr),G(jn))};static \u0275dir=Nt({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Dt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&iu("href",i.reactiveHref(),Iv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oa],replaceUrl:[2,"replaceUrl","replaceUrl",oa],routerLink:"routerLink"},features:[Ur]})}return t})();var ju=class{};var aR=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(n=>n instanceof Dn),gi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Xs(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return pe(i).pipe(Ms())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Q(null);let o=i.pipe(Ue(s=>s===null?Q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return pe([o,s]).pipe(Ms())}else return o})}static \u0275fac=function(r){return new(r||t)(z(Jt),z(Be),z(ju),z(Of))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cR=new $(""),WU=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=la;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ki?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Dn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof gr&&n.code===ha.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pa&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new pa(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Ov()};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function Z_(t,...e){return Wt([{provide:Bo,multi:!0,useValue:t},[],{provide:Zt,useFactory:uR,deps:[Jt]},{provide:ru,multi:!0,useFactory:lR},e.map(n=>n.\u0275providers)])}function uR(t){return t.routerState.root}function Uu(t,e){return{\u0275kind:t,\u0275providers:e}}function lR(){let t=P(Le);return e=>{let n=t.get(Si);if(e!==n.components[0])return;let r=t.get(Jt),i=t.get(dR);t.get(J_)===1&&r.initialNavigation(),t.get(pR,null,{optional:!0})?.setUpPreloading(),t.get(cR,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dR=new $("",{factory:()=>new We}),J_=new $("",{providedIn:"root",factory:()=>1});function hR(){let t=[{provide:vv,useValue:!0},{provide:J_,useValue:0},Qh(()=>{let e=P(Le);return e.get(n_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Jt),o=e.get(dR);Vf(i,()=>{r(!0)}),e.get(Lf).afterPreactivation=()=>(r(!0),o.closed?Q(void 0):o),i.initialNavigation()}))})];return Uu(2,t)}function fR(){let t=[Qh(()=>{P(Jt).setUpLocationChangeListener()}),{provide:J_,useValue:2}];return Uu(3,t)}var pR=new $("");function gR(t){return Uu(0,[{provide:pR,useExisting:aR},{provide:ju,useExisting:t}])}function mR(){return Uu(8,[H_,{provide:Lu,useExisting:H_}])}function yR(t){Ln("NgRouterViewTransitions");let e=[{provide:W_,useValue:iR},{provide:K_,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Uu(9,e)}var vR=[Ni,{provide:jo,useClass:Pi},Jt,Uo,{provide:Zt,useFactory:uR,deps:[Jt]},Of,[]],X_=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[vR,[],{provide:Bo,multi:!0,useValue:n},[],r?.errorHandler?{provide:Q_,useValue:r.errorHandler}:[],{provide:Oi,useValue:r||{}},r?.useHash?QU():YU(),KU(),r?.preloadingStrategy?gR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?ZU(r):[],r?.bindToComponentInputs?mR().\u0275providers:[],r?.enableViewTransitions?yR().\u0275providers:[],JU()]}}static forChild(n){return{ngModule:t,providers:[{provide:Bo,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=lr({type:t});static \u0275inj=Mn({})}return t})();function KU(){return{provide:cR,useFactory:()=>{let t=P(lA),e=P(Ie),n=P(Oi),r=P(Lf),i=P(jo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new WU(i,r,t,e,n)}}}function QU(){return{provide:jn,useClass:u_}}function YU(){return{provide:jn,useClass:ef}}function ZU(t){return[t.initialNavigation==="disabled"?fR().\u0275providers:[],t.initialNavigation==="enabledBlocking"?hR().\u0275providers:[]]}var Y_=new $("");function JU(){return[{provide:Y_,useFactory:lR},{provide:ru,multi:!0,useExisting:Y_}]}var _R=()=>{};var wR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},jf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new nE;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},eB=function(t){let e=wR(t);return jf.encodeByteArray(e,!0)},$u=function(t){return eB(t).replace(/\./g,"")},Uf=function(t){try{return jf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tB=()=>iE().__FIREBASE_DEFAULTS__,nB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Uf(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return _R()||tB()||nB()||rB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oE=t=>{var e,n;return(n=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DR=t=>{let e=oE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sE=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},aE=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};var $o=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function $f(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function TR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$u(JSON.stringify(n)),$u(JSON.stringify(s)),""].join(".")}var Bu={};function iB(){let t={prod:[],emulator:[]};for(let e of Object.keys(Bu))Bu[e]?t.emulator.push(e):t.prod.push(e);return t}function oB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var ER=!1;function Hf(t,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||Bu[t]===e||Bu[t]||ER)return;Bu[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=iB().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ER=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=oB(r),y=n("text"),D=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),O=n("preprendIcon"),K=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let te=g.element;a(te),h(R,N);let Ae=l();u(K,O),te.append(K,D,R,Ae),document.body.appendChild(te)}o?(D.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function sB(){var t;let e=(t=Bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RR(){let t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NR(){return!sB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hu(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var aB="FirebaseError",dn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}},$n=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?cB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new dn(i,a,r)}};function cB(t,e){return t.replace(uB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var uB=/\{\$([^}]+)}/g;function PR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(IR(o)&&IR(s)){if(!mr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IR(t){return t!==null&&typeof t=="object"}function Ea(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xR(t,e){let n=new rE(t,e);return n.subscribe.bind(n)}var rE=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tE),i.error===void 0&&(i.error=tE),i.complete===void 0&&(i.complete=tE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function lB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tE(){}var Wie=14400*1e3;function ke(t){return t&&t._delegate?t._delegate:t}var qt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ho="[DEFAULT]";var cE=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $o;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hB(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function dB(t){return t===Ho?void 0:t}function hB(t){return t.instantiationMode==="EAGER"}var qf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new cE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var fB=[],he=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(he||{}),pB={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},gB=he.INFO,mB={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},yB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=mB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yr=class{constructor(e){this.name=e,this._logLevel=gB,this._logHandler=yB,this._userLogHandler=null,fB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var vB=(t,e)=>e.some(n=>t instanceof n),kR,OR;function _B(){return kR||(kR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EB(){return OR||(OR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var FR=new WeakMap,lE=new WeakMap,LR=new WeakMap,uE=new WeakMap,hE=new WeakMap;function IB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(vr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FR.set(n,t)}).catch(()=>{}),hE.set(e,t),e}function wB(t){if(lE.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});lE.set(t,e)}var dE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VR(t){dE=t(dE)}function DB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zf(this),e,...n);return LR.set(r,e.sort?e.sort():[e]),vr(r)}:EB().includes(t)?function(...e){return t.apply(zf(this),e),vr(FR.get(this))}:function(...e){return vr(t.apply(zf(this),e))}}function TB(t){return typeof t=="function"?DB(t):(t instanceof IDBTransaction&&wB(t),vB(t,_B())?new Proxy(t,dE):t)}function vr(t){if(t instanceof IDBRequest)return IB(t);if(uE.has(t))return uE.get(t);let e=TB(t);return e!==t&&(uE.set(t,e),hE.set(e,t)),e}var zf=t=>hE.get(t);function UR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=vr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vr(s.result),u.oldVersion,u.newVersion,vr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var bB=["get","getKey","getAll","getAllKeys","count"],CB=["put","add","delete","clear"],fE=new Map;function jR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(fE.get(e))return fE.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=CB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bB.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return fE.set(e,o),o}VR(t=>re(k({},t),{get:(e,n,r)=>jR(e,n)||t.get(e,n,r),has:(e,n)=>!!jR(e,n)||t.has(e,n)}));var gE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function SB(t){let e=t.getComponent();return e?.type==="VERSION"}var mE="@firebase/app",BR="0.13.2";var Kr=new yr("@firebase/app"),AB="@firebase/app-compat",RB="@firebase/analytics-compat",NB="@firebase/analytics",MB="@firebase/app-check-compat",PB="@firebase/app-check",xB="@firebase/auth",kB="@firebase/auth-compat",OB="@firebase/database",FB="@firebase/data-connect",LB="@firebase/database-compat",VB="@firebase/functions",jB="@firebase/functions-compat",UB="@firebase/installations",BB="@firebase/installations-compat",$B="@firebase/messaging",HB="@firebase/messaging-compat",qB="@firebase/performance",zB="@firebase/performance-compat",GB="@firebase/remote-config",WB="@firebase/remote-config-compat",KB="@firebase/storage",QB="@firebase/storage-compat",YB="@firebase/firestore",ZB="@firebase/ai",JB="@firebase/firestore-compat",XB="firebase",e$="11.10.0";var yE="[DEFAULT]",t$={[mE]:"fire-core",[AB]:"fire-core-compat",[NB]:"fire-analytics",[RB]:"fire-analytics-compat",[PB]:"fire-app-check",[MB]:"fire-app-check-compat",[xB]:"fire-auth",[kB]:"fire-auth-compat",[OB]:"fire-rtdb",[FB]:"fire-data-connect",[LB]:"fire-rtdb-compat",[VB]:"fire-fn",[jB]:"fire-fn-compat",[UB]:"fire-iid",[BB]:"fire-iid-compat",[$B]:"fire-fcm",[HB]:"fire-fcm-compat",[qB]:"fire-perf",[zB]:"fire-perf-compat",[GB]:"fire-rc",[WB]:"fire-rc-compat",[KB]:"fire-gcs",[QB]:"fire-gcs-compat",[YB]:"fire-fst",[JB]:"fire-fst-compat",[ZB]:"fire-vertex","fire-js":"fire-js",[XB]:"fire-js-all"};var qu=new Map,n$=new Map,vE=new Map;function $R(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hn(t){let e=t.name;if(vE.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;vE.set(e,t);for(let n of qu.values())$R(n,t);for(let n of n$.values())$R(n,t);return!0}function Ia(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t==null?!1:t.settings!==void 0}var r$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new $n("app","Firebase",r$);var _E=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}};var ji=e$;function wE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:yE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=sE()),!n)throw Vi.create("no-options");let o=qu.get(i);if(o){if(mr(n,o.options)&&mr(r,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}let s=new qf(i);for(let u of vE.values())s.addComponent(u);let a=new _E(n,r,s);return qu.set(i,a),a}function qo(t=yE){let e=qu.get(t);if(!e&&t===yE&&sE())return wE();if(!e)throw Vi.create("no-app",{appName:t});return e}function Gf(){return Array.from(qu.values())}function Ve(t,e,n){var r;let i=(r=t$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(a.join(" "));return}Hn(new qt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var i$="firebase-heartbeat-database",o$=1,zu="firebase-heartbeat-store",pE=null;function GR(){return pE||(pE=UR(i$,o$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),pE}function s$(t){return _(this,null,function*(){try{let n=(yield GR()).transaction(zu),r=yield n.objectStore(zu).get(WR(t));return yield n.done,r}catch(e){if(e instanceof dn)Kr.warn(e.message);else{let n=Vi.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}})}function HR(t,e){return _(this,null,function*(){try{let r=(yield GR()).transaction(zu,"readwrite");yield r.objectStore(zu).put(e,WR(t)),yield r.done}catch(n){if(n instanceof dn)Kr.warn(n.message);else{let r=Vi.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(r.message)}}})}function WR(t){return`${t.name}!${t.options.appId}`}var a$=1024,c$=30,EE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new IE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>c$){let s=l$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Kr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=qR(),{heartbeatsToSend:r,unsentEntries:i}=u$(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Kr.warn(n),""}})}};function qR(){return new Date().toISOString().substring(0,10)}function u$(t,e=a$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),zR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var IE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Hu()?MR().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield s$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return HR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function zR(t){return $u(JSON.stringify({version:2,heartbeats:t})).length}function l$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function d$(t){Hn(new qt("platform-logger",e=>new gE(e),"PRIVATE")),Hn(new qt("heartbeat",e=>new EE(e),"PRIVATE")),Ve(mE,BR,t),Ve(mE,BR,"esm2017"),Ve("fire-js","")}d$("");var h$="firebase",f$="11.10.0";Ve(h$,f$,"app");function KR(t){t===void 0&&(t=P(Le));let e=t.get(zs);return n=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ui=new yi("ANGULARFIRE2_VERSION");function Gu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Da=(t,e)=>{let n=e?[e]:Gf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},wa=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(wa||{}),QR=e_()&&typeof Zone<"u"?wa.WARN:wa.SILENT;var Wf=class{zone;delegate;constructor(e,n=Tm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Bi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=P(Ie);this.outsideAngular=n.runOutsideAngular(()=>new Wf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Wf(typeof Zone>"u"?void 0:Zone.current,Dm))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YR=!1;function p$(t,e){!YR&&(QR>wa.SILENT||e_())&&(YR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function g$(t){let e=P(Ie,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function zo(t){let e=P(Ie,{optional:!0});return e?e.run(()=>t()):t()}var m$=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Qe(n,()=>zo(()=>t.apply(void 0,r)))),Ge=(t,e,n)=>(n||=e?wa.WARN:wa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(Bi),s=P(zs),a=P(Be)}catch{return p$(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=zo(()=>s.add())),i[l]=m$(i[l],r,a));let u=g$(()=>t.apply(this,i));return e?u instanceof ee?u.pipe(pi(o.outsideAngular),fi(o.insideAngular),KR(a)):u instanceof Promise?zo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>Qe(a,()=>zo(()=>h(g))),g=>Qe(a,()=>zo(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:zo(()=>u):u instanceof ee?u.pipe(pi(o.outsideAngular),fi(o.insideAngular)):zo(()=>u)});var Qr=class{constructor(e){return e}},Go=class{constructor(){return Gf()}};function y$(t){return t&&t.length===1?t[0]:new Qr(qo())}var DE=new $("angularfire2._apps"),v$={provide:Qr,useFactory:y$,deps:[[new an,DE]]},_$={provide:Go,deps:[[new an,DE]]};function E$(t){return(e,n)=>{let r=n.get(Ci);Ve("angularfire",Ui.full,"core"),Ve("angularfire",Ui.full,"app"),Ve("angular",Um.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Qr(i)}}function ZR(t,...e){return Wt([v$,_$,{provide:DE,useFactory:E$(t),multi:!0,deps:[Ie,Le,Bi,...e]}])}var JR=Ge(wE,!0);var I$=new Map,w$={activated:!1,tokenObservers:[]},D$={initialized:!1,enabled:!1};function qn(t){return I$.get(t)||Object.assign({},w$)}function nN(){return D$}var T$="https://content-firebaseappcheck.googleapis.com/v1";var b$="exchangeDebugToken",XR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Yoe=1440*60*1e3;var CE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new $o,this.pending.promise.catch(n=>{}),yield C$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new $o,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function C$(t){return new Promise(e=>{setTimeout(e,t)})}var S$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},$i=new $n("appCheck","AppCheck",S$);function rN(t){if(!qn(t).activated)throw $i.create("use-before-activation",{appName:t.name})}function iN(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw $i.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw $i.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw $i.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw $i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function oN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${T$}/projects/${n}/apps/${r}:${b$}?key=${i}`,body:{debug_token:e}}}var A$="firebase-app-check-database",R$=1,SE="firebase-app-check-store";var Kf=null;function N$(){return Kf||(Kf=new Promise((t,e)=>{try{let n=indexedDB.open(A$,R$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e($i.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(SE,{keyPath:"compositeKey"})}}}catch(n){e($i.create("storage-open",{originalErrorMessage:n?.message}))}}),Kf)}function M$(t,e){return P$(x$(t),e)}function P$(t,e){return _(this,null,function*(){let r=(yield N$()).transaction(SE,"readwrite"),o=r.objectStore(SE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a($i.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function x$(t){return`${t.options.appId}-${t.name}`}var Wu=new yr("@firebase/app-check");function TE(t,e){return Hu()?M$(t,e).catch(n=>{Wu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function sN(){return nN().enabled}function aN(){return _(this,null,function*(){let t=nN();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var k$={error:"UNKNOWN_ERROR"};function O$(t){return jf.encodeString(JSON.stringify(t),!1)}function AE(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;rN(r);let i=qn(r),o=i.token,s;if(o&&!Ku(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Ku(l)?o=l:yield TE(r,void 0))}if(!e&&o&&Ku(o))return{token:o.token};let a=!1;if(sN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=iN(oN(r,yield aN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield TE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wu.warn(l.message):n&&Wu.error(l),bE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield qn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Wu.warn(l.message):n&&Wu.error(l),s=l}let u;return o?s?Ku(o)?u={token:o.token,internalError:s}:u=bE(s):(u={token:o.token},i.token=o,yield TE(r,o)):u=bE(s),a&&j$(r,u),u})}function F$(t){return _(this,null,function*(){let e=t.app;rN(e);let{provider:n}=qn(e);if(sN()){let r=yield aN(),{token:i}=yield iN(oN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function L$(t,e,n,r){let{app:i}=t,o=qn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ku(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),eN(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eN(t))}function cN(t,e){let n=qn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eN(t){let{app:e}=t,n=qn(e),r=n.tokenRefresher;r||(r=V$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function V$(t){let{app:e}=t;return new CE(()=>_(null,null,function*(){let n=qn(e),r;if(n.token?r=yield AE(t,!0):r=yield AE(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=qn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},XR.RETRIAL_MIN_WAIT,XR.RETRIAL_MAX_WAIT)}function j$(t,e){let n=qn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ku(t){return t.expireTimeMillis-Date.now()>0}function bE(t){return{token:O$(k$),error:t}}var RE=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=qn(this.app);for(let n of e)cN(this.app,n.next);return Promise.resolve()}};function U$(t,e){return new RE(t,e)}function B$(t){return{getToken:e=>AE(t,e),getLimitedUseToken:()=>F$(t),addTokenListener:e=>L$(t,"INTERNAL",e),removeTokenListener:e=>cN(t.app,e)}}var $$="@firebase/app-check",H$="0.10.1";var q$="app-check",tN="app-check-internal";function z$(){Hn(new qt(q$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return U$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tN).initialize()})),Hn(new qt(tN,t=>{let e=t.getProvider("app-check").getImmediate();return B$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve($$,H$)}z$();var G$="app-check";var Ta=class{constructor(){return Da(G$)}};var W$=["localhost","0.0.0.0","127.0.0.1"],use=typeof window<"u"&&W$.includes(window.location.hostname);function DN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var TN=DN,bN=new $n("auth","Firebase",DN());var ep=new yr("@firebase/auth");function K$(t,...e){ep.logLevel<=he.WARN&&ep.warn(`Auth (${ji}): ${t}`,...e)}function Yf(t,...e){ep.logLevel<=he.ERROR&&ep.error(`Auth (${ji}): ${t}`,...e)}function Er(t,...e){throw WE(t,...e)}function zn(t,...e){return WE(t,...e)}function GE(t,e,n){let r=Object.assign(Object.assign({},TN()),{[e]:n});return new $n("auth","Firebase",r).create(e,{appName:t.name})}function Wo(t){return GE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q$(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(t,"argument-error"),GE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function WE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bN.create(t,...e)}function X(t,e,...n){if(!t)throw WE(e,...n)}function Yr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function Jr(t,e){t||Yr(e)}function PE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Y$(){return uN()==="http:"||uN()==="https:"}function uN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Z$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y$()||SR()||"connection"in navigator)?navigator.onLine:!0}function J$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ko=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=bR()||AR()}get(){return Z$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function KE(t,e){Jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var tp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var X$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tH=new Ko(3e4,6e4);function QE(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ca(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return CN(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ea(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return CR()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Li(t.emulatorConfig.host)&&(y.credentials="include"),tp.fetch()(yield SN(t,t.config.apiHost,n,p),y)}))})}function CN(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},X$),e);try{let i=new xE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Qf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Qf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Qf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GE(t,h,l);Er(t,h)}}catch(i){if(i instanceof dn)throw i;Er(t,"network-request-failed",{message:String(i)})}})}function nH(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Ca(t,e,n,r,i);return"mfaPendingCredential"in l&&Er(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function SN(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?KE(t.config,i):`${t.config.apiScheme}://${i}`;return eH.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var xE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),tH.get())})}};function Qf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=zn(t,e,r);return i.customData._tokenResponse=n,i}function rH(t,e){return _(this,null,function*(){return Ca(t,"POST","/v1/accounts:delete",e)})}function np(t,e){return _(this,null,function*(){return Ca(t,"POST","/v1/accounts:lookup",e)})}function Qu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function YE(t,e=!1){return _(this,null,function*(){let n=ke(t),r=yield n.getIdToken(e),i=ZE(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qu(NE(i.auth_time)),issuedAtTime:Qu(NE(i.iat)),expirationTime:Qu(NE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function NE(t){return Number(t)*1e3}function ZE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Uf(n);return i?JSON.parse(i):(Yf("Failed to decode base64 JWT payload"),null)}catch(i){return Yf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lN(t){let e=ZE(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zu(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof dn&&iH(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function iH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var kE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ju=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function rp(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Zu(t,np(n,{idToken:r}));X(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?AN(o.providerUserInfo):[],a=oH(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ju(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function JE(t){return _(this,null,function*(){let e=ke(t);yield rp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function oH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AN(t){return t.map(e=>{var{providerId:n}=e,r=Dd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function sH(t,e){return _(this,null,function*(){let n=yield CN(t,{},()=>_(null,null,function*(){let r=Ea({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield SN(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Li(t.emulatorConfig.host)&&(u.credentials="include"),tp.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function aH(t,e){return _(this,null,function*(){return Ca(t,"POST","/v2/accounts:revokeToken",QE(t,e))})}var Yu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=lN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield sH(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Yr("not implemented")}};function Hi(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Dd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ju(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Zu(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return YE(this,e)}reload(){return JE(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield rp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(hn(this.auth.app))return Promise.reject(Wo(this.auth));let e=yield this.getIdToken();return yield Zu(this,rH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:te,emailVerified:Ae,isAnonymous:kt,providerData:be,stsTokenManager:T}=n;X(te&&T,e,"internal-error");let v=Yu.fromJSON(this.name,T);X(typeof te=="string",e,"internal-error"),Hi(p,e.name),Hi(g,e.name),X(typeof Ae=="boolean",e,"internal-error"),X(typeof kt=="boolean",e,"internal-error"),Hi(y,e.name),Hi(D,e.name),Hi(N,e.name),Hi(R,e.name),Hi(O,e.name),Hi(K,e.name);let I=new t({uid:te,auth:e,email:g,emailVerified:Ae,displayName:p,isAnonymous:kt,photoURL:D,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:O,lastLoginAt:K});return be&&Array.isArray(be)&&(I.providerData=be.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Yu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rp(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?AN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ju(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var dN=new Map;function Zr(t){Jr(t instanceof Function,"Expected a class definition");let e=dN.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dN.set(t,e),e)}var cH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),OE=cH;function Zf(t,e,n){return`firebase:${t}:${e}:${n}`}var ip=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Zf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield np(this.auth,{idToken:e}).catch(()=>{});return n?qi._fromGetAccountInfoResponse(this.auth,n,e):null}return qi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Zr(OE),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Zr(OE),s=Zf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield np(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield qi._fromGetAccountInfoResponse(e,g,h)}else p=qi._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function hN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kN(e))return"Blackberry";if(ON(e))return"Webos";if(NN(e))return"Safari";if((e.includes("chrome/")||MN(e))&&!e.includes("edge/"))return"Chrome";if(xN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function RN(t=pt()){return/firefox\//i.test(t)}function NN(t=pt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MN(t=pt()){return/crios\//i.test(t)}function PN(t=pt()){return/iemobile/i.test(t)}function xN(t=pt()){return/android/i.test(t)}function kN(t=pt()){return/blackberry/i.test(t)}function ON(t=pt()){return/webos/i.test(t)}function XE(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uH(t=pt()){var e;return XE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lH(){return RR()&&document.documentMode===10}function FN(t=pt()){return XE(t)||xN(t)||ON(t)||kN(t)||/windows phone/i.test(t)||PN(t)}function LN(t,e=[]){let n;switch(t){case"Browser":n=hN(pt());break;case"Worker":n=`${hN(pt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ji}/${r}`}var FE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function dH(n){return _(this,arguments,function*(t,e={}){return Ca(t,"GET","/v2/passwordPolicy",QE(t,e))})}var hH=6,LE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:hH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var VE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new op(this),this.idTokenSubscription=new op(this),this.beforeStateQueue=new FE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ip.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield np(this,{idToken:e}),r=yield qi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(hn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=J$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(hn(this.app))return Promise.reject(Wo(this));let n=e?ke(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return hn(this.app)?Promise.reject(Wo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hn(this.app)?Promise.reject(Wo(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Zr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield dH(this),n=new LE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $n("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield aH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield ip.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&K$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function fp(t){return ke(t)}var op=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xR(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var eI={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fH(t){eI=t}function pH(t){return eI.loadJS(t)}function gH(){return eI.gapiScript}function VN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function tI(t,e){let n=Ia(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(mr(o,e??{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}function mH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nI(t,e,n){let r=fp(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=jN(e),{host:s,port:a}=yH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(mr(l,r.config.emulator)&&mr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Li(s)?($f(`${o}//${s}${u}`),Hf("Auth",!0)):i||vH()}function jN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yH(t){let e=jN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:fN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:fN(s)}}}function fN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function vH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}};function ba(t,e){return _(this,null,function*(){return nH(t,"POST","/v1/accounts:signInWithIdp",QE(t,e))})}var _H="http://localhost",sp=class t extends Xu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Dd(n,["providerId","signInMethod"]);if(!r||!i)return null;let s=new t(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let n=this.buildRequest();return ba(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ba(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ba(e,n)}buildRequest(){let e={requestUri:_H,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ea(n)}return e}};var el=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ap=class extends el{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var rI=(()=>{class t extends ap{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return sp._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var tl=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield qi._fromIdTokenResponse(e,r,i),s=pN(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=pN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function pN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var jE=class t extends dn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function UN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jE._fromErrorAndOperation(t,o,e,r):o})}function EH(t,e,n=!1){return _(this,null,function*(){let r=yield Zu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return tl._forOperation(t,"link",r)})}function IH(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(hn(r.app))return Promise.reject(Wo(r));let i="reauthenticate";try{let o=yield Zu(t,UN(r,i,e,t),n);X(o.idToken,r,"internal-error");let s=ZE(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(t.uid===a,r,"user-mismatch"),tl._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Er(r,"user-mismatch"),o}})}function wH(t,e,n=!1){return _(this,null,function*(){if(hn(t.app))return Promise.reject(Wo(t));let r="signIn",i=yield UN(t,r,e),o=yield tl._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function pp(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function iI(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function gp(t,e,n,r){return ke(t).onAuthStateChanged(e,n,r)}function oI(t){return ke(t).signOut()}var cp="__sak";var up=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var DH=1e3,TH=10,bH=(()=>{class t extends up{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);lH()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,TH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},DH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield di(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield di(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield di(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),BN=bH;var CH=(()=>{class t extends up{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),sI=CH;function SH(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var AH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield SH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function aI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var UE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=aI("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function _r(){return window}function RH(t){_r().location.href=t}function $N(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}function NH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function MH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function PH(){return $N()?self:null}var HN="firebaseLocalStorageDb",xH=1,lp="firebaseLocalStorage",qN="fbase_key",Qo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function mp(t,e){return t.transaction([lp],e?"readwrite":"readonly").objectStore(lp)}function kH(){let t=indexedDB.deleteDatabase(HN);return new Qo(t).toPromise()}function BE(){let t=indexedDB.open(HN,xH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(lp,{keyPath:qN})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(lp)?e(r):(r.close(),yield kH(),e(yield BE()))}))})}function gN(t,e,n){return _(this,null,function*(){let r=mp(t,!0).put({[qN]:e,value:n});return new Qo(r).toPromise()})}function OH(t,e){return _(this,null,function*(){let n=mp(t,!1).get(e),r=yield new Qo(n).toPromise();return r===void 0?null:r.value})}function mN(t,e){let n=mp(t,!0).delete(e);return new Qo(n).toPromise()}var FH=800,LH=3,VH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield BE(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>LH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return $N()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=AH._getInstance(PH()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield NH(),!this.activeServiceWorker)return;this.sender=new UE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||MH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield BE();return yield gN(n,cp,"1"),yield mN(n,cp),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>gN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>OH(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>mN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=mp(o,!1).getAll();return new Qo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),FH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),zN=VH;var _se=VN("rcb"),Ese=new Ko(3e4,6e4);function GN(t,e){return e?Zr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var nl=class extends Xu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ba(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function jH(t){return wH(t.auth,new nl(t),t.bypassAuthState)}function UH(t){let{auth:e,user:n}=t;return X(n,e,"internal-error"),IH(n,new nl(t),t.bypassAuthState)}function BH(t){return _(this,null,function*(){let{auth:e,user:n}=t;return X(n,e,"internal-error"),EH(n,new nl(t),t.bypassAuthState)})}var dp=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jH;case"linkViaPopup":case"linkViaRedirect":return BH;case"reauthViaPopup":case"reauthViaRedirect":return UH;default:Er(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var $H=new Ko(2e3,1e4);function cI(t,e,n){return _(this,null,function*(){if(hn(t.app))return Promise.reject(zn(t,"operation-not-supported-in-this-environment"));let r=fp(t);Q$(t,e,el);let i=GN(r,n);return new HH(r,"signInViaPopup",e,i).executeNotNull()})}var HH=(()=>{class t extends dp{constructor(n,r,i,o,s){super(n,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return X(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){Jr(this.filter.length===1,"Popup operations only handle one event");let n=aI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,$H.get())};n()}}t.currentPopupAction=null;return t})(),qH="pendingRedirect",Jf=new Map,$E=class t extends dp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Jf.get(this.auth._key());if(!e){try{let r=(yield zH(this.resolver,this.auth))?yield di(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return di(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,di(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function zH(t,e){return _(this,null,function*(){let n=KH(e),r=WH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function GH(t,e){Jf.set(t._key(),e)}function WH(t){return Zr(t._redirectPersistence)}function KH(t){return Zf(qH,t.config.apiKey,t.name)}function QH(t,e,n=!1){return _(this,null,function*(){if(hn(t.app))return Promise.reject(Wo(t));let r=fp(t),i=GN(r,e),s=yield new $E(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var YH=600*1e3,HE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!WN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YH&&this.cachedEventUids.clear(),this.cachedEventUids.has(yN(e))}saveEventToCache(e){this.cachedEventUids.add(yN(e)),this.lastProcessedEventTime=Date.now()}};function yN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function WN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WN(t);default:return!1}}function JH(n){return _(this,arguments,function*(t,e={}){return Ca(t,"GET","/v1/projects",e)})}var XH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e4=/^https?/;function t4(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield JH(t);for(let n of e)try{if(n4(n))return}catch{}Er(t,"unauthorized-domain")})}function n4(t){let e=PE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!e4.test(n))return!1;if(XH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var r4=new Ko(3e4,6e4);function vN(){let t=_r().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i4(t){return new Promise((e,n)=>{var r,i,o;function s(){vN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vN(),n(zn(t,"network-request-failed"))},timeout:r4.get()})}if(!((i=(r=_r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=_r().gapi)===null||o===void 0)&&o.load)s();else{let a=VN("iframefcb");return _r()[a]=()=>{gapi.load?s():n(zn(t,"network-request-failed"))},pH(`${gH()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Xf=null,e})}var Xf=null;function o4(t){return Xf=Xf||i4(t),Xf}var s4=new Ko(5e3,15e3),a4="__/auth/iframe",c4="emulator/auth/iframe",u4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d4(t){let e=t.config;X(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?KE(e,c4):`https://${t.config.authDomain}/${a4}`,r={apiKey:e.apiKey,appName:t.name,v:ji},i=l4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ea(r).slice(1)}`}function h4(t){return _(this,null,function*(){let e=yield o4(t),n=_r().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:d4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u4,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=zn(t,"network-request-failed"),a=_r().setTimeout(()=>{o(s)},s4.get());function u(){_r().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var f4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,g4=600,m4="_blank",y4="http://localhost",hp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function v4(t,e,n,r=p4,i=g4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},f4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=pt().toLowerCase();n&&(a=MN(l)?m4:n),RN(l)&&(e=e||y4,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,D])=>`${g}${y}=${D},`,"");if(uH(l)&&a!=="_self")return _4(e||"",a),new hp(null);let p=window.open(e||"",a,h);X(p,t,"popup-blocked");try{p.focus()}catch{}return new hp(p)}function _4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var E4="__/auth/handler",I4="emulator/auth/handler",w4=encodeURIComponent("fac");function _N(t,e,n,r,i,o){return _(this,null,function*(){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ji,eventId:i};if(e instanceof el){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",PR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof ap){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${w4}=${encodeURIComponent(u)}`:"";return`${D4(t)}?${Ea(a).slice(1)}${l}`})}function D4({config:t}){return t.emulator?KE(t,I4):`https://${t.authDomain}/${E4}`}var ME="webStorageSupport",qE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sI,this._completeRedirectFn=QH,this._overrideRedirectResult=GH}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Jr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield _N(e,n,r,PE(),i);return v4(e,s,aI())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield _N(e,n,r,PE(),i);return RH(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield h4(e),r=new HE(e);return n.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ME,{type:ME},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ME];s!==void 0&&n(!!s),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FN()||NN()||XE()}},KN=qE;var EN="@firebase/auth",IN="1.10.8";var zE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function T4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b4(t){Hn(new qt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LN(t)},l=new VE(r,i,o,u);return mH(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hn(new qt("auth-internal",e=>{let n=fp(e.getProvider("auth").getImmediate());return(r=>new zE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(EN,IN,T4(t)),Ve(EN,IN,"esm2017")}var C4=300,S4=aE("authIdTokenMaxAge")||C4,wN=null,A4=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S4)return;let i=n?.token;wN!==i&&(wN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function uI(t=qo()){let e=Ia(t,"auth");if(e.isInitialized())return e.getImmediate();let n=tI(t,{popupRedirectResolver:KN,persistence:[zN,BN,sI]}),r=aE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=A4(o.toString());iI(n,s,()=>s(n.currentUser)),pp(n,a=>s(a))}}let i=oE("auth");return i&&nI(n,`http://${i}`),n}function R4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=zn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",R4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b4("Browser");function YN(t){return new ee(function(e){var n=gp(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var ZN="auth",Gn=class{constructor(e){return e}},rl=class{constructor(){return Da(ZN)}};var lI=new $("angularfire2.auth-instances");function v3(t,e){let n=Gu(ZN,t,e);return n&&new Gn(n)}function _3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gn(r)}}var E3={provide:rl,deps:[[new an,lI]]},I3={provide:Gn,useFactory:v3,deps:[[new an,lI],Qr]};function JN(t,...e){return Ve("angularfire",Ui.full,"auth"),Wt([I3,E3,{provide:lI,useFactory:_3(t),multi:!0,deps:[Ie,Le,Bi,Go,[new an,Ta],...e]}])}var Sa=Ge(YN,!0);var XN=Ge(uI,!0);var eM=Ge(cI,!0,2);var tM=Ge(oI,!0,2);var nM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rM={};var Xr,hI;(function(){var t;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,b,S){for(var E=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)E[Cr-2]=arguments[Cr];return v.prototype[b].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)w[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],b=T.g[2];var S=T.g[3],E=v+(S^I&(b^S))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[2]+606105819&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[3]+3250441966&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[6]+2821735955&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[7]+4249261313&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[10]+4294925233&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[11]+2304563134&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(S^I&(b^S))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(b^v&(I^b))+w[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=b+(I^S&(v^I))+w[14]+2792965006&4294967295,b=S+(E<<17&4294967295|E>>>15),E=I+(v^b&(S^v))+w[15]+1236535329&4294967295,I=b+(E<<22&4294967295|E>>>10),E=v+(b^S&(I^b))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[11]+643717713&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[0]+3921069994&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[15]+3634488961&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[4]+3889429448&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[3]+4107603335&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[8]+1163531501&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(b^S&(I^b))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^b&(v^I))+w[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=b+(v^I&(S^v))+w[7]+1735328473&4294967295,b=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(b^S))+w[12]+2368359562&4294967295,I=b+(E<<20&4294967295|E>>>12),E=v+(I^b^S)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[11]+1839030562&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[14]+4259657740&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[7]+4139469664&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[10]+3200236656&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[3]+3572445317&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[6]+76029189&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(I^b^S)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^b)+w[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=b+(S^v^I)+w[15]+530742520&4294967295,b=S+(E<<16&4294967295|E>>>16),E=I+(b^S^v)+w[2]+3299628645&4294967295,I=b+(E<<23&4294967295|E>>>9),E=v+(b^(I|~S))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[14]+2878612391&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[5]+4237533241&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[10]+4293915773&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[1]+2240044497&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[6]+2734768916&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[13]+1309151649&4294967295,I=b+(E<<21&4294967295|E>>>11),E=v+(b^(I|~S))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~b))+w[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=b+(v^(S|~I))+w[2]+718787259&4294967295,b=S+(E<<15&4294967295|E>>>17),E=I+(S^(b|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(b+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+b&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<v;)if(w[b++]=T.charCodeAt(S++),b==this.blockSize){i(this,w),b=0;break}}else for(;S<v;)if(w[b++]=T[S++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,b=T.length-1;0<=b;b--){var S=T[b]|0;w&&S==v||(I[b]=S,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,b=0;b<T.length;b+=8){var S=Math.min(8,T.length-b),E=parseInt(T.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(D(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var b=Ae(I,v).g;I=O(I,b.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=b,D(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function D(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}t.l=function(T){return T=O(this,T),N(T)?-1:D(T)?0:1};function R(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(g)}t.abs=function(){return N(this)?R(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,b=0;b<=v;b++){var S=w+(this.i(b)&65535)+(T.i(b)&65535),E=(S>>>16)+(this.i(b)>>>16)+(T.i(b)>>>16);w=E>>>16,S&=65535,E&=65535,I[b]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function O(T,v){return T.add(R(v))}t.j=function(T){if(D(this)||D(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<T.g.length;b++){var S=this.i(w)>>>16,E=this.i(w)&65535,Cr=T.i(b)>>>16,nc=T.i(b)&65535;I[2*w+2*b]+=E*nc,K(I,2*w+2*b),I[2*w+2*b+1]+=S*nc,K(I,2*w+2*b+1),I[2*w+2*b+1]+=E*Cr,K(I,2*w+2*b+1),I[2*w+2*b+2]+=S*Cr,K(I,2*w+2*b+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function K(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function te(T,v){this.g=T,this.h=v}function Ae(T,v){if(D(v))throw Error("division by zero");if(D(T))return new te(p,p);if(N(T))return v=Ae(R(T),v),new te(R(v.g),R(v.h));if(N(v))return v=Ae(T,R(v)),new te(R(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,w=v;0>=w.l(T);)I=kt(I),w=kt(w);var b=be(I,1),S=be(w,1);for(w=be(w,2),I=be(I,2);!D(w);){var E=S.add(w);0>=E.l(T)&&(b=b.add(I),S=E),w=be(w,1),I=be(I,1)}return v=O(T,b.j(v)),new te(b,v)}for(b=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(v);N(E)||0<E.l(T);)I-=w,S=l(I),E=S.j(v);D(S)&&(S=g),b=b.add(S),T=O(T,E)}return new te(b,T)}t.A=function(T){return Ae(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function kt(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function be(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,b=[],S=0;S<w;S++)b[S]=0<v?T.i(S+I)>>>v|T.i(S+I+1)<<32-v:T.i(S+I);return new s(b,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hI=rM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Xr=rM.Integer=s}).apply(typeof nM<"u"?nM:typeof self<"u"?self:typeof window<"u"?window:{});var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ei={};var fI,w3,Aa,pI,il,vp,gI,mI,yI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yp=="object"&&yp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,C={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,C,A){for(var F=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)F[Re-2]=arguments[Re];return d.prototype[C].apply(m,F)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let C=c.length||0,A=m.length||0;c.length=C+A;for(let F=0;F<A;F++)c[C+F]=m[F]}else c.push(m)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ae(c){return Ae[" "](c),c}Ae[" "]=function(){};var kt=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function be(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Og;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Cr{constructor(){this.h=this.g=null}add(d,f){let m=nc.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var nc=new O(()=>new Nk,c=>c.reset());class Nk{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let rc,ic=!1,Og=new Cr,eT=()=>{let c=a.Promise.resolve(void 0);rc=()=>{c.then(Mk)}};var Mk=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=nc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ic=!1};function ai(){this.s=this.s,this.C=this.C}ai.prototype.s=!1,ai.prototype.ma=function(){this.s||(this.s=!0,this.N())},ai.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Pk=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function oc(c,d){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(kt){e:{try{Ae(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oc.aa.h.call(this)}}D(oc,Tt);var xk={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),kk=0;function Ok(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++kk,this.da=this.fa=!1}function jl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ul(c){this.src=c,this.g={},this.h=0}Ul.prototype.add=function(c,d,f,m,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var F=Lg(c,d,m,C);return-1<F?(d=c[F],f||(d.fa=!1)):(d=new Ok(d,this.src,A,!!m,C),d.fa=f,c.push(d)),d};function Fg(c,d){var f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(m,C,1),A&&(jl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Lg(c,d,f,m){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return C}return-1}var Vg="closure_lm_"+(1e6*Math.random()|0),jg={};function tT(c,d,f,m,C){if(m&&m.once)return rT(c,d,f,m,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)tT(c,d[A],f,m,C);return null}return f=Hg(f),c&&c[sc]?c.K(d,f,l(m)?!!m.capture:!!m,C):nT(c,d,f,!1,m,C)}function nT(c,d,f,m,C,A){if(!d)throw Error("Invalid event type");var F=l(C)?!!C.capture:!!C,Re=Bg(c);if(Re||(c[Vg]=Re=new Ul(c)),f=Re.add(d,f,m,F,A),f.proxy)return f;if(m=Fk(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)Pk||(C=F),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(oT(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Fk(){function c(f){return d.call(c.src,c.listener,f)}let d=Lk;return c}function rT(c,d,f,m,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)rT(c,d[A],f,m,C);return null}return f=Hg(f),c&&c[sc]?c.L(d,f,l(m)?!!m.capture:!!m,C):nT(c,d,f,!0,m,C)}function iT(c,d,f,m,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)iT(c,d[A],f,m,C);else m=l(m)?!!m.capture:!!m,f=Hg(f),c&&c[sc]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Lg(A,f,m,C),-1<f&&(jl(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Bg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Lg(d,f,m,C)),(f=-1<c?d[c]:null)&&Ug(f))}function Ug(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[sc])Fg(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(oT(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Bg(d))?(Fg(f,c),f.h==0&&(f.src=null,d[Vg]=null)):jl(c)}}}function oT(c){return c in jg?jg[c]:jg[c]="on"+c}function Lk(c,d){if(c.da)c=!0;else{d=new oc(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&Ug(c),c=f.call(m,d)}return c}function Bg(c){return c=c[Vg],c instanceof Ul?c:null}var $g="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hg(c){return typeof c=="function"?c:(c[$g]||(c[$g]=function(d){return c.handleEvent(d)}),c[$g])}function bt(){ai.call(this),this.i=new Ul(this),this.M=this,this.F=null}D(bt,ai),bt.prototype[sc]=!0,bt.prototype.removeEventListener=function(c,d,f,m){iT(this,c,d,f,m)};function Ot(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Tt(d,c);else if(d instanceof Tt)d.target=d.target||c;else{var C=d;d=new Tt(m,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var F=d.g=f[A];C=Bl(F,m,!0,d)&&C}if(F=d.g=c,C=Bl(F,m,!0,d)&&C,C=Bl(F,m,!1,d)&&C,f)for(A=0;A<f.length;A++)F=d.g=f[A],C=Bl(F,m,!1,d)&&C}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)jl(f[m]);delete c.g[d],c.h--}}this.F=null},bt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},bt.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Bl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var F=d[A];if(F&&!F.da&&F.capture==f){var Re=F.listener,yt=F.ha||F.src;F.fa&&Fg(c.i,F),C=Re.call(yt,m)!==!1&&C}}return C&&!m.defaultPrevented}function sT(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function aT(c){c.g=sT(()=>{c.g=null,c.i&&(c.i=!1,aT(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Vk extends ai{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:aT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ac(c){ai.call(this),this.h=c,this.g={}}D(ac,ai);var cT=[];function uT(c){be(c.g,function(d,f){this.g.hasOwnProperty(f)&&Ug(d)},c),c.g={}}ac.prototype.N=function(){ac.aa.N.call(this),uT(this)},ac.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qg=a.JSON.stringify,jk=a.JSON.parse,Uk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function zg(){}zg.prototype.h=null;function lT(c){return c.h||(c.h=c.i())}function dT(){}var cc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gg(){Tt.call(this,"d")}D(Gg,Tt);function Wg(){Tt.call(this,"c")}D(Wg,Tt);var oo={},hT=null;function $l(){return hT=hT||new bt}oo.La="serverreachability";function fT(c){Tt.call(this,oo.La,c)}D(fT,Tt);function uc(c){let d=$l();Ot(d,new fT(d))}oo.STAT_EVENT="statevent";function pT(c,d){Tt.call(this,oo.STAT_EVENT,c),this.stat=d}D(pT,Tt);function Ft(c){let d=$l();Ot(d,new pT(d,c))}oo.Ma="timingevent";function gT(c,d){Tt.call(this,oo.Ma,c),this.size=d}D(gT,Tt);function lc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function dc(){this.g=!0}dc.prototype.xa=function(){this.g=!1};function Bk(c,d,f,m,C,A){c.info(function(){if(c.g)if(A)for(var F="",Re=A.split("&"),yt=0;yt<Re.length;yt++){var Ee=Re[yt].split("=");if(1<Ee.length){var Ct=Ee[0];Ee=Ee[1];var St=Ct.split("_");F=2<=St.length&&St[1]=="type"?F+(Ct+"="+Ee+"&"):F+(Ct+"=redacted&")}}else F=null;else F=A;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+F})}function $k(c,d,f,m,C,A,F){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+F})}function ds(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+qk(c,f)+(m?" "+m:"")})}function Hk(c,d){c.info(function(){return"TIMEOUT: "+d})}dc.prototype.info=function(){};function qk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var F=1;F<C.length;F++)C[F]=""}}}}return qg(f)}catch{return d}}var Hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kg;function ql(){}D(ql,zg),ql.prototype.g=function(){return new XMLHttpRequest},ql.prototype.i=function(){return{}},Kg=new ql;function ci(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new ac(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yT}function yT(){this.i=null,this.g="",this.h=!1}var vT={},Qg={};function Yg(c,d,f){c.L=1,c.v=Kl(Sr(d)),c.m=f,c.P=!0,_T(c,null)}function _T(c,d){c.F=Date.now(),zl(c),c.A=Sr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),xT(f.i,"t",m),c.C=0,f=c.j.J,c.h=new yT,c.g=ZT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Vk(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(cT[0]=C.toString()),C=cT);for(var A=0;A<C.length;A++){var F=tT(f,C[A],m||d.handleEvent,!1,d.h||d);if(!F)break;d.g[F.key]=F}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),uc(),Bk(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;let d=this.M;d&&Ar(c)==3?d.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{let St=Ar(this.g);var d=this.g.Ba();let ps=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||UT(this.g)))){this.J||St!=4||d==7||(d==8||0>=ps?uc(3):uc(2)),Zg(this);var f=this.g.Z();this.X=f;t:if(ET(this)){var m=UT(this.g);c="";var C=m.length,A=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){so(this),hc(this);var F="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==C-1)});m.length=0,this.h.g+=c,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,$k(this.i,this.u,this.A,this.l,this.R,St,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,yt=this.g;if((Re=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Re)){var Ee=Re;break t}}Ee=null}if(f=Ee)ds(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jg(this,f);else{this.o=!1,this.s=3,Ft(12),so(this),hc(this);break e}}if(this.P){f=!0;let Sn;for(;!this.J&&this.C<F.length;)if(Sn=zk(this,F),Sn==Qg){St==4&&(this.s=4,Ft(14),f=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==vT){this.s=4,Ft(15),ds(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else ds(this.i,this.l,Sn,null),Jg(this,Sn);if(ET(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||F.length!=0||this.h.h||(this.s=1,Ft(16),f=!1),this.o=this.o&&f,!f)ds(this.i,this.l,F,"[Invalid Chunked Response]"),so(this),hc(this);else if(0<F.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),im(Ct),Ct.M=!0,Ft(11))}}else ds(this.i,this.l,F,null),Jg(this,F);St==4&&so(this),this.o&&!this.J&&(St==4?WT(this.j,this):(this.o=!1,zl(this)))}else cO(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),so(this),hc(this)}}}catch{}finally{}};function ET(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zk(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Qg:(f=Number(d.substring(f,m)),isNaN(f)?vT:(m+=1,m+f>d.length?Qg:(d=d.slice(m,m+f),c.C=m+f,d)))}ci.prototype.cancel=function(){this.J=!0,so(this)};function zl(c){c.S=Date.now()+c.I,IT(c,c.I)}function IT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=lc(g(c.ba,c),d)}function Zg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Hk(this.i,this.A),this.L!=2&&(uc(),Ft(17)),so(this),this.s=2,hc(this)):IT(this,this.S-c)};function hc(c){c.j.G==0||c.J||WT(c.j,c)}function so(c){Zg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,uT(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Jg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Xg(f.h,c))){if(!c.K&&Xg(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Xl(f),Zl(f);else break e;rm(f),Ft(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=lc(g(f.Za,f),6e3));if(1>=TT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else co(f,11)}else if((c.K||f.g==c)&&Xl(f),!K(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ee=C[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let Ct=Ee[3];Ct!=null&&(f.la=Ct,f.j.info("VER="+f.la));let St=Ee[4];St!=null&&(f.Aa=St,f.j.info("SVER="+f.Aa));let ps=Ee[5];ps!=null&&typeof ps=="number"&&0<ps&&(m=1.5*ps,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Sn=c.g;if(Sn){let td=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(td){var A=m.h;A.g||td.indexOf("spdy")==-1&&td.indexOf("quic")==-1&&td.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(em(A,A.h),A.h=null))}if(m.D){let om=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;om&&(m.ya=om,Me(m.I,m.D,om))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=c;if(m.qa=YT(m,m.J?m.ia:null,m.W),F.K){bT(m.h,F);var Re=F,yt=m.L;yt&&(Re.I=yt),Re.B&&(Zg(Re),zl(Re)),m.g=F}else zT(m);0<f.i.length&&Jl(f)}else Ee[0]!="stop"&&Ee[0]!="close"||co(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?co(f,7):nm(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}uc(4)}catch{}}var Gk=class{constructor(c,d){this.g=c,this.map=d}};function wT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function DT(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function TT(c){return c.h?1:c.g?c.g.size:0}function Xg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function em(c,d){c.g?c.g.add(d):c.h=d}function bT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}wT.prototype.cancel=function(){if(this.i=CT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function CT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function Wk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function Kk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function ST(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Kk(c),m=Wk(c),C=m.length,A=0;A<C;A++)d.call(void 0,m[A],f&&f[A],c)}var AT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),C=null;if(0<=m){var A=c[f].substring(0,m);C=c[f].substring(m+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ao(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ao){this.h=c.h,Gl(this,c.j),this.o=c.o,this.g=c.g,Wl(this,c.s),this.l=c.l;var d=c.i,f=new gc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),RT(this,f),this.m=c.m}else c&&(d=String(c).match(AT))?(this.h=!1,Gl(this,d[1]||"",!0),this.o=fc(d[2]||""),this.g=fc(d[3]||"",!0),Wl(this,d[4]),this.l=fc(d[5]||"",!0),RT(this,d[6]||"",!0),this.m=fc(d[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}ao.prototype.toString=function(){var c=[],d=this.j;d&&c.push(pc(d,NT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(pc(d,NT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(pc(f,f.charAt(0)=="/"?Jk:Zk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",pc(f,eO)),c.join("")};function Sr(c){return new ao(c)}function Gl(c,d,f){c.j=f?fc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Wl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function RT(c,d,f){d instanceof gc?(c.i=d,tO(c.i,c.h)):(f||(d=pc(d,Xk)),c.i=new gc(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function Kl(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Yk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var NT=/[#\/\?@]/g,Zk=/[#\?:]/g,Jk=/[#\?]/g,Xk=/[#\?@]/g,eO=/#/g;function gc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ui(c){c.g||(c.g=new Map,c.h=0,c.i&&Qk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=gc.prototype,t.add=function(c,d){ui(this),this.i=null,c=hs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function MT(c,d){ui(c),d=hs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function PT(c,d){return ui(c),d=hs(c,d),c.g.has(d)}t.forEach=function(c,d){ui(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)},t.na=function(){ui(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let C=c[m];for(let A=0;A<C.length;A++)f.push(d[m])}return f},t.V=function(c){ui(this);let d=[];if(typeof c=="string")PT(this,c)&&(d=d.concat(this.g.get(hs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ui(this),this.i=null,c=hs(this,c),PT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function xT(c,d,f){MT(c,d),0<f.length&&(c.i=null,c.g.set(hs(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var C=A;F[m]!==""&&(C+="="+encodeURIComponent(String(F[m]))),c.push(C)}}return this.i=c.join("&")};function hs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function tO(c,d){d&&!c.j&&(ui(c),c.i=null,c.g.forEach(function(f,m){var C=m.toLowerCase();m!=C&&(MT(this,m),xT(this,C,f))},c)),c.j=d}function nO(c,d){let f=new dc;if(a.Image){let m=new Image;m.onload=y(li,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(li,f,"TestLoadImage: error",!1,d,m),m.onabort=y(li,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(li,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function rO(c,d){let f=new dc,m=new AbortController,C=setTimeout(()=>{m.abort(),li(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(C),A.ok?li(f,"TestPingServer: ok",!0,d):li(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),li(f,"TestPingServer: error",!1,d)})}function li(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function iO(){this.g=new Uk}function oO(c,d,f){let m=f||"";try{ST(c,function(C,A){let F=C;l(C)&&(F=qg(C)),d.push(m+A+"="+encodeURIComponent(F))})}catch(C){throw d.push(m+"type="+encodeURIComponent("_badmap")),C}}function mc(c){this.l=c.Ub||null,this.j=c.eb||!1}D(mc,zg),mc.prototype.g=function(){return new Ql(this.l,this.j)},mc.prototype.i=(function(c){return function(){return c}})({});function Ql(c,d){bt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ql,bt),t=Ql.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,vc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kT(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function kT(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?yc(this):vc(this),this.readyState==3&&kT(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,yc(this))},t.Qa=function(c){this.g&&(this.response=c,yc(this))},t.ga=function(){this.g&&yc(this)};function yc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,vc(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function vc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function OT(c){let d="";return be(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function tm(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=OT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function Oe(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Oe,bt);var sO=/^https?$/i,aO=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kg.g(),this.v=this.o?lT(this.o):lT(Kg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){FT(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aO,d,void 0))||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,F]of f)this.g.setRequestHeader(A,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){FT(this,A)}};function FT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,LT(c),Yl(c)}function LT(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VT(this):this.bb())},t.bb=function(){VT(this)};function VT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Ar(c)!=4||c.Z()!=2)){if(c.u&&Ar(c)==4)sT(c.Ea,0,c);else if(Ot(c,"readystatechange"),Ar(c)==4){c.h=!1;try{let F=c.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=F===0){var C=String(c.D).match(AT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),m=!sO.test(C?C.toLowerCase():"")}f=m}if(f)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var A=2<Ar(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",LT(c)}}finally{Yl(c)}}}}function Yl(c,d){if(c.g){jT(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ot(c,"ready");try{f.onreadystatechange=m}catch{}}}function jT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Ar(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),jk(d)}};function UT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cO(c){let d={};c=(c.g&&2<=Ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(K(c[m]))continue;var f=b(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}T(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _c(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function BT(c){this.Aa=0,this.i=[],this.j=new dc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_c("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_c("baseRetryDelayMs",5e3,c),this.cb=_c("retryDelaySeedMs",1e4,c),this.Wa=_c("forwardChannelMaxRetries",2,c),this.wa=_c("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wT(c&&c.concurrentRequestLimit),this.Da=new iO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=BT.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Ft(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=YT(this,null,this.W),Jl(this)};function nm(c){if($T(c),c.G==3){var d=c.U++,f=Sr(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),Ec(c,f),d=new ci(c,c.j,d),d.L=2,d.v=Kl(Sr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ZT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zl(d)}QT(c)}function Zl(c){c.g&&(im(c),c.g.cancel(),c.g=null)}function $T(c){Zl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Jl(c){if(!DT(c.h)&&!c.s){c.s=!0;var d=c.Ga;rc||eT(),ic||(rc(),ic=!0),Og.add(d,c),c.B=0}}function uO(c,d){return TT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=lc(g(c.Ga,c,d),KT(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new ci(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=qT(this,C,d),f=Sr(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),Ec(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(OT(A)))+"&"+d:this.m&&tm(f,this.m,A)),em(this.h,C),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),C.T=!0,Yg(C,f,null)):Yg(C,f,d),this.G=2}}else this.G==3&&(c?HT(this,c):this.i.length==0||DT(this.h)||HT(this))};function HT(c,d){var f;d?f=d.l:f=c.U++;let m=Sr(c.I);Me(m,"SID",c.K),Me(m,"RID",f),Me(m,"AID",c.T),Ec(c,m),c.m&&c.o&&tm(m,c.m,c.o),f=new ci(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=qT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),em(c.h,f),Yg(f,m,d)}function Ec(c,d){c.H&&be(c.H,function(f,m){Me(d,m,f)}),c.l&&ST({},function(f,m){Me(d,m,f)})}function qT(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let F=["count="+f];A==-1?0<f?(A=C[0].g,F.push("ofs="+A)):A=0:F.push("ofs="+A);let Re=!0;for(let yt=0;yt<f;yt++){let Ee=C[yt].g,Ct=C[yt].map;if(Ee-=A,0>Ee)A=Math.max(0,C[yt].g-100),Re=!1;else try{oO(Ct,F,"req"+Ee+"_")}catch{m&&m(Ct)}}if(Re){m=F.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function zT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;rc||eT(),ic||(rc(),ic=!0),Og.add(d,c),c.v=0}}function rm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=lc(g(c.Fa,c),KT(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,GT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=lc(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Zl(this),GT(this))};function im(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function GT(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Sr(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),Ec(c,d),c.m&&c.o&&tm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Kl(Sr(d)),f.m=null,f.P=!0,_T(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Zl(this),rm(this),Ft(19))};function Xl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function WT(c,d){var f=null;if(c.g==d){Xl(c),im(c),c.g=null;var m=2}else if(Xg(c.h,d))f=d.D,bT(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;m=$l(),Ot(m,new gT(m,f)),Jl(c)}else zT(c);else if(C=d.s,C==3||C==0&&0<d.X||!(m==1&&uO(c,d)||m==2&&rm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:co(c,5);break;case 4:co(c,10);break;case 3:co(c,6);break;default:co(c,2)}}}function KT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function co(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let C=!m;m=new ao(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gl(m,"https"),Kl(m),C?nO(m.toString(),f):rO(m.toString(),f)}else Ft(2);c.G=0,c.l&&c.l.sa(d),QT(c),$T(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function QT(c){if(c.G=0,c.ka=[],c.l){let d=CT(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function YT(c,d,f){var m=f instanceof ao?Sr(f):new ao(f);if(m.g!="")d&&(m.g=d+"."+m.g),Wl(m,m.s);else{var C=a.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new ao(null);m&&Gl(A,m),d&&(A.g=d),C&&Wl(A,C),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Me(m,f,d),Me(m,"VER",c.la),Ec(c,m),m}function ZT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new mc({eb:f})):new Oe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function JT(){}t=JT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ed(){}ed.prototype.g=function(c,d){return new en(c,d)};function en(c,d){bt.call(this),this.g=new BT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new fs(this)}D(en,bt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){nm(this.g)},en.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=qg(c),c=f);d.i.push(new Gk(d.Ya++,c)),d.G==3&&Jl(d)},en.prototype.N=function(){this.g.l=null,delete this.j,nm(this.g),delete this.g,en.aa.N.call(this)};function XT(c){Gg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(XT,Gg);function eb(){Wg.call(this),this.status=1}D(eb,Wg);function fs(c){this.g=c}D(fs,JT),fs.prototype.ua=function(){Ot(this.g,"a")},fs.prototype.ta=function(c){Ot(this.g,new XT(c))},fs.prototype.sa=function(c){Ot(this.g,new eb)},fs.prototype.ra=function(){Ot(this.g,"b")},ed.prototype.createWebChannel=ed.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,yI=ei.createWebChannelTransport=function(){return new ed},mI=ei.getStatEventTarget=function(){return $l()},gI=ei.Event=oo,vp=ei.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,il=ei.ErrorCode=Hl,mT.COMPLETE="complete",pI=ei.EventType=mT,dT.EventType=cc,cc.OPEN="a",cc.CLOSE="b",cc.ERROR="c",cc.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Aa=ei.WebChannel=dT,w3=ei.FetchXmlHttpFactory=mc,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,fI=ei.XhrIo=Oe}).apply(typeof yp<"u"?yp:typeof self<"u"?self:typeof window<"u"?window:{});var iM="@firebase/firestore",oM="4.8.0";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var Wa="11.10.0";var ts=new yr("@firebase/firestore");function Ra(){return ts.logLevel}function B(t,...e){if(ts.logLevel<=he.DEBUG){let n=e.map(aD);ts.debug(`Firestore (${Wa}): ${t}`,...n)}}function ti(t,...e){if(ts.logLevel<=he.ERROR){let n=e.map(aD);ts.error(`Firestore (${Wa}): ${t}`,...n)}}function Qi(t,...e){if(ts.logLevel<=he.WARN){let n=e.map(aD);ts.warn(`Firestore (${Wa}): ${t}`,...n)}}function aD(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZM(t,r,n)}function ZM(t,e,n){let r=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ti(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZM(e,i,r)}function se(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var bp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},DI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}},TI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},bI=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new bp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new gt(e)}},CI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},SI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new CI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},AI=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function D3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function JM(){return new TextEncoder}var ll=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=D3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function le(t,e){return t<e?-1:t>e?1:0}function RI(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return le(r,i);{let o=JM(),s=T3(o.encode(sM(t,n)),o.encode(sM(e,n)));return s!==0?s:le(r,i)}}n+=r>65535?2:1}return le(t.length,e.length)}function sM(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function T3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return le(t[n],e[n]);return le(t.length,e.length)}function Fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var aM="__name__",Sp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return le(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):RI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}},xe=class t extends Sp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},b3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pn=class t extends Sp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return b3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aM}static keyField(){return new t([aM])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};function XM(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C3(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cM(t){if(!W.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uM(t){if(W.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Xt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=og(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ot(t,e){let n={typeString:t};return e&&(n.value=e),n}function bl(t,e){if(!eP(t))throw new L(M.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new L(M.INVALID_ARGUMENT,n);return!0}var lM=-62135596800,dM=1e6,st=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lM)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dM}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bl(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-lM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:ot("string",st._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};var ce=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new st(0,0))}static max(){return new t(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var dl=-1,NI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};NI.UNKNOWN_ID=-1;function S3(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new ns(i,W.empty(),e)}function A3(t){return new ns(t.readTime,t.key,dl)}var ns=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ce.min(),W.empty(),dl)}static max(){return new t(ce.max(),W.empty(),dl)}};function R3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}var N3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",MI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ka(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==N3)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function M3(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qa(t){return t.name==="IndexedDbTransactionError"}var cD=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),uD=-1;function sg(t){return t==null}function hl(t){return t===0&&1/t==-1/0}function P3(t){return typeof t=="number"&&Number.isInteger(t)&&!hl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var tP="";function x3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hM(e)),e=k3(t.get(n),e);return hM(e)}function k3(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case tP:n+="";break;default:n+=o}}return n}function hM(t){return t+tP+""}var O3="remoteDocuments",nP="owner";var rP="mutationQueues";var iP="mutations";var oP="documentMutations",F3="remoteDocumentsV14";var sP="remoteDocumentGlobal";var aP="targets";var cP="targetDocuments";var uP="targetGlobal",lP="collectionParents";var dP="clientMetadata";var hP="bundles";var fP="namedQueries";var L3="indexConfiguration";var V3="indexState";var j3="indexEntries";var pP="documentOverlays";var U3="globals";var B3=[rP,iP,oP,O3,aP,nP,uP,cP,dP,sP,lP,hP,fP],Cae=[...B3,pP],$3=[rP,iP,oP,F3,aP,nP,uP,cP,dP,sP,lP,hP,fP,pP],H3=$3,q3=[...H3,L3,V3,j3];var Sae=[...q3,U3];function fM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xa(this.root,e,this.comparator,!1)}getReverseIterator(){return new xa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xa(this.root,e,this.comparator,!0)}},xa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ap(this.data.getIterator())}getIteratorFrom(e){return new Ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ap=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bn=class t{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new t([])}unionWith(e){let n=new mt(pn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Rp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Rp("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var z3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(Te(!!t,39018),typeof t=="string"){let e=0,n=z3.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ri(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}var mP="server_timestamp",yP="__type__",vP="__previous_value__",_P="__local_write_time__";function lD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yP])===null||n===void 0?void 0:n.stringValue)===mP}function ag(t){let e=t.mapValue.fields[vP];return lD(e)?ag(e):e}function fl(t){let e=ni(t.mapValue.fields[_P].timestampValue);return new st(e.seconds,e.nanos)}var PI=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Np="(default)",Mp=class t{constructor(e,n){this.projectId=e,this.database=n||Np}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Np}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var dD="__type__",EP="__max__",_p={mapValue:{fields:{__type__:{stringValue:EP}}}},hD="__vector__",La="value";function Yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lD(t)?4:wP(t)?9007199254740991:IP(t)?10:11:Y(28295,{value:t})}function Tr(t,e){if(t===e)return!0;let n=Yi(t);if(n!==Yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ni(i.timestampValue),a=ni(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ri(i.bytesValue).isEqual(ri(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?hl(s)===hl(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Fa(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(fM(s)!==fM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Tr(s[u],a[u])))return!1;return!0})(t,e);default:return Y(52216,{left:t})}}function pl(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function Va(t,e){if(t===e)return 0;let n=Yi(t),r=Yi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Pe(o.integerValue||o.doubleValue),u=Pe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return pM(t.timestampValue,e.timestampValue);case 4:return pM(fl(t),fl(e));case 5:return RI(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=ri(o),u=ri(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=le(Pe(o.latitude),Pe(s.latitude));return a!==0?a:le(Pe(o.longitude),Pe(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return gM(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[La])===null||a===void 0?void 0:a.arrayValue,D=(u=g[La])===null||u===void 0?void 0:u.arrayValue,N=le(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:gM(y,D)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===_p.mapValue&&s===_p.mapValue)return 0;if(o===_p.mapValue)return 1;if(s===_p.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=RI(u[p],h[p]);if(g!==0)return g;let y=Va(a[u[p]],l[h[p]]);if(y!==0)return y}return le(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Y(23264,{le:n})}}function pM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);let n=ni(t),r=ni(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function gM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Va(n[i],r[i]);if(o)return o}return le(n.length,r.length)}function ja(t){return xI(t)}function xI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=ni(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ri(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return W.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=xI(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${xI(n.fields[s])}`;return i+"}"})(t.mapValue):Y(61005,{value:t})}function wp(t){switch(Yi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ag(t);return e?16+wp(e):16;case 5:return 2*t.stringValue.length;case 6:return ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+wp(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return to(r.fields,(o,s)=>{i+=o.length+wp(s)}),i})(t.mapValue);default:throw Y(13486,{value:t})}}function mM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kI(t){return!!t&&"integerValue"in t}function fD(t){return!!t&&"arrayValue"in t}function yM(t){return!!t&&"nullValue"in t}function vM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dp(t){return!!t&&"mapValue"in t}function IP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dD])===null||n===void 0?void 0:n.stringValue)===hD}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===EP}var Rae={mapValue:{fields:{[dD]:{stringValue:hD},[La]:{arrayValue:{}}}}};var fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=pn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=sl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Dp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(sl(this.value))}};function DP(t){let e=[];return to(t.fields,(n,r)=>{let i=new pn([n]);if(Dp(r)){let o=DP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new bn(e)}var Kn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ce.min(),ce.min(),ce.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ce.min(),ce.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ce.min(),ce.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ua=class{constructor(e,n){this.position=e,this.inclusive=n}};function _M(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Va(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}var rs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pp=class{},it=class t extends Pp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new FI(e,n,r):n==="array-contains"?new jI(e,r):n==="in"?new UI(e,r):n==="not-in"?new BI(e,r):n==="array-contains-any"?new $I(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LI(e,r):new VI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Va(n,this.value)):n!==null&&Yi(this.value)===Yi(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class t extends Pp{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return TP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function TP(t){return t.op==="and"}function bP(t){return W3(t)&&TP(t)}function W3(t){for(let e of t.filters)if(e instanceof Qn)return!1;return!0}function OI(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+ja(t.value);if(bP(t))return t.filters.map(e=>OI(e)).join(",");{let e=t.filters.map(n=>OI(n)).join(",");return`${t.op}(${e})`}}function CP(t,e){return t instanceof it?(function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)})(t,e):t instanceof Qn?(function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&CP(s,i.filters[a]),!0):!1})(t,e):void Y(19439)}function SP(t){return t instanceof it?(function(n){return`${n.field.canonicalString()} ${n.op} ${ja(n.value)}`})(t):t instanceof Qn?(function(n){return n.op.toString()+" {"+n.getFilters().map(SP).join(" ,")+"}"})(t):"Filter"}var FI=class extends it{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},LI=class extends it{constructor(e,n){super(e,"in",n),this.keys=AP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},VI=class extends it{constructor(e,n){super(e,"not-in",n),this.keys=AP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function AP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var jI=class extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return fD(n)&&pl(n.arrayValue,this.value)}},UI=class extends it{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pl(this.value.arrayValue,n)}},BI=class extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pl(this.value.arrayValue,n)}},$I=class extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!fD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}};var HI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function IM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new HI(t,e,n,r,i,o,s)}function pD(t){let e=se(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>OI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ja(r)).join(",")),e.Pe=n}return e.Pe}function gD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EM(t.startAt,e.startAt)&&EM(t.endAt,e.endAt)}function qI(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Zi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function K3(t,e,n,r,i,o,s,a){return new Zi(t,e,n,r,i,o,s,a)}function cg(t){return new Zi(t)}function wM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RP(t){return t.collectionGroup!==null}function al(t){let e=se(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(pn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new rs(o,r))}),n.has(pn.keyField().canonicalString())||e.Te.push(new rs(pn.keyField(),r))}return e.Te}function wr(t){let e=se(t);return e.Ie||(e.Ie=Q3(e,al(t))),e.Ie}function Q3(t,e){if(t.limitType==="F")return IM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new rs(i.field,o)});let n=t.endAt?new Ua(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ua(t.startAt.position,t.startAt.inclusive):null;return IM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zI(t,e){let n=t.filters.concat([e]);return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function GI(t,e,n){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ug(t,e){return gD(wr(t),wr(e))&&t.limitType===e.limitType}function NP(t){return`${pD(wr(t))}|lt:${t.limitType}`}function Na(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>SP(i)).join(", ")}]`),sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ja(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ja(i)).join(",")),`Target(${r})`})(wr(t))}; limitType=${t.limitType})`}function lg(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of al(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=_M(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,al(r),i)||r.endAt&&!(function(s,a,u){let l=_M(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,al(r),i))})(t,e)}function Y3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MP(t){return(e,n)=>{let r=!1;for(let i of al(t)){let o=Z3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Z3(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Va(u,l):Y(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}var ii=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return gP(this.inner)}size(){return this.innerSize}};var J3=new je(W.comparator);function oi(){return J3}var PP=new je(W.comparator);function ol(...t){let e=PP;for(let n of t)e=e.insert(n.key,n);return e}function xP(t){let e=PP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yo(){return cl()}function kP(){return cl()}function cl(){return new ii(t=>t.toString(),(t,e)=>t.isEqual(e))}var X3=new je(W.comparator),eq=new mt(W.comparator);function ge(...t){let e=eq;for(let n of t)e=e.add(n);return e}var tq=new mt(le);function nq(){return tq}function mD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hl(e)?"-0":e}}function OP(t){return{integerValue:""+t}}function rq(t,e){return P3(e)?OP(e):mD(t,e)}var Ba=class{constructor(){this._=void 0}};function iq(t,e,n){return t instanceof $a?(function(i,o){let s={fields:{[yP]:{stringValue:mP},[_P]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lD(o)&&(o=ag(o)),o&&(s.fields[vP]=o),{mapValue:s}})(n,e):t instanceof is?LP(t,e):t instanceof os?VP(t,e):(function(i,o){let s=FP(i,o),a=DM(s)+DM(i.Ee);return kI(s)&&kI(i.Ee)?OP(a):mD(i.serializer,a)})(t,e)}function oq(t,e,n){return t instanceof is?LP(t,e):t instanceof os?VP(t,e):n}function FP(t,e){return t instanceof Ha?(function(r){return kI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var $a=class extends Ba{},is=class extends Ba{constructor(e){super(),this.elements=e}};function LP(t,e){let n=jP(e);for(let r of t.elements)n.some(i=>Tr(i,r))||n.push(r);return{arrayValue:{values:n}}}var os=class extends Ba{constructor(e){super(),this.elements=e}};function VP(t,e){let n=jP(e);for(let r of t.elements)n=n.filter(i=>!Tr(i,r));return{arrayValue:{values:n}}}var Ha=class extends Ba{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function DM(t){return Pe(t.integerValue||t.doubleValue)}function jP(t){return fD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof is&&i instanceof is||r instanceof os&&i instanceof os?Fa(r.elements,i.elements,Tr):r instanceof Ha&&i instanceof Ha?Tr(r.Ee,i.Ee):r instanceof $a&&i instanceof $a})(t.transform,e.transform)}var WI=class{constructor(e,n){this.version=e,this.transformResults=n}},Cn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var qa=class{};function UP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gl(t.key,Cn.none()):new ss(t.key,t.data,Cn.none());{let n=t.data,r=fn.empty(),i=new mt(pn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new br(t.key,r,new bn(i.toArray()),Cn.none())}}function aq(t,e,n){t instanceof ss?(function(i,o,s){let a=i.value.clone(),u=bM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof br?(function(i,o,s){if(!Tp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(BP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function ul(t,e,n,r){return t instanceof ss?(function(o,s,a,u){if(!Tp(o.precondition,s))return a;let l=o.value.clone(),h=CM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof br?(function(o,s,a,u){if(!Tp(o.precondition,s))return a;let l=CM(o.fieldTransforms,u,s),h=s.data;return h.setAll(BP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return Tp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function cq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=FP(r.transform,i||null);o!=null&&(n===null&&(n=fn.empty()),n.set(r.field,o))}return n||null}function TM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fa(r,i,(o,s)=>sq(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ss=class extends qa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},br=class extends qa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function BP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function bM(t,e,n){let r=new Map;Te(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,oq(s,a,n[i]))}return r}function CM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,iq(o,s,e))}return r}var gl=class extends qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},KI=class extends qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var QI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&aq(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=UP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,(n,r)=>TM(n,r))&&Fa(this.baseMutations,e.baseMutations,(n,r)=>TM(n,r))}},YI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return X3})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var ZI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var JI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var nt,_e;function uq(t){switch(t){case M.OK:return Y(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function $P(t){if(t===void 0)return ti("GRPC error has no .code"),M.UNKNOWN;switch(t){case nt.OK:return M.OK;case nt.CANCELLED:return M.CANCELLED;case nt.UNKNOWN:return M.UNKNOWN;case nt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case nt.INTERNAL:return M.INTERNAL;case nt.UNAVAILABLE:return M.UNAVAILABLE;case nt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case nt.NOT_FOUND:return M.NOT_FOUND;case nt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case nt.ABORTED:return M.ABORTED;case nt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case nt.DATA_LOSS:return M.DATA_LOSS;default:return Y(39323,{code:t})}}(_e=nt||(nt={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var SM=null;var lq=new Xr([4294967295,4294967295],0);function AM(t){let e=JM().encode(t),n=new hI;return n.update(e),new Uint8Array(n.digest())}function RM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xr([n,r],0),new Xr([i,o],0)]}var XI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zo(`Invalid padding: ${n}`);if(r<0)throw new Zo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Xr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Xr.fromNumber(r)));return i.compare(lq)===1&&(i=new Xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=AM(e),[r,i]=RM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=AM(e),[r,i]=RM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Zo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ce.min(),i,new je(le),oi(),ge())}},ml=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var ka=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},kp=class{constructor(e,n){this.targetId=e,this.De=n}},Op=class{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Fp=class{constructor(){this.ve=0,this.Ce=NM(),this.Fe=xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),n=ge(),r=ge();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new ml(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=NM()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},ew=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=oi(),this.je=Ep(),this.Je=Ep(),this.He=new je(le)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(qI(o))if(r===0){let s=new W(o.path);this.Xe(n,s,Kn.newNoDocument(s,ce.min()))}else Te(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}SM?.ct((function(h,p,g,y,D){var N,R,O,K,te,Ae;let kt={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},be=p.unchangedNames;return be&&(kt.bloomFilter={applied:D===0,hashCount:(N=be?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(K=(O=(R=be?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&K!==void 0?K:0,padding:(Ae=(te=be?.bits)===null||te===void 0?void 0:te.padding)!==null&&Ae!==void 0?Ae:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),kt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=ri(r).toUint8Array()}catch(u){if(u instanceof Rp)return Qi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new XI(s,i,o)}catch(u){return Qi(u instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&qI(a.target)){let u=new W(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Kn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ge();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new xp(e,n,this.He,this.ze,r);return this.ze=oi(),this.je=Ep(),this.Je=Ep(),this.He=new je(le),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Fp,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new mt(le),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new mt(le),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Fp),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Ep(){return new je(W.comparator)}function NM(){return new je(W.comparator)}var dq={asc:"ASCENDING",desc:"DESCENDING"},hq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fq={and:"AND",or:"OR"},tw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function nw(t,e){return t.useProto3Json||sg(e)?e:{value:e}}function Lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pq(t,e){return Lp(t,e.toTimestamp())}function Dr(t){return Te(!!t,49232),ce.fromTimestamp((function(n){let r=ni(n);return new st(r.seconds,r.nanos)})(t))}function yD(t,e){return rw(t,e).canonicalString()}function rw(t,e){let n=(function(i){return new xe(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function qP(t){let e=xe.fromString(t);return Te(QP(e),10190,{key:e.toString()}),e}function iw(t,e){return yD(t.databaseId,e.path)}function vI(t,e){let n=qP(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(GP(n))}function zP(t,e){return yD(t.databaseId,e)}function gq(t){let e=qP(t);return e.length===4?xe.emptyPath():GP(e)}function ow(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GP(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MM(t,e,n){return{name:iw(t,e),fields:n.value.mapValue.fields}}function mq(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string",58123),xt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),xt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?M.UNKNOWN:$P(l.code);return new L(h,l.message||"")})(s);n=new Op(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vI(t,r.document.name),o=Dr(r.document.updateTime),s=r.document.createTime?Dr(r.document.createTime):ce.min(),a=new fn({mapValue:{fields:r.document.fields}}),u=Kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ka(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vI(t,r.document),o=r.readTime?Dr(r.readTime):ce.min(),s=Kn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ka([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vI(t,r.document),o=r.removedTargetIds||[];n=new ka([],o,i,null)}else{if(!("filter"in e))return Y(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new JI(i,o),a=r.targetId;n=new kp(a,s)}}return n}function yq(t,e){let n;if(e instanceof ss)n={update:MM(t,e.key,e.value)};else if(e instanceof gl)n={delete:iw(t,e.key)};else if(e instanceof br)n={update:MM(t,e.key,e.data),updateMask:Cq(e.fieldMask)};else{if(!(e instanceof KI))return Y(16599,{Rt:e.type});n={verify:iw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof $a)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof is)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof os)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ha)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Y(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:pq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)})(t,e.precondition)),n}function vq(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?Dr(i.updateTime):Dr(o);return s.isEqual(ce.min())&&(s=Dr(o)),new WI(s,i.transformResults||[])})(n,e))):[]}function _q(t,e){return{documents:[zP(t,e.path)]}}function Eq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zP(t,i);let o=(function(l){if(l.length!==0)return KP(Qn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Ma(g.field),direction:Dq(g.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=nw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function Iq(t){let e=gq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let g=WP(p);return g instanceof Qn&&bP(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(g=>(function(D){return new rs(Pa(D.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(g))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,sg(g)?null:g})(n.limit));let u=null;n.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Ua(y,g)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Ua(y,g)})(n.endAt)),K3(e,i,s,o,a,"F",u,l)}function wq(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WP(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Pa(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Pa(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Pa(n.unaryFilter.field);return it.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Pa(n.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}})(t):t.fieldFilter!==void 0?(function(n){return it.create(Pa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qn.create(n.compositeFilter.filters.map(r=>WP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}})(n.compositeFilter.op))})(t):Y(30097,{filter:t})}function Dq(t){return dq[t]}function Tq(t){return hq[t]}function bq(t){return fq[t]}function Ma(t){return{fieldPath:t.canonicalString()}}function Pa(t){return pn.fromServerFormat(t.fieldPath)}function KP(t){return t instanceof it?(function(n){if(n.op==="=="){if(vM(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(yM(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vM(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(yM(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:Tq(n.op),value:n.value}}})(t):t instanceof Qn?(function(n){let r=n.getFilters().map(i=>KP(i));return r.length===1?r[0]:{compositeFilter:{op:bq(n.op),filters:r}}})(t):Y(54877,{filter:t})}function Cq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yl=class t{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var sw=class{constructor(e){this.gt=e}};function Sq(t){let e=Iq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?GI(e,e.limit,"L"):e}var Vp=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Pe(e.integerValue));else if("doubleValue"in e){let r=Pe(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),hl(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=ni(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(ri(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?wP(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):IP(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Y(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=La,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Pe(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),W.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Vp.Ut=new Vp;var aw=class{constructor(){this.Dn=new cw}addToCollectionParentIndex(e,n){return this.Dn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ns.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},cw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(xe.comparator)).toArray()}};var Nae=new Uint8Array(0);var PM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YP=41943040,Tn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(YP,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);var vl=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var xM="LruGarbageCollector",Aq=1048576;function kM([t,e],[n,r]){let i=le(t,n);return i===0?le(e,r):i}var uw=class{constructor(e){this.Tr=e,this.buffer=new mt(kM),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();kM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},lw=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(xM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qa(n)?B(xM,"Ignoring IndexedDB error during garbage collection: ",n):yield Ka(n)}yield this.Rr(3e5)}))}},dw=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(cD.ue);let r=new uw(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(PM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PM):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ra()<=he.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Rq(t,e){return new dw(t,e)}var hw=class{constructor(){this.changes=new ii(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var pw=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ul(r.mutation,i,bn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=Yo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ol();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Yo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=oi(),s=cl(),a=(function(){return cl()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof br)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ul(h.mutation,l,h.mutation.getFieldMask(),st.now())):s.set(l.key,bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new fw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=cl(),i=new je((s,a)=>s-a),o=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||bn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=kP();h.forEach(g=>{if(!o.has(g)){let y=UP(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Yo()),a=dl,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ge())).next(h=>({batchId:a,changes:xP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ol();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,g){return new Zi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Kn.newInvalidDocument(h)))});let a=ol();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ul(h.mutation,l,bn.empty(),st.now()),lg(n,l)&&(a=a.insert(u,l))}),a})}};var gw=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return x.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}})(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:Sq(i.bundledQuery),readTime:Dr(i.readTime)}})(n)),x.resolve()}};var mw=class{constructor(){this.overlays=new je(W.comparator),this.kr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Yo();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Yo(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ZI(n,r));let o=this.kr.get(n);o===void 0&&(o=ge(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var yw=class{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var _l=class{constructor(){this.qr=new mt(rt.Qr),this.$r=new mt(rt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new rt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new rt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new W(new xe([])),r=new rt(n,e),i=new rt(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new W(new xe([])),r=new rt(n,e),i=new rt(n,e+1),o=ge();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new rt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},rt=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return W.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||W.comparator(e.key,n.key)}};var vw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new mt(rt.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new QI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?uD:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(le);return n.forEach(i=>{let o=new rt(i,0),s=new rt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new rt(new W(o),0),a=new mt(le);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),x.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(n.mutations,i=>{let o=new rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new rt(n,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _w=class{constructor(e){this.ni=e,this.docs=(function(){return new je(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oi(),s=n.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||R3(A3(h),r)<=0||(i.has(h.key)||lg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ri(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ew(this)}getSize(e){return x.resolve(this.size)}},Ew=class extends hw{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var Iw=class{constructor(e){this.persistence=e,this.ii=new ii(n=>pD(n),gD),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.si=0,this.oi=new _l,this.targetCount=0,this._i=vl.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),x.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.hr(n),x.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.oi.containsKey(n))}};var jp=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new cD(0),this.ci=!1,this.ci=!0,this.li=new yw,this.referenceDelegate=e(this),this.hi=new Iw(this),this.indexManager=new aw,this.remoteDocumentCache=(function(i){return new _w(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new sw(n),this.Ti=new gw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new vw(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new ww(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},ww=class extends MI{constructor(e){super(),this.currentSequenceNumber=e}},Dw=class t{constructor(e){this.persistence=e,this.Ai=new _l,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return x.or([()=>x.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Up=class t{constructor(e,n){this.persistence=e,this.gi=new ii(r=>x3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Rq(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),x.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wp(e.data.value)),n}Sr(e,n,r){return x.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Tw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ge(),i=ge();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var bw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Cw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return NR()?8:M3(pt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bw;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ra()<=he.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(Ra()<=he.DEBUG&&B("QueryEngine","Query:",Na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ra()<=he.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):x.resolve())}ps(e,n){if(wM(n))return x.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=GI(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ge(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,GI(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return wM(n)||i.isEqual(ce.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?x.resolve(null):(Ra()<=he.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Na(n)),this.vs(e,s,n,S3(i,dl)).next(a=>a))})}bs(e,n){let r=new mt(MP(e));return n.forEach((i,o)=>{lg(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Ra()<=he.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Na(n)),this.gs.getDocumentsMatchingQuery(e,n,ns.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var vD="LocalStore",Nq=3e8,Sw=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(le),this.Ms=new ii(o=>pD(o),gD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function Mq(t,e,n,r){return new Sw(t,e,n,r)}function ZP(t,e){return _(this,null,function*(){let n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ge();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function Pq(t,e){let n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=x.resolve();return g.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(N=>{let R=l.docVersions.get(D);Te(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ge();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JP(t){let e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function xq(t,e){let n=se(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(xt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=Nq?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(g,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=oi(),l=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(kq(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ce.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function kq(t,e,n){let r=ge(),i=ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=oi();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(vD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Oq(t,e){let n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uD),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fq(t,e){let n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new yl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}function Aw(t,e,n){return _(this,null,function*(){let r=se(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Qa(s))throw s;B(vD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function OM(t,e,n){let r=se(t),i=ce.min(),o=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=se(u),g=p.Ms.get(h);return g!==void 0?x.resolve(p.Fs.get(g)):p.hi.getTargetData(l,h)})(r,s,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:ge())).next(a=>(Lq(r,Y3(e),a),{documents:a,qs:o})))}function Lq(t,e,n){let r=t.xs.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Bp=class{constructor(){this.activeTargetIds=nq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rw=class{constructor(){this.Fo=new Bp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Bp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Nw=class{xo(e){}shutdown(){}};var FM="ConnectivityMonitor",$p=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(FM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(FM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ip=null;function Mw(){return Ip===null?Ip=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ip++,"0x"+Ip.toString(16)}var _I="RestConnection",Vq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Pw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Np?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Mw(),a=this.Go(e,n.toUriEncodedString());B(_I,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Li(l);return this.jo(e,a,u,r,h).then(p=>(B(_I,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Qi(_I,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=Vq[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var xw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Pt="WebChannelConnection",kw=class extends Pw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Mw();return new Promise((a,u)=>{let l=new fI;l.setWithCredentials(!0),l.listenOnce(pI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case il.NO_ERROR:let p=l.getResponseJson();B(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case il.TIMEOUT:B(Pt,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:let g=l.getStatus();if(B(Pt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let D=y?.error;if(D&&D.status&&D.message){let N=(function(O){let K=O.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(K)>=0?K:M.UNKNOWN})(D.status);u(new L(N,D.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(Pt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(Pt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=Mw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yI(),a=mI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(Pt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let g=!1,y=!1,D=new xw({Ho:R=>{y?B(Pt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(B(Pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),B(Pt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,O,K)=>{R.listen(O,te=>{try{K(te)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return N(p,Aa.EventType.OPEN,()=>{y||(B(Pt,`RPC '${e}' stream ${i} transport opened.`),D.s_())}),N(p,Aa.EventType.CLOSE,()=>{y||(y=!0,B(Pt,`RPC '${e}' stream ${i} transport closed`),D.__(),this.I_(p))}),N(p,Aa.EventType.ERROR,R=>{y||(y=!0,Qi(Pt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),D.__(new L(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Aa.EventType.MESSAGE,R=>{var O;if(!y){let K=R.data[0];Te(!!K,16349);let te=K,Ae=te?.error||((O=te[0])===null||O===void 0?void 0:O.error);if(Ae){B(Pt,`RPC '${e}' stream ${i} received error:`,Ae);let kt=Ae.status,be=(function(I){let w=nt[I];if(w!==void 0)return $P(w)})(kt),T=Ae.message;be===void 0&&(be=M.INTERNAL,T="Unknown error status: "+kt+" with message "+Ae.message),y=!0,D.__(new L(be,T)),p.close()}else B(Pt,`RPC '${e}' stream ${i} received:`,K),D.a_(K)}}),N(a,gI.STAT_EVENT,R=>{R.stat===vp.PROXY?B(Pt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===vp.NOPROXY&&B(Pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.o_()},0),D}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function EI(){return typeof document<"u"?document:null}function dg(t){return new tw(t,!0)}var Hp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var LM="PersistentStream",qp=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Hp(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return B(LM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(B(LM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ow=class extends qp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=mq(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Dr(s.readTime):ce.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=ow(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=qI(u)?{documents:_q(o,u)}:{query:Eq(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=HP(o,s.resumeToken);let l=nw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Lp(o,s.snapshotVersion.toTimestamp());let l=nw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=wq(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=ow(this.serializer),n.removeTarget=e,this.k_(n)}},Fw=class extends qp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=vq(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=ow(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>yq(this.serializer,r))};this.k_(n)}};var Lw=class{},Vw=class extends Lw{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,rw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,rw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},jw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ti(n),this._a=!1):B("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var as="RemoteStore",Uw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){us(this)&&(B(as,"Restarting streams for network reachability change."),yield(function(u){return _(this,null,function*(){let l=se(u);l.Ia.add(4),yield Cl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield hg(l)})})(this))}))}),this.Aa=new jw(r,i)}};function hg(t){return _(this,null,function*(){if(us(t))for(let e of t.da)yield e(!0)})}function Cl(t){return _(this,null,function*(){for(let e of t.da)yield e(!1)})}function XP(t,e){let n=se(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),wD(n)?ID(n):Ya(n).x_()&&ED(n,e))}function _D(t,e){let n=se(t),r=Ya(n);n.Ta.delete(e),r.x_()&&ex(n,e),n.Ta.size===0&&(r.x_()?r.B_():us(n)&&n.Aa.set("Unknown"))}function ED(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(t).H_(e)}function ex(t,e){t.Ra.$e(e),Ya(t).Y_(e)}function ID(t){t.Ra=new ew({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ya(t).start(),t.Aa.aa()}function wD(t){return us(t)&&!Ya(t).M_()&&t.Ta.size>0}function us(t){return se(t).Ia.size===0}function tx(t){t.Ra=void 0}function jq(t){return _(this,null,function*(){t.Aa.set("Online")})}function Uq(t){return _(this,null,function*(){t.Ta.forEach((e,n)=>{ED(t,e)})})}function Bq(t,e){return _(this,null,function*(){tx(t),wD(t)?(t.Aa.la(e),ID(t)):t.Aa.set("Unknown")})}function $q(t,e,n){return _(this,null,function*(){if(t.Aa.set("Online"),e instanceof Op&&e.state===2&&e.cause)try{yield(function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(t,e)}catch(r){B(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zp(t,r)}else if(e instanceof ka?t.Ra.Ye(e):e instanceof kp?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ce.min()))try{let r=yield JP(t.localStore);n.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(xt.EMPTY_BYTE_STRING,h.snapshotVersion)),ex(o,u);let p=new yl(h.target,u,l,h.sequenceNumber);ED(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n))}catch(r){B(as,"Failed to raise snapshot:",r),yield zp(t,r)}})}function zp(t,e,n){return _(this,null,function*(){if(!Qa(e))throw e;t.Ia.add(1),yield Cl(t),t.Aa.set("Offline"),n||(n=()=>JP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){B(as,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield hg(t)}))})}function nx(t,e){return e().catch(n=>zp(t,n,e))}function fg(t){return _(this,null,function*(){let e=se(t),n=Ji(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:uD;for(;Hq(e);)try{let i=yield Oq(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,qq(e,i)}catch(i){yield zp(e,i)}rx(e)&&ix(e)})}function Hq(t){return us(t)&&t.Pa.length<10}function qq(t,e){t.Pa.push(e);let n=Ji(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function rx(t){return us(t)&&!Ji(t).M_()&&t.Pa.length>0}function ix(t){Ji(t).start()}function zq(t){return _(this,null,function*(){Ji(t).na()})}function Gq(t){return _(this,null,function*(){let e=Ji(t);for(let n of t.Pa)e.X_(n.mutations)})}function Wq(t,e,n){return _(this,null,function*(){let r=t.Pa.shift(),i=YI.from(r,e,n);yield nx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fg(t)})}function Kq(t,e){return _(this,null,function*(){e&&Ji(t).Z_&&(yield(function(r,i){return _(this,null,function*(){if((function(s){return uq(s)&&s!==M.ABORTED})(i.code)){let o=r.Pa.shift();Ji(r).N_(),yield nx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield fg(r)}})})(t,e)),rx(t)&&ix(t)})}function VM(t,e){return _(this,null,function*(){let n=se(t);n.asyncQueue.verifyOperationInProgress(),B(as,"RemoteStore received new credentials");let r=us(n);n.Ia.add(3),yield Cl(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield hg(n)})}function Qq(t,e){return _(this,null,function*(){let n=se(t);e?(n.Ia.delete(2),yield hg(n)):e||(n.Ia.add(2),yield Cl(n),n.Aa.set("Unknown"))})}function Ya(t){return t.Va||(t.Va=(function(n,r,i){let o=se(n);return o.ia(),new Ow(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:jq.bind(null,t),e_:Uq.bind(null,t),n_:Bq.bind(null,t),J_:$q.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.Va.N_(),wD(t)?ID(t):t.Aa.set("Unknown")):(yield t.Va.stop(),tx(t))}))),t.Va}function Ji(t){return t.ma||(t.ma=(function(n,r,i){let o=se(n);return o.ia(),new Fw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:zq.bind(null,t),n_:Kq.bind(null,t),ea:Gq.bind(null,t),ta:Wq.bind(null,t)}),t.da.push(e=>_(null,null,function*(){e?(t.ma.N_(),yield fg(t)):(yield t.ma.stop(),t.Pa.length>0&&(B(as,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var Bw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function DD(t,e){if(ti("AsyncQueue",`${e}: ${t}`),Qa(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Gp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=ol(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Wp=class{constructor(){this.fa=new je(W.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Y(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},za=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Gp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var $w=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Hw=class{constructor(){this.queries=jM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=se(n),o=i.queries;i.queries=jM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function jM(){return new ii(t=>NP(t),ug)}function TD(t,e){return _(this,null,function*(){let n=se(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new $w,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield n.onListen(i,!0);break;case 1:o.ya=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=DD(s,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&CD(n)})}function bD(t,e){return _(this,null,function*(){let n=se(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Yq(t,e){let n=se(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&CD(n)}function Zq(t,e,n){let r=se(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function CD(t){t.Da.forEach(e=>{e.next()})}var qw,UM;(UM=qw||(qw={})).Fa="default",UM.Cache="cache";var El=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==qw.Cache}};var Kp=class{constructor(e){this.key=e}},Qp=class{constructor(e){this.key=e}},zw=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=MP(e),this.eu=new Gp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Wp,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=lg(this.query,p)?p:null,D=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?D!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,D){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{At:R})}};return N(y)-N(D)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new za(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Wp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Qp(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Kp(r))}),n}uu(e){this.Ha=e.qs,this.Za=ge();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return za.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},SD="SyncEngine",Gw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Ww=class{constructor(e){this.key=e,this.lu=!1}},Kw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ii(a=>NP(a),ug),this.Tu=new Map,this.Iu=new Set,this.du=new je(W.comparator),this.Eu=new Map,this.Au=new _l,this.Ru={},this.Vu=new Map,this.mu=vl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Jq(t,e,n=!0){return _(this,null,function*(){let r=lx(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield ox(r,e,n,!0),i})}function Xq(t,e){return _(this,null,function*(){let n=lx(t);yield ox(n,e,!0,!1)})}function ox(t,e,n,r){return _(this,null,function*(){let i=yield Fq(t.localStore,wr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield ez(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&XP(t.remoteStore,i),a})}function ez(t,e,n,r,i){return _(this,null,function*(){t.gu=(p,g,y)=>(function(N,R,O,K){return _(this,null,function*(){let te=R.view.nu(O);te.Ds&&(te=yield OM(N.localStore,R.query,!1).then(({documents:T})=>R.view.nu(T,te)));let Ae=K&&K.targetChanges.get(R.targetId),kt=K&&K.targetMismatches.get(R.targetId)!=null,be=R.view.applyChanges(te,N.isPrimaryClient,Ae,kt);return $M(N,R.targetId,be._u),be.snapshot})})(t,p,g,y);let o=yield OM(t.localStore,e,!0),s=new zw(e,o.qs),a=s.nu(o.documents),u=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);$M(t,n,l._u);let h=new Gw(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot})}function tz(t,e,n){return _(this,null,function*(){let r=se(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!ug(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Aw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_D(r.remoteStore,i.targetId),Qw(r,i.targetId)}).catch(Ka))):(Qw(r,i.targetId),yield Aw(r.localStore,i.targetId,!0))})}function nz(t,e){return _(this,null,function*(){let n=se(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_D(n.remoteStore,r.targetId))})}function rz(t,e,n){return _(this,null,function*(){let r=lz(t);try{let i=yield(function(s,a){let u=se(s),l=st.now(),h=a.reduce((y,D)=>y.add(D.key),ge()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=oi(),N=ge();return u.Os.getEntries(y,h).next(R=>{D=R,D.forEach((O,K)=>{K.isValidDocument()||(N=N.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(R=>{p=R;let O=[];for(let K of a){let te=cq(K,p.get(K.key).overlayedDocument);te!=null&&O.push(new br(K.key,te,DP(te.value.mapValue),Cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(R=>{g=R;let O=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,O)})}).then(()=>({batchId:g.batchId,changes:xP(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new je(le)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),yield Sl(r,i.changes),yield fg(r.remoteStore)}catch(i){let o=DD(i,"Failed to persist write");n.reject(o)}})}function sx(t,e){return _(this,null,function*(){let n=se(t);try{let r=yield xq(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Te(s.lu,14607):i.removedDocuments.size>0&&(Te(s.lu,42227),s.lu=!1))}),yield Sl(n,r,e)}catch(r){yield Ka(r)}})}function BM(t,e,n){let r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=se(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.wa)g.va(a)&&(l=!0)}),l&&CD(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iz(t,e,n){return _(this,null,function*(){let r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(W.comparator);s=s.insert(o,Kn.newNoDocument(o,ce.min()));let a=ge().add(o),u=new xp(ce.min(),new Map,new je(le),s,a);yield sx(r,u),r.du=r.du.remove(o),r.Eu.delete(e),AD(r)}else yield Aw(r.localStore,e,!1).then(()=>Qw(r,e,n)).catch(Ka)})}function oz(t,e){return _(this,null,function*(){let n=se(t),r=e.batch.batchId;try{let i=yield Pq(n.localStore,e);cx(n,r,null),ax(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Sl(n,i)}catch(i){yield Ka(i)}})}function sz(t,e,n){return _(this,null,function*(){let r=se(t);try{let i=yield(function(s,a){let u=se(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);cx(r,e,n),ax(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Sl(r,i)}catch(i){yield Ka(i)}})}function ax(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function cx(t,e,n){let r=se(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Qw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||ux(t,r)})}function ux(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(_D(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),AD(t))}function $M(t,e,n){for(let r of n)r instanceof Kp?(t.Au.addReference(r.key,e),az(t,r)):r instanceof Qp?(B(SD,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||ux(t,r.key)):Y(19791,{yu:r})}function az(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(B(SD,"New document in limbo: "+n),t.Iu.add(r),AD(t))}function AD(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new W(xe.fromString(e)),r=t.mu.next();t.Eu.set(r,new Ww(n)),t.du=t.du.insert(n,r),XP(t.remoteStore,new yl(wr(cg(n.path)),r,"TargetPurposeLimboResolution",cD.ue))}}function Sl(t,e,n){return _(this,null,function*(){let r=se(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Tw.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return _(this,null,function*(){let h=se(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.Is,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.ds,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Qa(p))throw p;B(vD,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.Fs.get(g),D=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(D);h.Fs=h.Fs.insert(g,N)}}})})(r.localStore,o))})}function cz(t,e){return _(this,null,function*(){let n=se(t);if(!n.currentUser.isEqual(e)){B(SD,"User change. New user:",e.toKey());let r=yield ZP(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sl(n,r.Bs)}})}function uz(t,e){let n=se(t),r=n.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function lx(t){let e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iz.bind(null,e),e.hu.J_=Yq.bind(null,e.eventManager),e.hu.pu=Zq.bind(null,e.eventManager),e}function lz(t){let e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sz.bind(null,e),e}var dx=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=dg(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return Mq(this.persistence,new Cw,n.initialUser,this.serializer)}Du(n){return new jp(Dw.Vi,this.serializer)}bu(n){return new Rw}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Yw=class extends dx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Te(this.persistence.referenceDelegate instanceof Up,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new lw(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new jp(r=>Up.Vi(r,n),this.serializer)}};var dz=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=cz.bind(null,this.syncEngine),yield Qq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return(function(){return new Hw})()}createDatastore(n){let r=dg(n.databaseInfo.databaseId),i=(function(s){return new kw(s)})(n.databaseInfo);return(function(s,a,u,l){return new Vw(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new Uw(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>BM(this.syncEngine,r,0),(function(){return $p.C()?new $p:new Nw})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let g=new Kw(o,s,a,u,l,h);return p&&(g.fu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield(function(o){return _(this,null,function*(){let s=se(o);B(as,"RemoteStore shutting down."),s.Ia.add(5),yield Cl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Il=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Xi="FirestoreClient",Zw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=ll.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){B(Xi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(B(Xi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=DD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function II(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B(Xi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield ZP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Qi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Qi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function HM(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield hz(t);B(Xi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>VM(e.remoteStore,i)),t._onlineComponents=e})}function hz(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(Xi,"Using user provided OfflineComponentProvider");try{yield II(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Qi("Error using user provided cache. Falling back to memory cache: "+n),yield II(t,new dx)}}else B(Xi,"Using default OfflineComponentProvider"),yield II(t,new Yw(void 0));return t._offlineComponents})}function hx(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(Xi,"Using user provided OnlineComponentProvider"),yield HM(t,t._uninitializedComponentsProvider._online)):(B(Xi,"Using default OnlineComponentProvider"),yield HM(t,new dz))),t._onlineComponents})}function fz(t){return hx(t).then(e=>e.syncEngine)}function Yp(t){return _(this,null,function*(){let e=yield hx(t),n=e.eventManager;return n.onListen=Jq.bind(null,e.syncEngine),n.onUnlisten=tz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Xq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nz.bind(null,e.syncEngine),n})}function pz(t,e,n={}){let r=new Wn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return(function(o,s,a,u,l){let h=new Il({next:g=>{h.Ou(),s.enqueueAndForget(()=>bD(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new El(cg(a.path),h,{includeMetadataChanges:!0,ka:!0});return TD(o,p)})(yield Yp(t),t.asyncQueue,e,n,r)})),r.promise}function gz(t,e,n={}){let r=new Wn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return(function(o,s,a,u,l){let h=new Il({next:g=>{h.Ou(),s.enqueueAndForget(()=>bD(o,p)),g.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new El(a,h,{includeMetadataChanges:!0,ka:!0});return TD(o,p)})(yield Yp(t),t.asyncQueue,e,n,r)})),r.promise}function fx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var qM=new Map;var px="firestore.googleapis.com",zM=!0,Zp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=px,this.ssl=zM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:zM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Aq)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ga=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new DI;switch(r.type){case"firstParty":return new SI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=qM.get(n);r&&(B("ComponentProvider","Removing Datastore"),qM.delete(n),r.terminate())})(this),Promise.resolve()}};function gx(t,e,n,r={}){var i;t=Xt(t,Ga);let o=Li(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&($f(`https://${u}`),Hf("Firestore",!0)),s.host!==px&&s.host!==u&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!mr(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=gt.MOCK_USER;else{h=TR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new gt(g)}t._authCredentials=new TI(new bp(h,p))}}var eo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bl(n,t._jsonSchema))return new t(e,r||null,new W(xe.fromString(n.referencePath)))}};lt._jsonSchemaVersion="firestore/documentReference/1.0",lt._jsonSchema={type:ot("string",lt._jsonSchemaVersion),referencePath:ot("string")};var zi=class t extends eo{constructor(e,n,r){super(e,n,cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mx(t,e,...n){if(t=ke(t),XM("collection","path",e),t instanceof Ga){let r=xe.fromString(e,...n);return uM(r),new zi(t,null,r)}{if(!(t instanceof lt||t instanceof zi))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return uM(r),new zi(t.firestore,null,r)}}function RD(t,e,...n){if(t=ke(t),arguments.length===1&&(e=ll.newId()),XM("doc","path",e),t instanceof Ga){let r=xe.fromString(e,...n);return cM(r),new lt(t,null,new W(r))}{if(!(t instanceof lt||t instanceof zi))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return cM(r),new lt(t.firestore,t instanceof zi?t.converter:null,new W(r))}}var GM="AsyncQueue",Jp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Hp(this,"async_queue_retry"),this.oc=()=>{let r=EI();r&&B(GM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=EI();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=EI();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Wn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qa(e))throw e;B(GM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ti("INTERNAL UNHANDLED ERROR: ",WM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Bw.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:WM(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function WM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function KM(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Yn=class extends Ga{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Jp(e),this._firestoreClient=void 0,yield e}})}};function yx(t,e){let n=typeof t=="object"?t:qo(),r=typeof t=="string"?t:e||Np,i=Ia(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=DR("firestore");o&&gx(i,...o)}return i}function Al(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mz(t),t._firestoreClient}function mz(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new PI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Zw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var Gi=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(xt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bl(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Gi._jsonSchemaVersion="firestore/bytes/1.0",Gi._jsonSchema={type:ot("string",Gi._jsonSchemaVersion),bytes:ot("string")};var cs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wl=class{constructor(e){this._methodName=e}};var Wi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(bl(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:ot("string",Wi._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};var Ki=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bl(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new L(M.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:ot("string",Ki._jsonSchemaVersion),vectorValues:ot("object")};var yz=/^__.*__$/,Jw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,n,this.fieldTransforms):new ss(e,this.data,n,this.fieldTransforms)}},Xp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new br(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function vx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:t})}}var Xw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return tg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vx(this.Ec)&&yz.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},eD=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dg(e)}Dc(e,n,r,i=!1){return new Xw({Ec:e,methodName:n,bc:r,path:pn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Rl(t){let e=t._freezeSettings(),n=dg(t._databaseId);return new eD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ND(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);MD("Data must be an object, but it was:",s,r);let a=Ix(r,s),u,l;if(o.merge)u=new bn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=tD(e,p,n);if(!s.contains(g))throw new L(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Dx(h,g)||h.push(g)}u=new bn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Jw(new fn(a),u,l)}var eg=class t extends wl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function _x(t,e,n,r){let i=t.Dc(1,e,n);MD("Data must be an object, but it was:",i,r);let o=[],s=fn.empty();to(r,(u,l)=>{let h=PD(e,u,n);l=ke(l);let p=i.gc(h);if(l instanceof eg)o.push(h);else{let g=Nl(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new bn(o);return new Xp(s,a,i.fieldTransforms)}function Ex(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[tD(e,r,n)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(tD(e,o[g])),u.push(o[g+1]);let l=[],h=fn.empty();for(let g=a.length-1;g>=0;--g)if(!Dx(l,a[g])){let y=a[g],D=u[g];D=ke(D);let N=s.gc(y);if(D instanceof eg)l.push(y);else{let R=Nl(D,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new bn(l);return new Xp(h,p,s.fieldTransforms)}function vz(t,e,n,r=!1){return Nl(n,t.Dc(r?4:3,e))}function Nl(t,e){if(wx(t=ke(t)))return MD("Unsupported field value:",e,t),Ix(t,e);if(t instanceof wl)return(function(r,i){if(!vx(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Nl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=ke(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=st.fromDate(r);return{timestampValue:Lp(i.serializer,o)}}if(r instanceof st){let o=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lp(i.serializer,o)}}if(r instanceof Wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gi)return{bytesValue:HP(i.serializer,r._byteString)};if(r instanceof lt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ki)return(function(s,a){return{mapValue:{fields:{[dD]:{stringValue:hD},[La]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return mD(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${og(r)}`)})(t,e)}function Ix(t,e){let n={};return gP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{let o=Nl(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Wi||t instanceof Gi||t instanceof lt||t instanceof wl||t instanceof Ki)}function MD(t,e,n){if(!wx(n)||!eP(n)){let r=og(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function tD(t,e,n){if((e=ke(e))instanceof cs)return e._internalPath;if(typeof e=="string")return PD(t,e);throw tg("Field path arguments must be of type string or ",t,!1,void 0,n)}var _z=new RegExp("[~\\*/\\[\\]]");function PD(t,e,n){if(e.search(_z)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cs(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function tg(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,a+t+u)}function Dx(t,e){return t.some(n=>n.isEqual(e))}var ng=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new nD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},nD=class extends ng{data(){return super.data()}};function pg(t,e){return typeof e=="string"?PD(t,e):e instanceof cs?e._internalPath:e._delegate._internalPath}function Tx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dl=class{},rg=class extends Dl{};function bx(t,e,...n){let r=[];e instanceof Dl&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof rD).length,a=o.filter(u=>u instanceof ig).length;if(s>1||s>0&&a>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var ig=class t extends rg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ax(e._query,n),new eo(e.firestore,e.converter,zI(e._query,n))}_parse(e){let n=Rl(e.firestore);return(function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){YM(p,h);let D=[];for(let N of p)D.push(QM(u,o,N));g={arrayValue:{values:D}}}else g=QM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||YM(p,h),g=vz(a,s,p,h==="in"||h==="not-in");return it.create(l,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Cx(t,e,n){let r=e,i=pg("where",t);return ig._create(i,r,n)}var rD=class t extends Dl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Ax(s,u),s=zI(s,u)})(e._query,n),new eo(e.firestore,e.converter,zI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var iD=class t extends rg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rs(o,s)})(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Zi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function Sx(t,e="asc"){let n=e,r=pg("orderBy",t);return iD._create(r,n)}function QM(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RP(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(xe.fromString(n));if(!W.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mM(t,new W(r))}if(n instanceof lt)return mM(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(n)}.`)}function YM(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ax(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var oD=class{convertValue(e,n="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return to(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[La].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pe(s.doubleValue));return new Ki(o)}convertGeoPoint(e){return new Wi(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ag(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){let n=ni(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);Te(QP(r),9688,{name:e});let i=new Mp(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||ti(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function xD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Jo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xo=class t extends ng{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Oa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(M.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:ot("string",Xo._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};var Oa=class extends Xo{data(e={}){return super.data(e)}},es=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oa(this._firestore,this._userDataWriter,r.key,r,new Jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Ez(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(M.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ll.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Ez(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}function Rx(t){t=Xt(t,lt);let e=Xt(t.firestore,Yn);return pz(Al(e),t._key).then(n=>xx(e,t,n))}es._jsonSchemaVersion="firestore/querySnapshot/1.0",es._jsonSchema={type:ot("string",es._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};var Tl=class extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gi(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}};function Nx(t){t=Xt(t,eo);let e=Xt(t.firestore,Yn),n=Al(e),r=new Tl(e);return Tx(t._query),gz(n,t._query).then(i=>new es(e,r,t,i))}function Mx(t,e,n){t=Xt(t,lt);let r=Xt(t.firestore,Yn),i=xD(t.converter,e,n);return gg(r,[ND(Rl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cn.none())])}function Px(t,e,n,...r){t=Xt(t,lt);let i=Xt(t.firestore,Yn),o=Rl(i),s;return s=typeof(e=ke(e))=="string"||e instanceof cs?Ex(o,"updateDoc",t._key,e,n,r):_x(o,"updateDoc",t._key,e),gg(i,[s.toMutation(t._key,Cn.exists(!0))])}function kD(t,e){let n=Xt(t.firestore,Yn),r=RD(t),i=xD(t.converter,e);return gg(n,[ND(Rl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function OD(t,...e){var n,r,i;t=ke(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||KM(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof lt)l=Xt(t.firestore,Yn),h=cg(t._key.path),u={next:p=>{e[s]&&e[s](xx(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Xt(t,eo);l=Xt(p.firestore,Yn),h=p._query;let g=new Tl(l);u={next:y=>{e[s]&&e[s](new es(l,g,p,y))},error:e[s+1],complete:e[s+2]},Tx(t._query)}return(function(g,y,D,N){let R=new Il(N),O=new El(y,R,D);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return TD(yield Yp(g),O)})),()=>{R.Ou(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return bD(yield Yp(g),O)}))}})(Al(l),h,a,u)}function gg(t,e){return(function(r,i){let o=new Wn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return rz(yield fz(r),i,o)})),o.promise})(Al(t),e)}function xx(t,e,n){let r=n.docs.get(e._key),i=new Tl(t);return new Xo(t,i,e._key,r,new Jo(n.hasPendingWrites,n.fromCache),e.converter)}var sD=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Rl(e)}set(e,n,r){this._verifyNotCommitted();let i=wI(e,this._firestore),o=xD(i.converter,n,r),s=ND(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Cn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let o=wI(e,this._firestore),s;return s=typeof(n=ke(n))=="string"||n instanceof cs?Ex(this._dataReader,"WriteBatch.update",o._key,n,r,i):_x(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Cn.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=wI(e,this._firestore);return this._mutations=this._mutations.concat(new gl(n._key,Cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function wI(t,e){if((t=ke(t)).firestore!==e)throw new L(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function kx(t){return Al(t=Xt(t,Yn)),new sD(t,e=>gg(t,e))}(function(e,n=!0){(function(i){Wa=i})(ji),Hn(new qt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Yn(new bI(r.getProvider("auth-internal")),new AI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(iM,oM,e),Ve(iM,oM,"esm2017")})();var mg=function(){return mg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mg.apply(this,arguments)};var Dz={includeMetadataChanges:!1};function Ox(t,e){return e===void 0&&(e=Dz),new ee(function(n){var r=OD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Fx(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:mg(mg({},r),(n={},n[e.idField]=t.id,n))}function Lx(t){return Ox(t,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function Vx(t,e){return e===void 0&&(e={}),Lx(t).pipe(Z(function(n){return n.map(function(r){return Fx(r,e)})}))}var Zn=class{constructor(e){return e}},jx="firestore",FD=class{constructor(){return Da(jx)}};var LD=new $("angularfire2.firestore-instances");function Tz(t,e){let n=Gu(jx,t,e);return n&&new Zn(n)}function bz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zn(r)}}var Cz={provide:FD,deps:[[new an,LD]]},Sz={provide:Zn,useFactory:Tz,deps:[[new an,LD],Qr]};function Ux(t,...e){return Ve("angularfire",Ui.full,"fst"),Wt([Sz,Cz,{provide:LD,useFactory:bz(t),multi:!0,deps:[Ie,Le,Bi,Go,[new an,rl],[new an,Ta],...e]}])}var Bx=Ge(Vx,!0);var Za=Ge(mx,!0,2);var si=Ge(RD,!0,2);var Ml=Ge(Rx,!0);var $x=Ge(Nx,!0);var Hx=Ge(yx,!0);var qx=Ge(Sx,!0,2),zx=Ge(bx,!0,2);var VD=Ge(Mx,!0,2);var jD=Ge(Px,!0,2);var Gx=Ge(Cx,!0,2),Wx=Ge(kx,!0,2);var no=class t{constructor(e){this.firestore=e}thingConverter={fromFirestore:e=>{let n=e.data(),r=n?.createdAt,i=r&&r.toDate?r.toDate():r??null;return{id:e.id,name:n?.name??"",description:n?.description??"",location:n?.location??null,photoURL:n?.photoURL??null,createdAt:i,owner:n?.owner??null,status:n?.status??null,metadata:n?.metadata??null}},toFirestore:e=>({name:e.name,description:e.description,location:e.location,photoURL:e.photoURL,createdAt:e.createdAt,owner:e.owner,status:e.status,metadata:e.metadata})};getThings(){let e=Za(this.firestore,"Things"),n=zx(e,Gx("status","==","ON"),qx("createdAt","desc")).withConverter(this.thingConverter);return Bx(n).pipe(jt(r=>Rn(()=>r)))}getThingById(e){let n=si(this.firestore,"Things",e).withConverter(this.thingConverter);return pe(Ml(n)).pipe(Z(r=>r.exists()?r.data():null),jt(r=>Rn(()=>r)))}getUserById(e){let n=si(this.firestore,"Users",e);return pe(Ml(n)).pipe(Z(r=>r.exists()?r.data():null),jt(r=>Rn(()=>r)))}updateThingStatus(e,n){let r=si(this.firestore,"Things",e);return pe(jD(r,{status:n})).pipe(jt(i=>Rn(()=>i)))}saveThing(e,n,r){let i=Za(this.firestore,"Things");if(e){let o=si(i,e);return pe(jD(o,n)).pipe(Z(()=>e))}else{let o=re(k({},n),{owner:r,status:"ON",createdAt:new Date().toISOString(),metadata:[]});return pe(kD(i,o)).pipe(Z(s=>s.id))}}static \u0275fac=function(n){return new(n||t)(z(Zn))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})};var Az=t=>["/view",t],Rz=(t,e)=>e.id;function Nz(t,e){if(t&1&&(j(0,"div",2)(1,"div",4),ye(2,"img",5),j(3,"div",6)(4,"h5",7),q(5),V(),j(6,"p",8),q(7),V(),j(8,"a",9),q(9," Ver Detalhes "),ye(10,"i",10),V()()()()),t&2){let n=e.$implicit;oe(2),wt("src",n.photoURL,Fn)("alt",n.name),oe(3),$t(n.name),oe(2),$t(n.description),oe(),wt("routerLink",au(5,Az,n.id))}}function Mz(t,e){t&1&&(j(0,"div",3)(1,"div",11),q(2,"Nenhum item em destaque."),V(),j(3,"p"),q(4,"Voc\xEA pode criar itens de teste acessando a rota "),j(5,"a",12),q(6,"/seed-data"),V(),q(7,"."),V()())}function Pz(t,e){t&1&&qv(0,Nz,11,7,"div",2,Rz,!1,Mz,8,0,"div",3),t&2&&zv(e)}var yg=class t{constructor(e){this.dataService=e}things$;ngOnInit(){this.things$=this.dataService.getThings()}static \u0275fac=function(n){return new(n||t)(G(no))};static \u0275cmp=It({type:t,selectors:[["app-home"]],decls:5,vars:3,consts:[[1,"mb-4","text-center"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","mb-4"],[1,"col-12","text-center","mt-5"],[1,"card","shadow-sm","h-100"],[1,"card-img-top",2,"height","200px","object-fit","cover",3,"src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-title","text-primary"],[1,"card-text","text-muted","small","mt-auto"],[1,"btn","btn-sm","btn-outline-secondary",3,"routerLink"],[1,"bi","bi-arrow-right-circle"],[1,"alert","alert-warning"],["href","/seed-data"]],template:function(n,r){if(n&1&&(j(0,"h2",0),q(1,"Coisas em Destaque"),V(),j(2,"div",1),Je(3,Pz,3,1),Ri(4,"async"),V()),n&2){let i;oe(3),Xe((i=ra(4,1,r.things$))?3:-1,i)}},dependencies:[wn,Fi,mu],encapsulation:2})};var vg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-contacts"]],decls:2,vars:0,template:function(n,r){n&1&&(ta(0,"p"),q(1,"contacts works!"),na())},encapsulation:2})};var _g=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-about"]],decls:2,vars:0,template:function(n,r){n&1&&(ta(0,"p"),q(1,"about works!"),na())},encapsulation:2})};var xz=(t,e,n)=>({"alert-success":t,"alert-info":e,"alert-danger":n});function kz(t,e){t&1&&(j(0,"div",3)(1,"span",5),q(2,"Loading..."),V()())}function Oz(t,e){if(t&1&&(j(0,"div",4),q(1),V()),t&2){let n=Qt();wt("ngClass",Gv(2,xz,n.feedbackMessage.includes("sucesso"),n.feedbackMessage.includes("j\xE1 existe"),n.feedbackMessage.includes("erro"))),oe(),qr(" ",n.feedbackMessage," ")}}var Eg=class t{constructor(e){this.firestore=e;this.checkAndSeedData()}feedbackMessage=null;isLoading=!0;owners=["JUE5HcJYlyWYUFdDbKChEmezj2r1"];checkAndSeedData(){return _(this,null,function*(){try{let e=Za(this.firestore,"Things");(yield $x(e)).empty?(yield this.seedData(),this.feedbackMessage='Cole\xE7\xE3o "Things" criada e populada com 15 itens!'):this.feedbackMessage='A cole\xE7\xE3o "Things" j\xE1 existe. Nenhuma a\xE7\xE3o foi necess\xE1ria.'}catch(e){console.error("Erro ao verificar ou criar dados:",e),this.feedbackMessage="Ocorreu um erro ao processar a solicita\xE7\xE3o."}finally{this.isLoading=!1}})}seedData(){return _(this,null,function*(){let e=Wx(this.firestore),n=Za(this.firestore,"Things");for(let r=1;r<=15;r++){let i=this.getRandomDate(),o=this.owners[Math.floor(Math.random()*this.owners.length)],s={name:`Coisa N\xBA ${r}`,description:`Descri\xE7\xE3o completa e sem embara\xE7os da coisa n\xFAmero ${r}.`,location:`Localiza\xE7\xE3o secreta e bem escondida da coisa ${r}`,photoURL:`https://picsum.photos/400/300?random=${r}`,createdAt:i,owner:o,status:"ON",metadata:{}},a=si(n);e.set(a,s)}yield e.commit()})}getRandomDate(){let e=new Date,n=new Date;n.setMonth(e.getMonth()-6);let r=n.getTime()+Math.random()*(e.getTime()-n.getTime());return new Date(r).toISOString()}static \u0275fac=function(n){return new(n||t)(G(Zn))};static \u0275cmp=It({type:t,selectors:[["app-seed-data"]],decls:7,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8","text-center"],["role","status",1,"spinner-border","text-primary","mt-4"],[1,"alert","mt-4",3,"ngClass"],[1,"visually-hidden"]],template:function(n,r){n&1&&(j(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),q(4,"Popula\xE7\xE3o de Dados"),V(),Je(5,kz,3,0,"div",3),Je(6,Oz,2,6,"div",4),V()()()),n&2&&(oe(5),Xe(r.isLoading?5:-1),oe(),Xe(r.feedbackMessage?6:-1))},dependencies:[wn,l_],encapsulation:2})};var Fz=t=>["/edit",t];function Lz(t,e){if(t&1){let n=Ai();j(0,"div",8)(1,"div",9)(2,"a",10),q(3," Editar "),ye(4,"i",11),V(),j(5,"button",12),Dt("click",function(){Lr(n);let i=Qt(2);return Vr(i.onDeleteThing())}),q(6," Apagar "),ye(7,"i",13),V()()()}if(t&2){let n=Qt(2);oe(2),wt("routerLink",au(1,Fz,n.thing.id))}}function Vz(t,e){if(t&1&&(j(0,"div",0)(1,"div",1)(2,"div",2),ye(3,"img",3),V()(),j(4,"div",1)(5,"div",2)(6,"div",4)(7,"h1",5),q(8),V(),j(9,"p",6),q(10),V(),ye(11,"hr"),j(12,"h5",7),q(13,"Descri\xE7\xE3o"),V(),j(14,"p"),q(15),V(),j(16,"h5",7),q(17,"Localiza\xE7\xE3o"),V(),j(18,"p"),q(19),V(),j(20,"h5",7),q(21,"Propriet\xE1rio"),V(),j(22,"p"),q(23),V(),j(24,"h5",7),q(25,"Criado em"),V(),j(26,"p"),q(27),Ri(28,"date"),V()()()()(),Je(29,Lz,8,3,"div",8)),t&2){let n=Qt();oe(3),wt("src",n.thing.photoURL,Fn)("alt",n.thing.name),oe(5),$t(n.thing.name),oe(2),qr("ID: ",n.thing.id),oe(5),$t(n.thing.description),oe(4),$t(n.thing.location),oe(4),$t(n.ownerDisplayName),oe(4),$t(Kv(28,9,n.thing.createdAt,"dd/MM/yyyy HH:mm")),oe(2),Xe(n.isOwner?29:-1)}}var Ig=class t{constructor(e,n,r,i,o){this.route=e;this.router=n;this.dataService=r;this.auth=i;this.titleService=o}thing=null;ownerDisplayName="Carregando...";currentUser=null;isOwner=!1;siteName="NgCRUD";ngOnInit(){let e=this.route.snapshot.paramMap.get("id");if(!e){this.router.navigate(["/home"]);return}Sa(this.auth).subscribe(n=>{this.currentUser=n}),this.dataService.getThingById(e).subscribe(n=>{if(this.thing=n,!this.thing||this.thing.status!=="ON"){this.router.navigate(["/home"]);return}this.titleService.setTitle(`${this.siteName} - ${this.thing.name}`),this.currentUser&&this.thing.owner===this.currentUser.uid&&(this.isOwner=!0),this.dataService.getUserById(this.thing.owner).subscribe(r=>{r?this.ownerDisplayName=r.displayName:this.ownerDisplayName="Usu\xE1rio n\xE3o encontrado"})})}onDeleteThing(){confirm("Tem certeza que deseja apagar este item?")&&this.thing&&this.isOwner&&this.dataService.updateThingStatus(this.thing.id,"OFF").subscribe({next:()=>{console.log("Item apagado com sucesso."),this.router.navigate(["/home"])},error:e=>{console.error("Erro ao apagar o item:",e),alert("Erro ao apagar o item. Tente novamente.")}})}static \u0275fac=function(n){return new(n||t)(G(Zt),G(Jt),G(no),G(Gn),G(sa))};static \u0275cmp=It({type:t,selectors:[["app-view"]],decls:1,vars:1,consts:[[1,"row"],[1,"col-md-6","mb-4"],[1,"card","shadow-sm","h-100"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title","text-primary"],[1,"card-text","text-muted"],[1,"mt-4"],[1,"row","mt-4"],[1,"col-12","text-center"],[1,"btn","btn-warning","me-2",3,"routerLink"],[1,"bi","bi-pencil-square"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash-fill"]],template:function(n,r){n&1&&Je(0,Vz,30,12),n&2&&Xe(r.thing?0:-1)},dependencies:[wn,Fi,d_],encapsulation:2})};var nk=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(G(Br),G(cr))};static \u0275dir=Nt({type:t})}return t})(),jz=(()=>{class t extends nk{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Js(t)))(i||t)}})();static \u0275dir=Nt({type:t,features:[$r]})}return t})(),rk=new $("");var Uz={provide:rk,useExisting:Ei(()=>Mg),multi:!0};function Bz(){let t=En()?En().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $z=new $(""),Mg=(()=>{class t extends nk{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Bz())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(G(Br),G(cr),G($z,8))};static \u0275dir=Nt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Dt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[su([Uz]),$r]})}return t})();function GD(t){return t==null||WD(t)===0}function WD(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var ik=new $(""),ok=new $(""),Hz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ro=class{static min(e){return qz(e)}static max(e){return zz(e)}static required(e){return Gz(e)}static requiredTrue(e){return Wz(e)}static email(e){return Kz(e)}static minLength(e){return Qz(e)}static maxLength(e){return Yz(e)}static pattern(e){return Zz(e)}static nullValidator(e){return sk()}static compose(e){return hk(e)}static composeAsync(e){return pk(e)}};function qz(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function zz(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Gz(t){return GD(t.value)?{required:!0}:null}function Wz(t){return t.value===!0?null:{required:!0}}function Kz(t){return GD(t.value)||Hz.test(t.value)?null:{email:!0}}function Qz(t){return e=>{let n=e.value?.length??WD(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function Yz(t){return e=>{let n=e.value?.length??WD(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function Zz(t){if(!t)return sk;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(GD(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function sk(t){return null}function ak(t){return t!=null}function ck(t){return Hr(t)?pe(t):t}function uk(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function lk(t,e){return e.map(n=>n(t))}function Jz(t){return!t.validate}function dk(t){return t.map(e=>Jz(e)?e:n=>e.validate(n))}function hk(t){if(!t)return null;let e=t.filter(ak);return e.length==0?null:function(n){return uk(lk(n,e))}}function fk(t){return t!=null?hk(dk(t)):null}function pk(t){if(!t)return null;let e=t.filter(ak);return e.length==0?null:function(n){let r=lk(n,e).map(ck);return Cm(r).pipe(Z(uk))}}function gk(t){return t!=null?pk(dk(t)):null}function Kx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function mk(t){return t._rawValidators}function yk(t){return t._rawAsyncValidators}function $D(t){return t?Array.isArray(t)?t:[t]:[]}function Tg(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qx(t,e){let n=$D(e);return $D(t).forEach(i=>{Tg(n,i)||n.push(i)}),n}function Yx(t,e){return $D(e).filter(n=>!Tg(t,n))}var bg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ec=class extends bg{name;get formDirective(){return null}get path(){return null}},Fl=class extends bg{_parent=null;name=null;valueAccessor=null},Cg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Xz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Pue=re(k({},Xz),{"[class.ng-submitted]":"isSubmitted"}),vk=(()=>{class t extends Cg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(G(Fl,2))};static \u0275dir=Nt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&dr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$r]})}return t})(),_k=(()=>{class t extends Cg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(G(ec,10))};static \u0275dir=Nt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&dr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[$r]})}return t})();var Pl="VALID",wg="INVALID",Ja="PENDING",xl="DISABLED",io=class{},Sg=class extends io{value;source;constructor(e,n){super(),this.value=e,this.source=n}},kl=class extends io{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ol=class extends io{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Xa=class extends io{status;source;constructor(e,n){super(),this.status=e,this.source=n}},HD=class extends io{source;constructor(e){super(),this.source=e}},Ll=class extends io{source;constructor(e){super(),this.source=e}};function KD(t){return(Pg(t)?t.validators:t)||null}function eG(t){return Array.isArray(t)?fk(t):t||null}function QD(t,e){return(Pg(e)?e.asyncValidators:t)||null}function tG(t){return Array.isArray(t)?gk(t):t||null}function Pg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ek(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[n])throw new U(1001,"")}function Ik(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new U(1002,"")})}var tc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return et(this.statusReactive)}set status(e){et(()=>this.statusReactive.set(e))}_status=ia(()=>this.statusReactive());statusReactive=_n(void 0);get valid(){return this.status===Pl}get invalid(){return this.status===wg}get pending(){return this.status==Ja}get disabled(){return this.status===xl}get enabled(){return this.status!==xl}errors;get pristine(){return et(this.pristineReactive)}set pristine(e){et(()=>this.pristineReactive.set(e))}_pristine=ia(()=>this.pristineReactive());pristineReactive=_n(!0);get dirty(){return!this.pristine}get touched(){return et(this.touchedReactive)}set touched(e){et(()=>this.touchedReactive.set(e))}_touched=ia(()=>this.touchedReactive());touchedReactive=_n(!1);get untouched(){return!this.touched}_events=new We;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yx(e,this._rawAsyncValidators))}hasValidator(e){return Tg(this._rawValidators,e)}hasAsyncValidator(e){return Tg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ol(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ol(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new kl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new kl(!0,r))}markAsPending(e={}){this.status=Ja;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xl,this.errors=null,this._forEachChild(i=>{i.disable(re(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sg(this.value,r)),this._events.next(new Xa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pl,this._forEachChild(r=>{r.enable(re(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pl||this.status===Ja)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sg(this.value,n)),this._events.next(new Xa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xl:Pl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ja,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=ck(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?xl:this.errors?wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ja)?Ja:this._anyControlsHaveStatus(wg)?wg:Pl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new kl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ol(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eG(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tG(this._rawAsyncValidators)}},Ag=class extends tc{constructor(e,n,r){super(KD(n),QD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ik(this,!0,e),Object.keys(e).forEach(r=>{Ek(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ll(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var qD=class extends Ag{};var wk=new $("",{providedIn:"root",factory:()=>YD}),YD="always";function nG(t,e){return[...e.path,t]}function Zx(t,e,n=YD){ZD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),iG(t,e),sG(t,e),oG(t,e),rG(t,e)}function Jx(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ng(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Rg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rG(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ZD(t,e){let n=mk(t);e.validator!==null?t.setValidators(Kx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=yk(t);e.asyncValidator!==null?t.setAsyncValidators(Kx(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Rg(e._rawValidators,i),Rg(e._rawAsyncValidators,i)}function Ng(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=mk(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=yk(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Rg(e._rawValidators,r),Rg(e._rawAsyncValidators,r),n}function iG(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Dk(t,e)})}function oG(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Dk(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Dk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sG(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function aG(t,e){t==null,ZD(t,e)}function cG(t,e){return Ng(t,e)}function uG(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function lG(t){return Object.getPrototypeOf(t.constructor)===jz}function dG(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hG(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Mg?n=o:lG(o)?r=o:i=o}),i||r||n||null}function fG(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Xx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ek(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Dg=class extends tc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(KD(n),QD(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ek(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Ll(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ek(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var pG=t=>t instanceof Dg;var Tk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Nt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var bk=new $("");var gG={provide:ec,useExisting:Ei(()=>JD)},JD=(()=>{class t extends ec{callSetDisabledState;get submitted(){return et(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=ia(()=>this._submittedReactive());_submittedReactive=_n(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ze;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ng(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Zx(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Jx(n.control||null,n,!1),fG(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),dG(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new HD(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Jx(r||null,n),pG(i)&&(Zx(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);aG(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&cG(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZD(this.form,this),this._oldForm&&Ng(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(G(ik,10),G(ok,10),G(wk,8))};static \u0275dir=Nt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Dt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[su([gG]),$r,Ur]})}return t})();var mG={provide:Fl,useExisting:Ei(()=>XD)},XD=(()=>{class t extends Fl{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Ze;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hG(this,o)}ngOnChanges(n){this._added||this._setUpControl(),uG(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return nG(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(G(ec,13),G(ik,10),G(ok,10),G(rk,10),G(bk,8))};static \u0275dir=Nt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[su([mG]),$r,Ur]})}return t})();var yG=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=lr({type:t});static \u0275inj=Mn({})}return t})(),zD=class extends tc{constructor(e,n,r){super(KD(n),QD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){Array.isArray(e)?e.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Ik(this,!1,e),e.forEach((r,i)=>{Ek(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ll(this))}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function tk(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Ck=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return tk(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ag(i,o)}record(n,r=null){let i=this._reduceControls(n);return new qD(i,r)}control(n,r,i){let o={};return this.useNonNullable?(tk(r)?o=r:(o.validators=r,o.asyncValidators=i),new Dg(n,re(k({},o),{nonNullable:!0}))):new Dg(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new zD(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Dg)return n;if(n instanceof tc)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Sk=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:bk,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:wk,useValue:n.callSetDisabledState??YD}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=lr({type:t});static \u0275inj=Mn({imports:[yG]})}return t})();function _G(t,e){t&1&&(j(0,"div",9),q(1,"O nome \xE9 obrigat\xF3rio."),V())}function EG(t,e){t&1&&(j(0,"div",9),q(1,"O nome deve ter pelo menos 3 caracteres."),V())}function IG(t,e){t&1&&(j(0,"div",9),q(1,"A descri\xE7\xE3o \xE9 obrigat\xF3ria."),V())}function wG(t,e){t&1&&(j(0,"div",9),q(1,"A localiza\xE7\xE3o \xE9 obrigat\xF3ria."),V())}function DG(t,e){t&1&&(j(0,"div",9),q(1,"A URL da foto \xE9 obrigat\xF3ria."),V())}function TG(t,e){t&1&&(j(0,"div",9),q(1,"Insira um URL v\xE1lido (come\xE7ando com http:// ou https://)."),V())}function bG(t,e){if(t&1&&(j(0,"div",16),ye(1,"img",22),V()),t&2){let n,r=Qt();oe(),wt("src",(n=r.thingForm.get("photoURL"))==null?null:n.value,Fn)}}var Vl=class t{constructor(e,n,r,i,o,s){this.fb=e;this.route=n;this.router=r;this.dataService=i;this.titleService=o;this.auth=s;this.initForm()}thingForm;isEditMode=!1;thingId=null;currentUser=null;formTitle="Cadastrar Nova Coisa";ngOnInit(){Sa(this.auth).pipe(nn(1)).subscribe(e=>{this.currentUser=e}),this.thingId=this.route.snapshot.paramMap.get("id"),this.isEditMode=!!this.thingId,this.isEditMode&&this.thingId?(this.loadThingData(this.thingId),this.formTitle="Editar Coisa",this.titleService.setTitle("Editar Item | NGCRUD")):this.titleService.setTitle("Novo Item | NGCRUD")}initForm(){this.thingForm=this.fb.group({name:["",[ro.required,ro.minLength(3)]],description:["",[ro.required]],location:["",[ro.required]],photoURL:["",[ro.required]]})}loadThingData(e){this.dataService.getThingById(e).pipe(nn(1)).subscribe(n=>{if(n){if(this.currentUser&&n.owner!==this.currentUser.uid){alert("Voc\xEA n\xE3o tem permiss\xE3o para editar este item."),this.router.navigate(["/home"]);return}this.thingForm.patchValue({name:n.name,description:n.description,location:n.location,photoURL:n.photoURL})}else this.router.navigate(["/home"])})}onSubmit(){if(this.thingForm.invalid||!this.currentUser){alert("Formul\xE1rio inv\xE1lido ou usu\xE1rio n\xE3o autenticado.");return}let e=this.thingForm.value,n=k({},e),r=this.currentUser.uid,i=this.isEditMode?this.thingId:null;this.dataService.saveThing(i,n,r).subscribe({next:o=>{alert(`Item ${this.isEditMode?"atualizado":"cadastrado"} com sucesso! ID: ${o}`),this.router.navigate(["/view",o])},error:o=>{console.error("Erro ao salvar o item:",o),alert("Ocorreu um erro ao salvar o item.")}})}static \u0275fac=function(n){return new(n||t)(G(Ck),G(Zt),G(Jt),G(no),G(sa),G(Gn))};static \u0275cmp=It({type:t,selectors:[["app-save-thing"]],decls:37,vars:19,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow-sm","p-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name",1,"form-control"],[1,"invalid-feedback"],["for","description",1,"form-label"],["id","description","formControlName","description","rows","3",1,"form-control"],["for","location",1,"form-label"],["type","text","id","location","formControlName","location",1,"form-control"],["for","photoURL",1,"form-label"],["type","text","id","photoURL","formControlName","photoURL",1,"form-control"],[1,"mt-2","text-center"],[1,"d-flex","justify-content-between","mt-4"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-arrow-left"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-save"],["alt","Pr\xE9-visualiza\xE7\xE3o",2,"max-width","100%","max-height","200px","object-fit","cover",3,"src"]],template:function(n,r){if(n&1&&(j(0,"div",0)(1,"h2",1),q(2),V(),j(3,"div",2)(4,"div",3)(5,"div",4)(6,"form",5),Dt("ngSubmit",function(){return r.onSubmit()}),j(7,"div",6)(8,"label",7),q(9,"Nome da Coisa"),V(),ye(10,"input",8),Je(11,_G,2,0,"div",9),Je(12,EG,2,0,"div",9),V(),j(13,"div",6)(14,"label",10),q(15,"Descri\xE7\xE3o"),V(),ye(16,"textarea",11),Je(17,IG,2,0,"div",9),V(),j(18,"div",6)(19,"label",12),q(20,"Localiza\xE7\xE3o"),V(),ye(21,"input",13),Je(22,wG,2,0,"div",9),V(),j(23,"div",6)(24,"label",14),q(25,"URL da Foto"),V(),ye(26,"input",15),Je(27,DG,2,0,"div",9),Je(28,TG,2,0,"div",9),Je(29,bG,2,1,"div",16),V(),j(30,"div",17)(31,"button",18),Dt("click",function(){return r.router.navigate(["/home"])}),ye(32,"i",19),q(33," Voltar "),V(),j(34,"button",20),ye(35,"i",21),q(36),V()()()()()()()),n&2){let i,o,s,a,u,l,h,p,g,y,D;oe(2),$t(r.formTitle),oe(4),wt("formGroup",r.thingForm),oe(4),dr("is-invalid",((i=r.thingForm.get("name"))==null?null:i.invalid)&&((i=r.thingForm.get("name"))==null?null:i.touched)),oe(),Xe((o=r.thingForm.get("name"))!=null&&o.hasError("required")&&((o=r.thingForm.get("name"))!=null&&o.touched)?11:-1),oe(),Xe((s=r.thingForm.get("name"))!=null&&s.hasError("minlength")?12:-1),oe(4),dr("is-invalid",((a=r.thingForm.get("description"))==null?null:a.invalid)&&((a=r.thingForm.get("description"))==null?null:a.touched)),oe(),Xe((u=r.thingForm.get("description"))!=null&&u.hasError("required")&&((u=r.thingForm.get("description"))!=null&&u.touched)?17:-1),oe(4),dr("is-invalid",((l=r.thingForm.get("location"))==null?null:l.invalid)&&((l=r.thingForm.get("location"))==null?null:l.touched)),oe(),Xe((h=r.thingForm.get("location"))!=null&&h.hasError("required")&&((h=r.thingForm.get("location"))!=null&&h.touched)?22:-1),oe(4),dr("is-invalid",((p=r.thingForm.get("photoURL"))==null?null:p.invalid)&&((p=r.thingForm.get("photoURL"))==null?null:p.touched)),oe(),Xe((g=r.thingForm.get("photoURL"))!=null&&g.hasError("required")&&((g=r.thingForm.get("photoURL"))!=null&&g.touched)?27:-1),oe(),Xe((y=r.thingForm.get("photoURL"))!=null&&y.hasError("pattern")?28:-1),oe(),Xe((D=r.thingForm.get("photoURL"))!=null&&D.valid?29:-1),oe(5),wt("disabled",r.thingForm.invalid),oe(2),qr(" ",r.isEditMode?"Salvar Altera\xE7\xF5es":"Cadastrar"," ")}},dependencies:[wn,Sk,Tk,Mg,vk,_k,JD,XD],encapsulation:2})};var ls="NgCRUD",Ak=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:yg,title:ls},{path:"contacts",component:vg,title:`${ls} - Fa\xE7a Contato`},{path:"about",component:_g,title:`${ls} - Sobre`},{path:"seed-data",component:Eg,title:`${ls} - Cadastro de Coisas`},{path:"view/:id",component:Ig,title:`${ls} - Ver Item`},{path:"edit/:id",component:Vl,title:`${ls} - Editar Item`},{path:"new",component:Vl,title:`${ls} - Cadastrar Item`},{path:"**",redirectTo:"/home"}];var Rk={providers:[Sy(),Zv({eventCoalescing:!0}),Z_(Ak),ZR(()=>JR({projectId:"ribeirofamily-ac13e",appId:"1:529531568319:web:3ebcc1961f8ec1f15f860a",storageBucket:"ribeirofamily-ac13e.firebasestorage.app",apiKey:"AIzaSyB-67wYkv2JRM8Q6YeBu9Cfg-RgJk8kxUU",authDomain:"ribeirofamily-ac13e.firebaseapp.com"})),JN(()=>XN()),Ux(()=>Hx())]};var xg=class t{constructor(e,n){this.auth=e;this.firestore=n;this.user$=po(()=>Sa(this.auth)).pipe(at(r=>{if(!r)return new ee(o=>o.next(null));let i=si(this.firestore,"Users",r.uid);return pe(Ml(i)).pipe(at(o=>{let s=new Date().toISOString();if(o.exists())return pe(VD(i,{lastLoginAt:s},{merge:!0})).pipe(Z(()=>r));{let a={displayName:r.displayName,email:r.email,photoURL:r.photoURL,uid:r.uid,lastLoginAt:s,role:"user",status:"ON",createdAt:s};return pe(VD(i,a)).pipe(Z(()=>r))}}))}))}user$;loginWithGoogle(){return eM(this.auth,new rI)}logout(){return tM(this.auth)}static \u0275fac=function(n){return new(n||t)(z(Gn),z(Zn))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})};function SG(t,e){if(t&1){let n=Ai();j(0,"a",33),Dt("click",function(){Lr(n);let i=Qt();return Vr(i.confirmLogout())}),ye(1,"img",34),V()}if(t&2){let n=e;oe(),wt("src",n.photoURL,Fn)("alt",n.displayName)("title",n.displayName)}}function AG(t,e){if(t&1){let n=Ai();j(0,"a",33),Dt("click",function(){Lr(n);let i=Qt();return Vr(i.authService.loginWithGoogle())}),ye(1,"i",35),V()}}function RG(t,e){if(t&1){let n=Ai();j(0,"a",36),Dt("click",function(){Lr(n);let i=Qt();return Vr(i.confirmLogout())}),ye(1,"img",37),j(2,"span"),q(3),V()()}if(t&2){let n=e;oe(),wt("src",n.photoURL,Fn)("alt",n.displayName)("title",n.displayName),oe(2),$t(n.displayName)}}function NG(t,e){if(t&1){let n=Ai();j(0,"a",36),Dt("click",function(){Lr(n);let i=Qt();return Vr(i.authService.loginWithGoogle())}),ye(1,"i",38),j(2,"span"),q(3,"Login"),V()()}}var kg=class t{constructor(e){this.authService=e}title="ngcrud";confirmLogout(){confirm("Tem certeza que deseja sair?")&&this.authService.logout()}static \u0275fac=function(n){return new(n||t)(G(xg))};static \u0275cmp=It({type:t,selectors:[["app-root"]],decls:63,vars:6,consts:[[1,"d-flex","flex-column","min-vh-100"],[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark"],[1,"container"],["routerLink","/home",1,"navbar-brand"],[1,"bi","bi-database"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler","d-sm-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavbar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","align-items-center"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/new",1,"nav-link"],["routerLink","/contacts",1,"nav-link"],["routerLink","/about",1,"nav-link"],[1,"nav-link"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end","text-bg-dark","d-sm-none"],[1,"offcanvas-header"],["id","offcanvasNavbarLabel",1,"offcanvas-title"],[1,"bi","bi-database-fill"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close","btn-close-white"],[1,"offcanvas-body"],[1,"navbar-nav","justify-content-end","flex-grow-1","pe-3"],["routerLink","/home",1,"nav-link","ps-2"],[1,"bi","bi-house-fill","pe-2",2,"font-size","1.2rem"],["routerLink","/new",1,"nav-link","ps-2"],["routerLink","/contacts",1,"nav-link","ps-2"],[1,"bi","bi-chat-dots-fill","pe-2",2,"font-size","1.2rem"],["routerLink","/about",1,"nav-link","ps-2"],[1,"bi","bi-info-circle-fill","pe-2",2,"font-size","1.2rem"],["data-bs-dismiss","offcanvas",1,"nav-link","ps-2","d-flex","align-items-center"],[1,"container","flex-grow-1","mt-3"],[1,"bg-dark","text-white","text-center","p-3","mt-4"],[1,"mb-0"],[1,"nav-link",3,"click"],["width","32","height","32","referrerpolicy","no-referrer",1,"rounded-circle",3,"src","alt","title"],[1,"bi","bi-person-circle",2,"font-size","1.5rem"],["data-bs-dismiss","offcanvas",1,"nav-link","ps-2","d-flex","align-items-center",3,"click"],["width","32","height","32","referrerpolicy","no-referrer",1,"rounded-circle","me-2",3,"src","alt","title"],[1,"bi","bi-person-circle","me-2",2,"font-size","2rem"]],template:function(n,r){if(n&1&&(j(0,"div",0)(1,"nav",1)(2,"div",2)(3,"a",3),q(4,"NG"),ye(5,"i",4),q(6,"CRUD"),V(),j(7,"button",5),ye(8,"span",6),V(),j(9,"div",7)(10,"ul",8)(11,"li",9)(12,"a",10),q(13,"In\xEDcio"),V()(),j(14,"li",9)(15,"a",11),q(16,"Novo"),V()(),j(17,"li",9)(18,"a",12),q(19,"Contatos"),V()(),j(20,"li",9)(21,"a",13),q(22,"Sobre"),V()(),j(23,"li",9),Je(24,SG,2,3,"a",14),Ri(25,"async"),ea(26,AG,2,0,"a",14),V()()()()(),j(27,"div",15)(28,"div",16)(29,"h1",17),q(30,"NG"),ye(31,"i",18),q(32,"CRUD"),V(),ye(33,"button",19),V(),j(34,"div",20)(35,"ul",21)(36,"li",9)(37,"a",22),ye(38,"i",23),q(39,"In\xEDcio"),V()(),j(40,"li",9)(41,"a",24),ye(42,"i",23),q(43,"Novo"),V()(),j(44,"li",9)(45,"a",25),ye(46,"i",26),q(47,"Contatos"),V()(),j(48,"li",9)(49,"a",27),ye(50,"i",28),q(51,"Sobre"),V()(),j(52,"li",9),ye(53,"hr"),V(),j(54,"li",9),Je(55,RG,4,4,"a",29),Ri(56,"async"),ea(57,NG,4,0,"a",29),V()()()(),j(58,"main",30),ye(59,"router-outlet"),V(),j(60,"footer",31)(61,"p",32),q(62,"\xA9 Copyright 2025 Joca da Silva"),V()()()),n&2){let i,o;oe(24),Xe((i=ra(25,2,r.authService.user$))?24:26,i),oe(31),Xe((o=ra(56,4,r.authService.user$))?55:57,o)}},dependencies:[wn,Fu,X_,Fi,mu],styles:["@media (max-width: 575.98px){.offcanvas[_ngcontent-%COMP%]{max-width:280px}}a[_ngcontent-%COMP%]{cursor:pointer}.nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}"]})};w_(kg,Rk).catch(t=>console.error(t));
